<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
<!-- 启用Chromium高速渲染模式 -->
<meta name="renderer" content="webkit" />
<meta name="force-rendering" content="webkit"/>
<!-- 禁止百度转码 -->
<meta name="applicable-device" content="pc,mobile" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<!-- 禁止识别电话号码 -->
<meta name="format-detection" content="telephone=no" />

<link rel="shortcut icon" href="../favicon_3.ico" />
<link href="../templets/new/style/common_2.css" rel="stylesheet" />
<title>FTP的基本使用（非常详细）</title>
<meta name="description" content="有了 FTP 服务器以后，客户端就可以与其建立连接，进行登录，然后进行文件传输，并实现各种操作，如上传文件/目录、下载文件/目录、列出目录信息等操作。 下面介绍 FTP 操作的基本" />
</head>
<body>
<div id="topbar" class="clearfix">
	<ul id="product-type" class="left">
		<li>
			<a href="../m_biancheng_default_2.html"><span class="iconfont iconfont-home"></span>首页</a>
		</li>
		<li class="active">
			<a href="../sitemap/sitemap_2.html" rel="nofollow"><span class="iconfont iconfont-book"></span>教程</a>
		</li>
		<li>
			<a href="http://vip.biancheng.net/p/vip/show.php" rel="nofollow" target="_blank"><span class="iconfont iconfont-vip"></span>VIP会员</a>
		</li>
		<li>
			<a href="../fudao_biancheng_default.html" rel="nofollow" target="_blank"><span class="iconfont iconfont-fudao"></span>辅导班</a>
		</li>
		<li>
			<a href="niz69i_5.html" target="_blank"><span class="iconfont iconfont-chip"></span>嵌入式学习路线</a>
		</li>
		<!-- <li>
			<a href="https://www.54benniao.com/c_course/?from=biancheng" target="_blank"><span class="iconfont iconfont-c-course"></span>C语言高级课程</a>
		</li>
		<li>
			<a href="https://www.54benniao.com/java_course/?from=biancheng" target="_blank"><span class="iconfont iconfont-java-course"></span>Java高级课程</a>
		</li>
		<li>
			<a href="http://vip.biancheng.net/p/q2a/show.php" rel="nofollow" target="_blank"><span class="iconfont iconfont-q2a"></span>一对一答疑</a>
		</li> -->
	</ul>
</div>
<div id="header" class="clearfix">
	<a id="logo" class="left" href="../m_biancheng_default_2.html">
		<img height="26" src="../templets/new/images/logo_2.png" alt="C语言中文网" />
	</a>
	<ul id="nav-main" class="hover-none left clearfix">
		<li class="wap-yes"><a href="../m_biancheng_default_2.html">首页</a></li>
		<li><a href="../c/c_4.html">C语言教程</a></li>
		<li><a href="../cplus/cplus_2.html">C++教程</a></li>
		<li><a href="../python/python_2.html">Python教程</a></li>
		<li><a href="../java/java_2.html">Java教程</a></li>
		<li><a href="../linux_tutorial/linux_tutorial_2.html">Linux入门</a></li>
		<li><a href="../sitemap/sitemap_2.html" title="网站地图">更多&gt;&gt;</a></li>
	</ul>
	<a href="http://vip.biancheng.net/?from=topbar" class="user-info iconfont iconfont-user hover-none" target="_blank" rel="nofollow" title="用户中心"></a>
</div>
<div id="main-no-course" class="clearfix">
	<div class="arc-info">
		<span class="position"><span class="iconfont iconfont-home2"></span> <a href="../m_biancheng_default_2.html">首页</a> &gt; 编程笔记</span>
	</div>
	<div id="ggxc-position-bottom" class="ggxc-box"></div>
	<h1>FTP的基本使用（非常详细）</h1>
	<div id="ggxc-arctop-pc-1" class="ggxc-box"></div>
	<div id="arc-body">有了 FTP 服务器以后，客户端就可以与其建立连接，进行登录，然后进行文件传输，并实现各种操作，如上传文件/目录、下载文件/目录、列出目录信息等操作。<br />
<br />
下面介绍 FTP 操作的基本使用。
<h2>
	构建 FTP 服务器</h2>
使用 FTP 服务，首先需要构建一个 FTP 服务器。为了便于测试，这里使用 netwox 工具中编号为 168 的模块，它可以在主机上构建一个 FTP 服务器。<br />
<br />
其语法格式如下：
<p class="info-box">
	netwox 168 -l login -L password</p>
参数说明：
<ul>
	<li>
		-l 选项用来指定 FTP 服务器登录的用户名。</li>
	<li>
		-L 选项用来指定 FTP 服务器登录的密码。</li>
</ul>
<h2>
	下载文件及校验</h2>
为了检查文件在传输过程中是否有损坏，需要对文件进行校验。一般情况下，会在文件传输之前计算它的哈希值，传输后再次计算它的哈希值。如果两次的哈希值一样，则表示文件没有损坏。<br />
<br />
netwox 工具提供编号为 174 的模块，它可以从 FTP 服务器端下载文件，并检查它的 MD5 哈希值。<br />
<br />
其语法格式如下：
<p class="info-box">
	netwox 174 -i IP -F file -m MD5 -u login -a password</p>
参数说明：
<ul>
	<li>
		-i 选项指定 FTP 服务器的 IP 地址。</li>
	<li>
		-F 选项指定要下载的文件名称。</li>
	<li>
		-m 选项指定文件预期的 MD5 哈希值。</li>
	<li>
		-u 选项指定 FTP 服务器登录的用户名。</li>
	<li>
		-a 选项指定登录的密码。</li>
</ul>
<br />
【实例】已知 FTP 服务器的 IP 地址为 192.168.59.135，登录用户名为 sm，密码为 123。在该服务器上有一个 file.txt 文件。使用 netwox 工具，下载该文件，并校验其哈希值。<br />
<br />
1) 假设文件的哈希值为 c23f95941f9e226044a622c925b5fd2b，执行命令如下：
<p class="info-box">
	root@daxueba:~# netwox 174 -i 192.168.59.135 -F file.txt 4566.txt &ndash;m c23f95941f9e226044a622c925b5fd2b -u sm -a 123</p>
执行命令后，没有输出任何信息，表示下载文件 file.txt 的哈希值和指定值是一致的。<br />
<br />
2) 如果提供一个错误的哈希值 12345678901234567890123456789012，执行命令如下：
<p class="info-box">
	root@daxueba:~# netwox 174 -i 192.168.59.135 -F file.txt -m 12345678901234567890123456789012 -u sm -a 123</p>
输出信息如下：
<p class="info-box">
	MD5 is c23f95941f9e226044a622c925b5fd2b instead of 12345678901234567890123456789012</p>
以上输出信息表示，file.txt 文件的 MD5 哈希值不是 12345678901234567890123456789012，而是 c23f95941f9e226044a622c925b5fd2b。
<h2>
	列出 FTP 服务器上目录列表信息</h2>
成功登录 FTP 服务器以后，用户就可以查看服务器上的目录信息了。netwox 工具提供了一个编号为 111 的模块，它可以列出当前目录下的所有信息，但不能列出子目录中的信息。<br />
<br />
其语法格式如下：
<p class="info-box">
	netwox 111 -i IP --dir file.txt -u login -a password</p>
参数说明：
<ul>
	<li>
		-i 选项指定 FTP 服务器的 IP 地址。</li>
	<li>
		--dir 选项指定要列出的目录名称。</li>
	<li>
		-u 选项指定登录的用户名。</li>
	<li>
		-a 选项指定登录的密码。</li>
</ul>
<br />
【实例】已知 FTP 服务器上有一个目录 content。使用 netwox 工具列出该目录中的信息，具体步骤如下：<br />
<br />
1) 在 FTP 服务器上，查看该目录的信息，执行命令如下：
<p class="info-box">
	root@daxueba:~# ls content/</p>
输出信息如下：
<p class="info-box">
	dir-1&nbsp; dir-2&nbsp; file.txt&nbsp; pass-1.txt&nbsp; pass-2.txt</p>
以上输出信息表示该目录中包含了 3 个文件和 2 个目录。<br />
<br />
2) 使用 netwox 工具，在客户端列出该文件夹的目录信息，执行命令如下：
<p class="info-box">
	root@daxueba:~# netwox 111 -i 192.168.59.135 --dir content -u sm -a 123</p>
输出信息如下：
<p class="info-box">
	pass-1.txt (file of size 23)<br />
	file.txt (file of size 27)<br />
	pass-2.txt (file of size 18)<br />
	dir-2 (dir)<br />
	dir-1 (dir)</p>
将以上输出信息与步骤（1）的输出信息对比可以看出，成功列出了该目录中的所有信息，包含的文件分别为 pass-1.txt，file.txt 和 pass-3.txt，并且给出了对应的大小。
<h2>
	下载文件</h2>
成功登录 FTP 服务器以后，用户就可以从服务器上下载文件了。netwox 工具提供了编号为 112 的模块，它可以从 FTP 服务器上下载指定文件。<br />
<br />
其语法格式如下：
<p class="info-box">
	netwox 112 -i IP -F file1.txt -f file2.txt -u login -a password</p>
参数说明：
<ul>
	<li>
		-i 选项指定 FTP 服务器的 IP 地址。</li>
	<li>
		-F 选项指定 FTP 服务器上的文件名称，即要下载的文件。</li>
	<li>
		-f 选项指定下载到本机后的文件名称。</li>
	<li>
		-u 选项指定登录的用户名。</li>
	<li>
		-a 选项指定登录的密码。</li>
</ul>
<br />
【实例】从 FTP 服务器上下载文件 file.txt，下载后的文件名称命名为 keep.txt。执行命令如下：
<p class="info-box">
	root@daxueba:~# netwox 112 -i 192.168.59.135 -F file.txt -f keep.txt -u sm -a 123</p>
执行命令后没有任何输出信息，但是会成功下载文件 file.txt，下载后的文件名为 keep.txt。
<h2>
	上传文件</h2>
成功登录 FTP 服务器以后，用户还可以向服务器上传文件。netwox 工具提供了编号为 113 的模块，实现文件上传功能。<br />
<br />
其语法格式如下：
<p class="info-box">
	netwox 113 -i IP -f file1.txt -F file2.txt -u login -a password</p>
参数说明：
<ul>
	<li>
		-i 选项指定 FTP 服务器的IP地址。</li>
	<li>
		-f 选项指定要上传的文件名称，即本地文件。</li>
	<li>
		-F 选项指定上传到 FTP 服务器后的文件名称。</li>
	<li>
		-u 选项指定登录的用户名。</li>
	<li>
		-a 选项指定登录的密码。</li>
</ul>
<br />
【实例】将本地文件 keep1.txt 上传到 FTP 服务器上，命名为 keep2.txt。执行命令如下：
<p class="info-box">
	root@daxueba:~# netwox 113 -i 192.168.59.135 -f keep1.txt -F keep2.txt &ndash;u sm -a 123</p>
执行命令后没有任何输出信息，但是会将本地文件 keep1.txt 上传到 FTP 服务器上，文件名为 keep2.txt。
<h2>
	FTP 删除文件</h2>
登录 FTP 服务器后，用户还可以在客户端上删除 FTP 服务器上的文件。netwox 工具提供了编号为 114 的模块实现该功能。<br />
<br />
其语法格式如下：
<p class="info-box">
	netwox 114 -i IP -F file -u login -a password</p>
参数说明：
<ul>
	<li>
		-i 选项指定 FTP 服务器的 IP 地址。</li>
	<li>
		-F 选项指定要删除 FTP 服务器上的文件名称。</li>
	<li>
		-u 选项指定登录的用户名。</li>
	<li>
		-a 选项指定登录的密码。</li>
</ul>
<br />
【实例】删除 FTP 服务器上的 file.txt 文件，执行命令如下：
<p class="info-box">
	root@daxueba:~# netwox 114 -i 192.168.59.135 -F file.txt -u sm -a 123</p>
执行命令后没有任何输出信息，但是会将 FTP 服务器上的 file.txt 文件删除。
<h2>
	下载目录</h2>
netwox 工具中编号为 112 的模块可以下载指定的文件。如果要下载服务器上某个目录，需要使用编号为 114 的模块。该模块不仅可以下载目录，还可以列出目录及子目录信息。<br />
<br />
其语法格式如下：
<p class="info-box">
	netwox 114 -i IP -F DIR1 -f DIR2 -u login -a password</p>
参数说明：
<ul>
	<li>
		-i 选项指定 FTP 服务器的 IP 地址。</li>
	<li>
		-F 选项指定 FTP 服务器的目录名称。</li>
	<li>
		-f 选项用来指定下载的目录在本地显示的目录名称。</li>
	<li>
		-u 选项用来指定 FTP 服务器登录的用户名。</li>
	<li>
		-a 选项用来指定 FTP 服务器登录的密码。</li>
</ul>
<br />
【实例】已知 FTP 服务器上有一个目录 Dir，使用 netwox 工具下载该目录的所有内容。具体步骤如下：<br />
<br />
1) 查看目录 Dir 包含的信息，执行命令如下：
<p class="info-box">
	root@daxueba:~# ls Dir -R</p>
输出信息如下：
<p class="info-box">
	Dir:<br />
	dir-1&nbsp; dir-2&nbsp; dir-3&nbsp; pass.txt<br />
	<br />
	Dir/dir-1:<br />
	file-1.txt<br />
	<br />
	Dir/dir-2:<br />
	file-2.txt<br />
	<br />
	Dir/dir-3:<br />
	file-3.txt</p>
以上输出信息表示目录Dir中包含了 3 个子目录，分别为 dir-1，dir-2 和 dir-3，还包含了一个文件 pass.txt。<br />
<br />
在子目录 dir-1 中包含了一个文件 file-1.txt，在子目录 dir-2 中包含了一个文件 file-2.txt，在子目录 dir-3 中包含了一个文件 file-3.txt。<br />
<br />
2) 使用 netwox 工具从 FTP 服务器下载目录 Dir 中的所有目录信息，下载后目录名称为 DIR，执行命令如下：
<p class="info-box">
	root@daxueba:~# netwox 115 -i 192.168.59.135 -F Dir -f DIR -u sm -a 123</p>
输出信息如下：
<p class="info-box">
	DIR/dir-3<br />
	DIR/dir-3/file-3.txt<br />
	DIR/dir-2<br />
	DIR/dir-2/file-2.txt<br />
	DIR/pass.txt<br />
	DIR/dir-1<br />
	DIR/dir-1/file-1.txt</p>
将以上输出信息与步骤（1）的输出信息进行对比，可以看出成功下载了所有的信息。
<h2>
	上传目录</h2>
登录 FTP 服务器以后，用户不仅可以从服务器下载整个目录，还可以将本地的目录上传到 FTP 服务器。netwox 工具提供了编号为 116 的模块，它可以进行递归上传，将本地目录以及子目录中的内容都上传到服务器。<br />
<br />
其语法格式如下：
<p class="info-box">
	netwox 116 -i IP -f DIR1 -F DIR2 -u login -a password</p>
参数说明：
<ul>
	<li>
		-i 选项指定 FTP 服务器的 IP 地址。</li>
	<li>
		-f 选项指定要上传的本地目录名称。</li>
	<li>
		-F 选项指定上传到 FTP 服务器的目录名称。</li>
	<li>
		-u 选项指定登录的用户名。</li>
	<li>
		-a 选项指定登录的密码。</li>
</ul>
<br />
【实例】将本地目录 DIR 上传到服务器，上传后的目录名称设置为 Mydir，执行命令如下：
<p class="info-box">
	root@daxueba:~# netwox 116 -i 192.168.59.135 -f DIR -F Mydir -u sm -a 123</p>
输出信息如下：
<p class="info-box">
	DIR/dir-3<br />
	DIR/dir-3/file-3.txt<br />
	DIR/dir-2<br />
	DIR/dir-2/file-2.txt<br />
	DIR/pass.txt<br />
	DIR/dir-1<br />
	DIR/dir-1/file-1.txt</p>
以上输出信息显示了上传目录的所有文件和子目录，可以看到上传了目录下的子目录 dir-1，dir-2，dir-3 和多个文件。
<h2>
	递归删除目录</h2>
如果 FTP 服务器上的某个目录不再需要，可以将其删除。netwox 工具中编号为 117 的模块提供了删除目录的功能。它可以递归删除目录中的所有信息，包括子目录及子目录下的所有内容。<br />
<br />
其语法格式如下：
<p class="info-box">
	netwox 117 -i IP -F DIR -u login -a password</p>
参数说明：
<ul>
	<li>
		-i 选项指定 FTP 服务器的 IP 地址。</li>
	<li>
		-F 选项指定要删除的 FTP 服务器上的目录名称。</li>
	<li>
		-u 选项指定登录的用户名。</li>
	<li>
		-a 选项指定登录的密码。</li>
</ul>
<br />
【实例】删除 FTP 服务器上的 Mydir 目录，执行命令如下：
<p class="info-box">
	root@daxueba:~# netwox 117 -i 192.168.59.135 -F Mydir -u sm -a 123</p>
输出信息如下：
<pre class="info-box">
Entering directory Mydir
Entering directory dir-3
Deleting file file-3.txt
Leaving directory dir-3
Deleting directory dir-3
Entering directory dir-2
Deleting file file-2.txt
Leaving directory dir-2
Deleting directory dir-2
Deleting file pass.txt
Entering directory dir-1
Deleting file file-1.txt
Leaving directory dir-1
Deleting directory dir-1
Deleting directory Mydir</pre>
以上输出信息显示了递归删除目录内容的整个过程。<br />
<br />
例如，首先进入目录 Mydir。由于该目录中包含子目录 dir-3，再进入子目录 dir-3 中；将该子目录中的文件 file-3.txt 进行删除，然后离开子目录 dir-3，删除该子目录。以此类推，删除指定目录中的所有信息。<br />
</div>
	<div id="ggxc-weixin-arcbottom">
	<p>关注公众号「<span class="col-green">站长严长生</span>」，在手机上阅读所有教程，随时随地都能学习。内含一款搜索神器，免费下载全网书籍和视频。</p>
	<p style="margin-top:12px; text-align:center;">
		<img src="../templets/new/images/material/qrcode_mp_4.png" alt="公众号二维码" width="160" /><br />
		<span class="col-green">微信扫码关注公众号</span>
	</p>
</div>
	<div id="nice-arcs" class="box-bottom">
    <h4>推荐阅读</h4>
    <ul class="clearfix">
<li><a href="niz69i_8.html" title="一套完整的嵌入式开发学习路线（高薪就业版）" target="_blank">一套完整的嵌入式开发学习路线（高薪就业版）</a></li>
<li><a href="tnnfqo_4.html" title="一套课程卖1万，TMD太贵了！" target="_blank">一套课程卖1万，TMD太贵了！</a></li>
<li><a href="unnurw_4.html" title="跑了3000公里，见了一位大佬" target="_blank">跑了3000公里，见了一位大佬</a></li>
<li><a href="vip_3508_2.html" title="关于Linux Shell中进程、信号和捕获的总结" target="_blank">关于Linux Shell中进程、信号和捕获的总结</a></li>
<li><a href="vip_7728_2.html" title="priority_queue容器适配器实现自定义排序" target="_blank">priority_queue容器适配器实现自定义排序</a></li>
<li><a href="../css3/outline_2.html" title="CSS outline（轮廓）" target="_blank">CSS outline（轮廓）</a></li>
<li><a href="../redis/pubsub_2.html" title="Redis PubSub发布订阅（详细图解）" target="_blank">Redis PubSub发布订阅（详细图解）</a></li>
<li><a href="vip_9662_2.html" title="Qt自定义信号和槽函数" target="_blank">Qt自定义信号和槽函数</a></li>
<li><a href="vip_9756_2.html" title="手机上运行Python程序" target="_blank">手机上运行Python程序</a></li>
<li><a href="tqieqy_2.html" title="C语言链表" target="_blank">C语言链表</a></li>
</ul>
</div>
	
</div>
<script type="text/javascript">
// 当前文章ID
window.arcIdRaw = 'a_' + 6483;
window.arcId = "65c4wEiIvNoQhypQ51rBD9P7HuOMHXoE05HrA5nEeaJORIcI/o2oEcp1MV4";
window.typeidChain = "325|119";
</script>
<div id="footer" class="clearfix">
	<div class="info left">
	<p>精美而实用的网站，分享优质编程教程，帮助有志青年。千锤百炼，只为大作；精益求精，处处斟酌；这种教程，看一眼就倾心。</p>
	<p>
		<a href="8066_2.html" target="_blank" rel="nofollow">关于网站</a> <span>|</span>
		<a href="8092_3.html" target="_blank" rel="nofollow">关于站长</a> <span>|</span>
		<a href="8097_2.html" target="_blank" rel="nofollow">如何完成一部教程</a> <span>|</span>
		<a href="9648_2.html" target="_blank" rel="nofollow">公众号</a> <span>|</span>
		<a href="8093_2.html" target="_blank" rel="nofollow">联系我们</a> <span>|</span>
		<a href="../sitemap/sitemap_2.html" target="_blank" rel="nofollow">网站地图</a>
	</p>
	<p>Copyright ©2012-2022 biancheng.net, <a href="https://beian.miit.gov.cn" target="_blank" rel="nofollow" style="color:#666;">冀ICP备2022013920号</a>, <img height="13" src="../templets/new/images/gongan_2.png" alt="公安备案图标" /><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=13110202001352" target="_blank" rel="nofollow" style="color:#666;">冀公网安备13110202001352号</a>
	</p>
	</div>
	<img id="logo_bottom" class="right" src="https://m.biancheng.net/templets/new/images/logo_bottom_2.gif" alt="底部Logo" />
	<span id="return-top"><b>↑</b></span>
</div>

<div id="addweixin-widget">
	<p>
		<script type="text/javascript">
			/*var suffix = 'c';
			var thisMin = (new Date()).getMinutes();
			if(thisMin>=40){
				suffix = 'd';
			}else if(thisMin>=20){
				suffix = 'e';
			}else{
				suffix = 'c';
			}
			document.write('<img src="https://m.biancheng.net/templets/new/images/material/qrcode_wx_'%20+%20suffix%20+'.png?v=1.7.07" alt="微信交流群" width="120" /><br />');*/
		</script>
		<img src="https://m.biancheng.net/templets/new/images/material/qrcode_mp_4.png" alt="微信交流群" width="120" />
		<span>关注微信公众号，加入官方交流群。内含一款搜索神器，免费下载全网书籍和视频。</span>
	</p>
	<span id="close-addweixin-widget" class="iconfont iconfont-close"></span>
</div>

<script type="text/javascript">
window.siteId = 4;
window.cmsTemplets = "/templets/new";
window.cmsTempletsVer = "1.7.07";

</script>

<script src="https://m.biancheng.net/templets/new/script/jquery1.12.4.min_2.js"></script>
<script src="https://m.biancheng.net/templets/new/script/common_2.js"></script>
<!-- 51la V6 -->
<span style="display: none;">
<script charset="UTF-8" id="LA_COLLECT" src="https://sdk.51.la/js-sdk-pro.min.js"></script>
<script>LA.init({id:"KDf6QzBhogyQjall",ck:"KDf6QzBhogyQjall",autoTrack:true})</script>
</span>
<!-- 51la V5 -->
<!-- <span style="display: none;"><script type="text/javascript" src="https://js.users.51.la/21368967.js"></script></span> -->
</body>
</html>