<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="renderer" content="webkit" />
<meta name="force-rendering" content="webkit"/>
<meta name="applicable-device" content="pc,mobile" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="format-detection" content="telephone=no" />
<link rel="shortcut icon" href="../favicon.ico" />
<link href="../templets/new/style/common.css" rel="stylesheet" />
<title>Linux top命令详解：持续监听进程运行状态</title>
<meta name="description" content="ps 命令用于显示命令运行时这个时间节点的进程状态，而 top 命令则用于动态地持续监听进程的运行状态，而且可以查看系统的健康状态。 top 命令格式如下： [root@localhost ~]#top [选项] 选" />
</head>
<body>
<div id="topbar" class="clearfix">
<ul id="product-type" class="left">
<li>
<a href="../c_biancheng_default.html"><span class="iconfont iconfont-home"></span>首页</a>
</li>
<li class="active">
<a href="../sitemap/sitemap_3.html" rel="nofollow"><span class="iconfont iconfont-book"></span>教程</a>
</li>
<li>
<a href="http://vip.biancheng.net/p/vip/show.php" rel="nofollow" target="_blank"><span class="iconfont iconfont-vip"></span>VIP会员</a>
</li>
<li>
<a href="../fudao_biancheng_default.html" rel="nofollow" target="_blank"><span class="iconfont iconfont-fudao"></span>辅导班</a>
</li>
<li>
<a href="niz69i.html" target="_blank"><span class="iconfont iconfont-chip"></span>嵌入式学习路线</a>
</li>
</ul>
</div>
<div id="header" class="clearfix">
<a id="logo" class="left" href="../c_biancheng_default.html">
<img height="26" src="../templets/new/images/logo.png" alt="C语言中文网" />
</a>
<ul id="nav-main" class="hover-none left clearfix">
<li class="wap-yes"><a href="../c_biancheng_default.html">首页</a></li>
<li><a href="../c/c_3.html">C语言教程</a></li>
<li><a href="../cplus/cplus.html">C++教程</a></li>
<li><a href="../python/python.html">Python教程</a></li>
<li><a href="../java/java_3.html">Java教程</a></li>
<li><a href="../linux_tutorial/linux_tutorial.html">Linux入门</a></li>
<li><a href="../sitemap/sitemap_3.html" title="网站地图">更多&gt;&gt;</a></li>
</ul>
<span id="sidebar-toggle" class="toggle-btn" toggle-target="#sidebar">目录 <span class="iconfont"></span></span>
<a href="http://vip.biancheng.net/?from=topbar" class="user-info iconfont iconfont-user hover-none" target="_blank" rel="nofollow" title="用户中心"></a>
</div>
<div id="main" class="clearfix">
<div id="sidebar" class="toggle-target">
<div id="contents">
<dt><span class="iconfont iconfont-list-vertical" aria-hidden="true"></span><a href="../linux_tutorial/linux_tutorial.html">Linux</a></dt>
<dd>
<span class="channel-num">1</span>
<a href='../linux_tutorial/10/10.html'>Linux简介</a>
</dd>
<dd>
<span class="channel-num">2</span>
<a href='../linux_tutorial/20/20.html'>Linux安装</a>
</dd>
<dd>
<span class="channel-num">3</span>
<a href='../linux_tutorial/file_content/file_content.html'>Linux文件和目录管理</a>
</dd>
<dd>
<span class="channel-num">4</span>
<a href='../linux_tutorial/bale_compress/bale_compress.html'>Linux打包（归档）和压缩</a>
</dd>
<dd>
<span class="channel-num">5</span>
<a href='../linux_tutorial/40/40.html'>Vim文本编辑器</a>
</dd>
<dd>
<span class="channel-num">6</span>
<a href='../linux_tutorial/text_processing/text_processing.html'>Linux文本处理（Linux三剑客）</a>
</dd>
<dd>
<span class="channel-num">7</span>
<a href='../linux_tutorial/50/50.html'>Linux软件安装</a>
</dd>
<dd>
<span class="channel-num">8</span>
<a href='../linux_tutorial/60/60.html'>Linux用户和用户组管理</a>
</dd>
<dd>
<span class="channel-num">9</span>
<a href='../linux_tutorial/70/70.html'>Linux权限管理</a>
</dd>
<dd>
<span class="channel-num">10</span>
<a href='../linux_tutorial/80/80.html'>Linux文件系统管理</a>
</dd>
<dd>
<span class="channel-num">11</span>
<a href='../linux_tutorial/90/90.html'>Linux高级文件系统管理</a>
</dd>
<dd class="this"> <span class="channel-num">12</span> <a href="../linux_tutorial/14/14.html">Linux系统管理</a> </dd><dl class="dl-sub"><dd>12.1 <a href="1061.html">Linux进程管理</a></dd><dd>12.2 <a href="6098.html">Linux进程启动的方式有几种？</a></dd><dd>12.3 <a href="1062.html">Linux如何查看正在运行的进程（ps命令）</a></dd><dd>12.4 <a href="1065.html">Linux实时监听进程运行状态（top命令）</a></dd><dd>12.5 <a href="1066.html">Linux查看进程树（pstree命令）</a></dd><dd>12.6 <a href="1088.html">Linux列出进程调用或打开的文件信息（lsof命令）</a></dd><dd>12.7 <a href="1073.html">Linux进程优先级</a></dd><dd>12.8 <a href="1074.html">Linux调整进程的优先级（nice和renice命令）</a></dd><dd>12.9 <a href="1069.html">Linux常用信号（进程间通信）</a></dd><dd>12.10 <a href="1068.html">Linux终止进程（kill命令）</a></dd><dd>12.11 <a href="1070.html">Linux终止特定的一类进程（killall命令）</a></dd><dd>12.12 <a href="1071.html">Linux按终端号踢出当前登陆用户（pkill命令）</a></dd><dd>12.13 <a href="1075.html">Linux工作管理</a></dd><dd>12.14 <a href="1076.html">Linux命令放入后台运行</a></dd><dd>12.15 <a href="1077.html">Linux查看当前终端放入后台的工作（jobs命令）</a></dd><dd>12.16 <a href="1078.html">Linux把后台命令恢复在前台执行（fg命令）</a></dd><dd>12.17 <a href="1079.html">Linux把后台暂停的工作恢复执行（bg命令）</a></dd><dd>12.18 <a href="1080.html">Linux将后台命令脱离终端运行（nohup命令）</a></dd><dd>12.19 <a href="1090.html">Linux定时执行任务（at命令）</a></dd><dd>12.20 <a href="1092.html">Linux循环执行定时任务（crontab命令）</a></dd><dd>12.21 <a href="1095.html">Linux检测长期未执行的定时任务（anacron命令）</a></dd><dd>12.22 <a href="1081.html">Linux查看系统资源的使用情况（vmstat命令）</a></dd><dd>12.23 <a href="1082.html">Linux查看开机信息（dmesg命令）</a></dd><dd>12.24 <a href="1083.html">Linux查看内存使用状态（free命令）</a></dd><dd>12.25 <a href="3869.html">Linux查看登陆用户信息（w和who命令）</a></dd><dd>12.26 <a href="3875.html">Linux查看过去登陆的用户信息（last和lastlog命令）</a></dd></dl>
<dd>
<span class="channel-num">13</span>
<a href='../linux_tutorial/17/17.html'>Linux备份与恢复</a>
</dd>
<dd>
<span class="channel-num">14</span>
<a href='../linux_tutorial/13/13.html'>Linux系统服务管理</a>
</dd>
<dd>
<span class="channel-num">15</span>
<a href='../linux_tutorial/15/15.html'>Linux系统日志管理</a>
</dd>
<dd>
<span class="channel-num">16</span>
<a href='../linux_tutorial/12/12.html'>Linux启动管理</a>
</dd>
<dd>
<span class="channel-num">17</span>
<a href='../linux_tutorial/16/16.html'>LAMP环境搭建和LNMP环境搭建</a>
</dd>
<dd>
<span class="channel-num">18</span>
<a href='../linux_tutorial/18/18.html'>SELinux管理</a>
</dd>
</div>
</div>
<div id="article-wrap">
<div id="article">
<div class="arc-info">
<span class="position"><span class="iconfont iconfont-home2"></span> <a href="../c_biancheng_default.html">首页</a> &gt; <a href="../linux_tutorial/linux_tutorial.html">Linux</a> &gt; <a href="../linux_tutorial/14/14.html">Linux系统管理</a></span>
</div>
<div id="ggxc-position-bottom" class="ggxc-box"></div>
<h1>Linux top命令详解：持续监听进程运行状态</h1>
<div class="pre-next-page clearfix">&nbsp;</div>
<div id="ggxc-arctop-pc-1" class="ggxc-box"></div>
<div id="arc-body">ps 命令可以一次性给出当前系统中进程状态，但使用此方式得到的信息缺乏时效性，并且，如果管理员需要实时监控进程运行情况，就必须不停地执行 ps 命令，这显然是缺乏效率的。<br />
<br />
为此，Linux 提供了<span style="color: rgb(0, 128, 0);">&nbsp;top 命令</span>。top 命令可以动态地持续监听进程地运行状态，与此同时，该命令还提供了一个交互界面，用户可以根据需要，人性化地定制自己的输出，进而更清楚地了进程的运行状态。<br />
<br />
top 命令的基本格式如下：<br />
<p class="info-box">
[root@localhost ~]#top [选项]</p>
选项：
<ul>
<li>
-d 秒数：指定 top 命令每隔几秒更新。默认是 3 秒；</li>
<li>
-b：使用批处理模式输出。一般和&quot;-n&quot;选项合用，用于把 top 命令重定向到文件中；</li>
<li>
-n 次数：指定 top 命令执行的次数。一般和&quot;-&quot;选项合用；</li>
<li>
-p 进程PID：仅查看指定 ID 的进程；</li>
<li>
-s：使 top 命令在安全模式中运行，避免在交互模式中出现错误；</li>
<li>
-u 用户名：只监听某个用户的进程；</li>
</ul>
<br />
在 top 命令的显示窗口中，还可以使用如下按键，进行一下交互操作：<br />
<ul>
<li>
? 或 h：显示交互模式的帮助；</li>
<li>
P：按照 CPU 的使用率排序，默认就是此选项；</li>
<li>
M：按照内存的使用率排序；</li>
<li>
N：按照 PID 排序；</li>
<li>
T：按照 CPU 的累积运算时间排序，也就是按照 TIME+ 项排序；</li>
<li>
k：按照 PID 给予某个进程一个信号。一般用于中止某个进程，信号 9 是强制中止的信号；</li>
<li>
r：按照 PID 给某个进程重设优先级（Nice）值；</li>
<li>
q：退出 top 命令；</li>
</ul>
<br />
我们看看 top 命令的执行结果，如下：
<pre class="info-box">
[root@localhost ~]# top
top - 12:26:46 up 1 day, 13:32, 2 users, load average: 0.00, 0.00, 0.00
Tasks: 95 total, 1 running, 94 sleeping, 0 stopped, 0 zombie
Cpu(s): 0.1%us, 0.1%sy, 0.0%ni, 99.7%id, 0.1%wa, 0.0%hi, 0.1%si, 0.0%st
Mem: 625344k total, 571504k used, 53840k free, 65800k buffers
Swap: 524280k total, 0k used, 524280k free, 409280k cached
PID   USER PR NI VIRT  RES  SHR S %CPU %MEM   TIME+ COMMAND
19002 root 20  0 2656 1068  856 R  0.3  0.2 0:01.87 top
1     root 20  0 2872 1416 1200 S  0.0  0.2 0:02.55 init
2     root 20  0    0    0    0 S  0.0  0.0 0:00.03 kthreadd
3     root RT  0    0    0    0 S  0.0  0.0 0:00.00 migration/0
4     root 20  0    0    0    0 S  0.0  0.0 0:00.15 ksoftirqd/0
5     root RT  0    0    0    0 S  0.0  0.0 0:00.00 migration/0
6     root RT  0    0    0    0 S  0.0  0.0 0:10.01 watchdog/0
7     root 20  0    0    0    0 S  0.0  0.0 0:05.01 events/0
8     root 20  0    0    0    0 S  0.0  0.0 0:00.00 cgroup
9     root 20  0    0    0    0 S  0.0  0.0 0:00.00 khelper
10    root 20  0    0    0    0 S  0.0  0.0 0:00.00 netns
11    root 20  0    0    0    0 S  0.0  0.0 0:00.00 async/mgr
12    root 20  0    0    0    0 S  0.0  0.0 0:00.00 pm
13    root 20  0    0    0    0 S  0.0  0.0 0:01.70 sync_supers
14    root 20  0    0    0    0 S  0.0  0.0 0:00.63 bdi-default
15    root 20  0    0    0    0 S  0.0  0.0 0:00.00 kintegrityd/0
16    root 20  0    0    0    0 S  0.0  0.0 0:02.52 kblockd/0
17    root 20  0    0    0    0 S  0.0  0.0 0:00.00 kacpid
18    root 20  0    0    0    0 S  0.0  0.0 0:00.00 kacpi_notify</pre>
我们解释一下命令的输出。top 命令的输出内容是动态的，默认每隔 3 秒刷新一次。命令的输出主要分为两部分：<br />
<ol>
<li>
第一部分是前五行，显示的是整个系统的资源使用状况，我们就是通过这些输出来判断服务器的资源使用状态的；</li>
<li>
第二部分从第六行开始，显示的是系统中进程的信息；</li>
</ol>
<br />
我们先来说明第一部分的作用。<br />
<ul>
<li>
第一行为任务队列信息，具体内容如表 1 所示。<br />
<br />
<table>
<caption>
表 1 任务队列信息</caption>
<tbody>
<tr>
<th>
内&nbsp;容</th>
<th>
说&nbsp;明</th>
</tr>
<tr>
<td>
12:26:46</td>
<td>
系统当前时间</td>
</tr>
<tr>
<td>
up 1 day, 13:32</td>
<td>
系统的运行时间.本机己经运行 1 天 13 小时 32 分钟</td>
</tr>
<tr>
<td>
2 users</td>
<td>
当前登录了两个用户</td>
</tr>
<tr>
<td>
load average: 0.00,0.00，0.00</td>
<td>
系统在之前 1 分钟、5 分钟、15 分钟的平均负载。如果 CPU 是单核的，则这个数值超过 1 就是高负载：如果 CPU 是四核的，则这个数值超过 4 就是高负载 （这个平均负载完全是依据个人经验来进行判断的，一般认为不应该超过服务器 CPU 的核数）</td>
</tr>
</tbody>
</table>
</li>
</ul>
<br />
<ul>
<li>
第二行为进程信息，具体内容如表 2 所示。<br />
<br />
<table>
<caption>
表 2 进程信息</caption>
<tbody>
<tr>
<th>
内&nbsp;容</th>
<th>
说&nbsp;明</th>
</tr>
<tr>
<td>
Tasks: 95 total</td>
<td>
系统中的进程总数</td>
</tr>
<tr>
<td>
1 running</td>
<td>
正在运行的进程数</td>
</tr>
<tr>
<td>
94 sleeping</td>
<td>
睡眠的进程数</td>
</tr>
<tr>
<td>
0 stopped</td>
<td>
正在停止的进程数</td>
</tr>
<tr>
<td>
0 zombie</td>
<td>
僵尸进程数。如果不是 0，则需要手工检查僵尸进程</td>
</tr>
</tbody>
</table>
</li>
</ul>
<br />
<ul>
<li>
第三行为 CPU 信息，具体内容如表 3 所示。<br />
<br />
<table>
<caption>
表 3 CPU信息</caption>
<tbody>
<tr>
<th>
内&nbsp;容</th>
<th>
说&nbsp;明</th>
</tr>
<tr>
<td>
Cpu(s): 0.1 %us</td>
<td>
用户模式占用的 CPU 百分比</td>
</tr>
<tr>
<td>
0.1%sy</td>
<td>
系统模式占用的 CPU 百分比</td>
</tr>
<tr>
<td>
0.0%ni</td>
<td>
改变过优先级的用户进程占用的 CPU 百分比</td>
</tr>
<tr>
<td>
99.7%id</td>
<td>
空闲 CPU 占用的 CPU 百分比</td>
</tr>
<tr>
<td>
0.1%wa</td>
<td>
等待输入/输出的进程占用的 CPU 百分比</td>
</tr>
<tr>
<td>
0.0%hi</td>
<td>
硬中断请求服务占用的 CPU 百分比</td>
</tr>
<tr>
<td>
0.1%si</td>
<td>
软中断请求服务占用的 CPU 百分比</td>
</tr>
<tr>
<td>
0.0%st</td>
<td>
st（steal time）意为虚拟时间百分比，就是当有虚拟机时，虚拟 CPU 等待实际&nbsp;CPU 的时间百分比</td>
</tr>
</tbody>
</table>
</li>
</ul>
<br />
<ul>
<li>
第四行为物理内存信息，具体内容如表 4 所示。<br />
<br />
<table>
<caption>
表 4 物理内存信息</caption>
<tbody>
<tr>
<th>
内&nbsp;容</th>
<th>
说&nbsp;明</th>
</tr>
<tr>
<td>
Mem: 625344k total</td>
<td>
物理内存的总量，单位为KB</td>
</tr>
<tr>
<td>
571504k used</td>
<td>
己经使用的物理内存数量</td>
</tr>
<tr>
<td>
53840k&amp;ee</td>
<td>
空闲的物理内存数量。我们使用的是虚拟机，共分配了&nbsp;628MB内存，所以只有53MB的空闲内存</td>
</tr>
<tr>
<td>
65800k buffers</td>
<td>
作为缓冲的内存数量</td>
</tr>
</tbody>
</table>
</li>
</ul>
<br />
<ul>
<li>
第五行为交换分区（swap）信息，如表 5 所示。<br />
<br />
<table>
<caption>
表 5 交换分区信息</caption>
<tbody>
<tr>
<th>
内&nbsp;容</th>
<th>
说&nbsp;明</th>
</tr>
<tr>
<td>
Swap: 524280k total</td>
<td>
交换分区（虚拟内存）的总大小</td>
</tr>
<tr>
<td>
Ok used</td>
<td>
已经使用的交换分区的大小</td>
</tr>
<tr>
<td>
524280k free</td>
<td>
空闲交换分区的大小</td>
</tr>
<tr>
<td>
409280k cached</td>
<td>
作为缓存的交换分区的大小</td>
</tr>
</tbody>
</table>
</li>
</ul>
<br />
我们通过 top 命令的第一部分就可以判断服务器的健康状态。如果 1 分钟、5 分钟、15 分钟的平均负载高于 1，则证明系统压力较大。如果 CPU 的使用率过高或空闲率过低，则证明系统压力较大。如果物理内存的空闲内存过小，则也证明系统压力较大。<br />
<br />
这时，我们就应该判断是什么进程占用了系统资源。如果是不必要的进程，就应该结束这些进程；如果是必需进程，那么我们该増加服务器资源（比如増加虚拟机内存），或者建立集群服务器。<br />
<br />
我们还要解释一下<span style="color: rgb(0, 128, 0);">缓冲</span>（buffer）和<span style="color: rgb(0, 128, 0);">缓存</span>（cache）的区别：
<ul>
<li>
缓存（cache）是在读取硬盘中的数据时，把最常用的数据保存在内存的缓存区中，再次读取该数据时，就不去硬盘中读取了，而在缓存中读取。</li>
<li>
缓冲（buffer）是在向硬盘写入数据时，先把数据放入缓冲区,然后再一起向硬盘写入，把分散的写操作集中进行，减少磁盘碎片和硬盘的反复寻道，从而提高系统性能。</li>
</ul>
<span style="color: rgb(178, 34, 34);">简单来说，缓存（cache）是用来加速数据从硬盘中&quot;读取&quot;的，而缓冲（buffer）是用来加速数据&quot;写入&quot;硬盘的。</span><br />
<br />
再来看 top 命令的第二部分输出，主要是系统进程信息，各个字段的含义如下：<br />
<ul>
<li>
PID：进程的 ID。</li>
<li>
USER：该进程所属的用户。</li>
<li>
PR：优先级，数值越小优先级越高。</li>
<li>
NI：优先级，数值越小、优先级越高。</li>
<li>
VIRT：该进程使用的虚拟内存的大小，单位为 KB。</li>
<li>
RES：该进程使用的物理内存的大小，单位为 KB。</li>
<li>
SHR：共享内存大小，单位为 KB。</li>
<li>
S：进程状态。</li>
<li>
%CPU：该进程占用 CPU 的百分比。</li>
<li>
%MEM：该进程占用内存的百分比。</li>
<li>
TIME+：该进程共占用的 CPU 时间。</li>
<li>
COMMAND：进程的命令名。</li>
</ul>
<br />
这部分和 ps 命令的输出比较类似，只是如果在终端执行 top 命令，则不能看到所有的进程，而只能看到占比靠前的进程。接下来我们举几个 top 命令常用的实例。<br />
<br />
【例 1】如果只想让 top 命令查看某个进程，就可以使用 &quot;-p 选项&quot;。命令如下：<br />
<pre class="info-box">
[root@localhost ~]# top -p 15273
#只查看 PID为 15273的apache进程
top - 14:28:47 up 1 day, 15:34, 3 users, load average: 0.00,0.00,0.00
Tasks: 1 total, 0 running, 1 sleeping, 0 stopped, 0 zombie
Cpu(s): 0.0%us, 0.0%sy, 0.0%ni,100.0%id, 0.0%wa, 0.0%hi, 0.0%si, 0.0%st
Mem: 625344k total, 574124k used, 51220k free, 67024k buffers
Swap: 524280k total, Ok used, 524280k free, 409344k cached
PID     USER PR NI VIRT  RES SHR S %CPU %MEM  TIME+  COMMAND
15273 daemon 20 0  4520 1192 580 S  0.0  0.2 0:00.00   httpd</pre>
<br />
【例 2】top 命令如果不正确退出，则会持续运行。在 top 命令的交互界面中按 &quot;q&quot; 键会退出 top 命令；也可以按 &quot;?&quot; 或 &quot;h&quot; 键得到 top 命令交互界面的帮助信息；还可以按键中止某个进程。比如：<br />
<pre class="info-box">
[root@localhost ~]# top
top - 14:10:15 up 1 day, 15:15， 3 users, load average: 0.00，0.00, 0.00
Tasks: 97 total, 1 running, 96 sleeping, 0 stopped, 0 zombie
Cpu(s): 0.0%us, 0.0%sy, 0.0%ni,100.0%id, 0.0%wa, 0.0%hi, 0.0%si, 0.0%st
Mem: 625344k total, 574248k used, 51096k free, 66840k buffers
Swap: 524280k total, Ok used, 524280k free, 409324k cached
PID to kill:15273
#按&quot;k&quot;键，会提示输入要杀死进程的PID
PID     USER PR NI VIRT  RES SHR S %CPU %MEM   TIME+ COMMAND
15273 daemon 20  0 4520 1192 580 S  0.0 0.2  0:00.00 httpd
..省略部分输出...</pre>
<br />
【例 3】输入要中止进程的 PID，比如要中止 15273 这个 apache 进程，命令如下：<br />
<pre class="info-box">
top - 14:11:42 up 1 day, 15:17， 3 users, load average: 0.00，0.00, 0.00
Tasks: 97 total, 1 running, 96 sleeping, 0 stopped, 0 zombie
Cpu(s): 0.0%us, 0.3%sy, 0.0%ni, 99.7%id, 0.0%wa, 0.0%hi, 0.0%si, 0.0%st
Mem: 625344k total, 574248k used, 51096k free, 66856k buffers
Swap: 524280k total, 0k used, 524280k free, 409324k cached
Kill PID 15273 with signal [15]:9
#提示输入信号，信号9代表强制中止
PID     USER PR NI VIRT  RES SHR S %CPU %MEM   TIME+ COMMAND
15273 daemon 20  0 4520 1192 580 S 0.0   0.2 0:00.00 httpd
&hellip;省略部分输出&hellip;</pre>
接下来 top 命令提示我们输入信号，信号 9 代表强制中止，这时就能够强制中止 15273 进程了。<br />
<br />
【例 4】如果要改变某个进程的优先级，就要利用 &quot;r&quot; 交互命令。需要注意的是，我们能够修改的只有 Nice 的优先级，而不能修改 Priority 的优先级。具体修改命令如下：<br />
<pre class="info-box">
[root@localhost ~]# top -p 18977
top - 14:17:09 up 1 day, 15:22, 3 users, load average: 0.00，0.00, 0.00
Tasks: 97 total, 1 running, 96 sleeping, 0 stopped, 0 zombie
Cpu(s): 0.3%us, 0.0%sy, 0.0%ni, 99.7%id, 0.0%wa, 0.0%hi, 0.0%si, 0.0%st
Mem: 625344k total, 574124k used, 51220k free, 66896k buffers
Swap: 524280k total, 0k used, 524280k free, 409324k cached
PID to renice:
#输入&quot;r&quot;交互命令之后，提示输入要修改优先级的进程的PID
PID   USER PR NI  VIRT  RES SHR  S %CPU %MEM   TIME+ COMMAND
18977 root 20 0  11592 3304 2572 S  0.0 0.5  0:04.37 sshd</pre>
输入 &quot;r&quot; 交互命令，会提示输入需要修改优先级的进程的 PID。例如，我们想要修改 18977 这个 sshd 远程连接进程的优先级，就输入该进程的 PID。命令如下：<br />
<pre class="info-box">
Renice PID 18977 to value: 10
#输入PID后，需要输入Nice的优先级号
#我们把18977进程的优先级调整为10,回车后就能看到
PID   USER PR NI  VIRT  RES SHR  S %CPU %MEM   TIME+ COMMAND
18977 root 30 10 11592 3304 2572 R  0.0 0.5  0:04.38 sshd
#18977进程的优先级已经被修改了</pre>
<p>
&nbsp;</p>
<p>
【例 5】如果在操作终端执行 top 命令，则并不能看到系统中所有的进程，默认看到的只是 CPU 占比靠前的进程。如果我们想要看到所有的进程，则可以把 top 命令的执行结果重定向到文件中。不过 top 命令是持续运行的，这时就需要使用 &quot;-b&quot; 和 &quot;-n&quot; 选项了。具体命令如下：</p>
<p class="info-box">
[root@localhost ~]# top -b -n 1 &gt; /root/top.log<br />
#让top命令只执行一次，然后把执行结果保存到top.log文件中，这样就能看到所有的进程了</p>
</div>
<div id="ggxc-weixin-arcbottom">
<p>关注公众号「<span class="col-green">站长严长生</span>」，在手机上阅读所有教程，随时随地都能学习。内含一款搜索神器，免费下载全网书籍和视频。</p>
<p style="margin-top:12px; text-align:center;">
<img src="../templets/new/images/material/qrcode_mp.png" alt="公众号二维码" width="160" /><br />
<span class="col-green">微信扫码关注公众号</span>
</p>
</div>
<div class="pre-next-page clearfix">&nbsp;</div>
<div id="nice-arcs" class="box-bottom">
<h4>推荐阅读</h4>
<ul class="clearfix">
<li><a href="niz69i_4.html" title="一套完整的嵌入式开发学习路线（高薪就业版）" target="_blank">一套完整的嵌入式开发学习路线（高薪就业版）</a></li>
<li><a href="tnnfqo_2.html" title="一套课程卖1万，TMD太贵了！" target="_blank">一套课程卖1万，TMD太贵了！</a></li>
<li><a href="unnurw_2.html" title="跑了3000公里，见了一位大佬" target="_blank">跑了3000公里，见了一位大佬</a></li>
<li><a href="359.html" title="C语言指针的声明" target="_blank">C语言指针的声明</a></li>
<li><a href="7930.html" title="GCC是什么？" target="_blank">GCC是什么？</a></li>
<li><a href="8010.html" title="GCC使用静态链接库和动态链接库" target="_blank">GCC使用静态链接库和动态链接库</a></li>
<li><a href="8053.html" title="GCC -std编译标准一览表" target="_blank">GCC -std编译标准一览表</a></li>
<li><a href="8776.html" title="C语言的主要用途以及未来发展" target="_blank">C语言的主要用途以及未来发展</a></li>
<li><a href="../ml_alg/analysis-logistic.html" title="数学解析Logistic回归算法" target="_blank">数学解析Logistic回归算法</a></li>
<li><a href="kbrfuoe.html" title="Redis HLEN命令的用法" target="_blank">Redis HLEN命令的用法</a></li>
</ul>
</div>
</div>
</div>
</div>
<script type="text/javascript">
// 当前文章ID
window.arcIdRaw = 'a_' + 1065;
window.arcId = "d2c43JSB48JkPAYbF3/Sj1ywpek7cGXNdFq50ifo2Lwm3zAAc+PZpTLcflo";
window.typeidChain = "104|77";
</script>
<div id="footer" class="clearfix">
<div class="info left">
<p>精美而实用的网站，分享优质编程教程，帮助有志青年。千锤百炼，只为大作；精益求精，处处斟酌；这种教程，看一眼就倾心。</p>
<p>
<a href="8066.html" target="_blank" rel="nofollow">关于网站</a> <span>|</span>
<a href="8092_2.html" target="_blank" rel="nofollow">关于站长</a> <span>|</span>
<a href="8097.html" target="_blank" rel="nofollow">如何完成一部教程</a> <span>|</span>
<a href="9648.html" target="_blank" rel="nofollow">公众号</a> <span>|</span>
<a href="8093.html" target="_blank" rel="nofollow">联系我们</a> <span>|</span>
<a href="../sitemap/sitemap_3.html" target="_blank" rel="nofollow">网站地图</a>
</p>
<p>Copyright ©2012-2022 biancheng.net, <a href="https://beian.miit.gov.cn" target="_blank" rel="nofollow" style="color:#666;">冀ICP备2022013920号</a>, <img height="13" src="../templets/new/images/gongan.png" alt="公安备案图标" /><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=13110202001352" target="_blank" rel="nofollow" style="color:#666;">冀公网安备13110202001352号</a>
</p>
</div>
<img id="logo_bottom" class="right" src="https://c.biancheng.net/templets/new/images/logo_bottom.gif" alt="底部Logo" />
<span id="return-top"><b>↑</b></span>
</div>
<div id="addweixin-widget">
<p>
<script type="text/javascript">
			/*var suffix = 'c';
			var thisMin = (new Date()).getMinutes();
			if(thisMin>=40){
				suffix = 'd';
			}else if(thisMin>=20){
				suffix = 'e';
			}else{
				suffix = 'c';
			}
			document.write('<img src="https://c.biancheng.net/templets/new/images/material/qrcode_wx_'%20+%20suffix%20+'.png?v=1.7.07" alt="微信交流群" width="120" /><br />');*/
		</script>
<img src="../templets/new/images/material/qrcode_mp_2.png" alt="微信交流群" width="120" />
<span>关注微信公众号，加入官方交流群。内含一款搜索神器，免费下载全网书籍和视频。</span>
</p>
<span id="close-addweixin-widget" class="iconfont iconfont-close"></span>
</div>
<script type="text/javascript">
window.siteId = 4;
window.cmsTemplets = "/templets/new";
window.cmsTempletsVer = "1.7.07";
window.prePageURL = "/view/1062.html";
window.nextPageURL = "/view/1066.html";
</script>
<script src="../templets/new/script/jquery1.12.4.min.js"></script>
<script src="https://c.biancheng.net/templets/new/script/common.js"></script>
<span style="display: none;">
<script charset="UTF-8" id="LA_COLLECT" src="https://sdk.51.la/js-sdk-pro.min.js"></script>
<script>LA.init({id:"KDf6QzBhogyQjall",ck:"KDf6QzBhogyQjall",autoTrack:true})</script>
</span>
</body>
</html>