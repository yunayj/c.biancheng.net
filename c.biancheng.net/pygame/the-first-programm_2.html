<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
<!-- 启用Chromium高速渲染模式 -->
<meta name="renderer" content="webkit" />
<meta name="force-rendering" content="webkit"/>
<!-- 禁止百度转码 -->
<meta name="applicable-device" content="pc,mobile" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<!-- 禁止识别电话号码 -->
<meta name="format-detection" content="telephone=no" />

<link rel="shortcut icon" href="../favicon_3.ico" />
<link href="../templets/new/style/common_2.css" rel="stylesheet" />
<title>第一个Pygame程序</title>
<meta name="description" content="Pygame 作为一个入门级的游戏开发库，其实并不难学，只要掌握 Python 编程的相关知识就能很轻松地掌握它。 Pygame 语法简单、明了，秉持了 Python 语言一贯的风格。同时，它作为一个游戏" />
</head>
<body>
<div id="topbar" class="clearfix">
	<ul id="product-type" class="left">
		<li>
			<a href="../m_biancheng_default_2.html"><span class="iconfont iconfont-home"></span>首页</a>
		</li>
		<li class="active">
			<a href="../sitemap/sitemap_2.html" rel="nofollow"><span class="iconfont iconfont-book"></span>教程</a>
		</li>
		<li>
			<a href="http://vip.biancheng.net/p/vip/show.php" rel="nofollow" target="_blank"><span class="iconfont iconfont-vip"></span>VIP会员</a>
		</li>
		<li>
			<a href="../fudao_biancheng_default.html" rel="nofollow" target="_blank"><span class="iconfont iconfont-fudao"></span>辅导班</a>
		</li>
		<li>
			<a href="../view/niz69i_5.html" target="_blank"><span class="iconfont iconfont-chip"></span>嵌入式学习路线</a>
		</li>
		<!-- <li>
			<a href="https://www.54benniao.com/c_course/?from=biancheng" target="_blank"><span class="iconfont iconfont-c-course"></span>C语言高级课程</a>
		</li>
		<li>
			<a href="https://www.54benniao.com/java_course/?from=biancheng" target="_blank"><span class="iconfont iconfont-java-course"></span>Java高级课程</a>
		</li>
		<li>
			<a href="http://vip.biancheng.net/p/q2a/show.php" rel="nofollow" target="_blank"><span class="iconfont iconfont-q2a"></span>一对一答疑</a>
		</li> -->
	</ul>
</div>
<div id="header" class="clearfix">
	<a id="logo" class="left" href="../m_biancheng_default_2.html">
		<img height="26" src="../templets/new/images/logo_2.png" alt="C语言中文网" />
	</a>
	<ul id="nav-main" class="hover-none left clearfix">
		<li class="wap-yes"><a href="../m_biancheng_default_2.html">首页</a></li>
		<li><a href="../c/c_4.html">C语言教程</a></li>
		<li><a href="../cplus/cplus_2.html">C++教程</a></li>
		<li><a href="../python/python_2.html">Python教程</a></li>
		<li><a href="../java/java_2.html">Java教程</a></li>
		<li><a href="../linux_tutorial/linux_tutorial_2.html">Linux入门</a></li>
		<li><a href="../sitemap/sitemap_2.html" title="网站地图">更多&gt;&gt;</a></li>
	</ul>
	<span id="sidebar-toggle" class="toggle-btn" toggle-target="#sidebar">目录 <span class="iconfont"></span></span>

	<a href="http://vip.biancheng.net/?from=topbar" class="user-info iconfont iconfont-user hover-none" target="_blank" rel="nofollow" title="用户中心"></a>
</div>
<div id="main" class="clearfix">
	<div id="sidebar" class="toggle-target">
	<div id="contents">
		<dt><span class="iconfont iconfont-list-vertical" aria-hidden="true"></span><a href="pygame_2.html">Pygame</a></dt>
		<dd>
        	<span class="channel-num">1</span>
        	<a href="what-is-pygame_2.html">Pygame是什么</a>
        </dd>
<dd>
        	<span class="channel-num">2</span>
        	<a href="installer_2.html">Pygame下载和安装</a>
        </dd>
<dd>
        	<span class="channel-num">3</span>
        	<a href="the-first-programm_2.html">第一个Pygame程序</a>
        </dd>
<dd>
        	<span class="channel-num">4</span>
        	<a href="display_2.html">Pygame Display显示模块</a>
        </dd>
<dd>
        	<span class="channel-num">5</span>
        	<a href="surface_2.html">Pygame Surface创建图像</a>
        </dd>
<dd>
        	<span class="channel-num">6</span>
        	<a href="transform_2.html">Pygame Transform图像变形</a>
        </dd>
<dd>
        	<span class="channel-num">7</span>
        	<a href="time_2.html">Pygame Time时间控制</a>
        </dd>
<dd>
        	<span class="channel-num">8</span>
        	<a href="rect_2.html">Pygame Rect区域</a>
        </dd>
<dd>
        	<span class="channel-num">9</span>
        	<a href="event_2.html">Pygame Event事件</a>
        </dd>
<dd>
        	<span class="channel-num">10</span>
        	<a href="draw_2.html">Pygame Draw绘图函数</a>
        </dd>
<dd>
        	<span class="channel-num">11</span>
        	<a href="font_2.html">Pygame Font文本和字体</a>
        </dd>
<dd>
        	<span class="channel-num">12</span>
        	<a href="sprite_2.html">Pygame精灵和碰撞检测</a>
        </dd>

	</div>
</div>
	<div id="article-wrap">
		<div id="article">
			<div class="arc-info">
	<span class="position"><span class="iconfont iconfont-home2"></span> <a href="../m_biancheng_default_2.html">首页</a> &gt; <a href="pygame_2.html">Pygame</a></span>
</div>

<div id="ggxc-position-bottom" class="ggxc-box"></div>
			<h1>第一个Pygame程序</h1>
			<div class="pre-next-page clearfix">&nbsp;</div>
			<div id="ggxc-arctop-pc-1" class="ggxc-box"></div>
			<div id="arc-body">Pygame 作为一个入门级的游戏开发库，其实并不难学，只要掌握 Python 编程的相关知识就能很轻松地掌握它。<br />
<br />
Pygame 语法简单、明了，秉持了 Python 语言一贯的风格。同时，它作为一个游戏开发库来说，具有图形编程的基本特点，如果您对于图形编程从未了解过，即使您有 Python 编程基础，也会略感迷茫。因此，在接下来的学习中会详细介绍 Pygame 的常用模块，以及图形编程中的相关概念，帮助您快速掌握 Pygame 的使用。<br />
<br />
下面是一个简单的 Pygame 程序，如下所示：<br />
<pre class="python">
#导入所需的模块
import sys
import pygame

# 使用pygame之前必须初始化
pygame.init()

# 设置主屏窗口
screen = pygame.display.set_mode((400,400))

# 设置窗口的标题，即游戏名称
pygame.display.set_caption(&#39;hello world&#39;)

# 引入字体类型
f = pygame.font.Font(&#39;C:/Windows/Fonts/simhei.ttf&#39;,50)
# 生成文本信息，第一个参数文本内容；第二个参数，字体是否平滑；
# 第三个参数，RGB模式的字体颜色；第四个参数，RGB模式字体背景颜色；
text = f.render(&quot;C语言中文网&quot;,True,(255,0,0),(0,0,0))
#获得显示对象的rect区域坐标
textRect =text.get_rect()
# 设置显示对象居中
textRect.center = (200,200)
# 将准备好的文本信息，绘制到主屏幕 Screen 上。
screen.blit(text,textRect)

# 固定代码段，实现点击&quot;X&quot;号退出界面的功能，几乎所有的pygame都会使用该段代码
while True:
    # 循环获取事件，监听事件状态
    for event in pygame.event.get():
        # 判断用户是否点了&quot;X&quot;关闭按钮,并执行if代码段
        if event.type == pygame.QUIT:
            #卸载所有模块
            pygame.quit()
            #终止程序，确保退出程序
            sys.exit()
    pygame.display.flip() #更新屏幕内容</pre>
运行结果如下所示：<br />
<br />
<div style="text-align: center;">
	<img alt="pygame程序运行结果" src="../uploads/allimg/211109/105U21301-0_2.gif" /><br />
	图1：第一个 Pygame 程序<br />
	&nbsp;</div>
如果您熟悉 Python 编程的基础知识，那么在注释的帮助下，应该能很容易地理解上述代码。假如不能也没有关系，因为接下来，我们会对上述代码进行细致的分析。常言道：&ldquo;授人以鱼不如授人以渔&rdquo;，分析代码的逻辑，有助于我们理解和编写 Pygame 程序，而至于代码中涉及的模块、方法等，会在后续内容做详细介绍。
<h2>
	初始化程序</h2>
在使用 Pygame 编写程序前，要做的第一个步骤是&ldquo;初始化程序&rdquo;，代码如下所示：
<pre class="info-box">
pygame.init()</pre>
这是整个程序中的第一句代码，它的作用是自动检测 Pygame 软件包是否正常可用，并检查电脑的硬件调用接口、基础功能是否存在问题，比如音频、光驱、声卡驱动等设备。同时，它会完成 Pygame 中所有模块的初始化操作，比如 display（显示模块）、font（字体模块）、mixer（声音控制模块）、cursors（光标控制模块）等。<br />
<p class="tip-box">
	由此可见，初始化程序的重要性，因此上述代码，在编写程序时候千万不能&ldquo;漏掉&rdquo;。</p>
<h2>
	创建Surface对象</h2>
想要掌握 Pygame 的编程逻辑，首先就要理解 surface 对象的概念，它是 Pygame 中最重要的组成部分。<br />
<br />
Surface 翻译为表面、表层、外观，在 Pygame 中，您可以把 surface 对象理解成一张&ldquo;白纸&rdquo;，通过这张纸可以做许多的事情，比如在纸上添加文字、填充颜色、添加图片以及绘制任意形状的图形等。既然是&ldquo;纸&rdquo;就有规格尺寸，Pygame 允许您创建任意大小的纸。<br />
<br />
那么我们应该如何创建 Surface 对象呢？Pygame 提供了多种创建 Surface 对象的方法，这里先介绍以下几种方法。<br />
<br />
上述示例，使用如下方式创建了一个 surface 对象：
<pre class="python" shownum="false">
#也叫screen对象，本质上是一个Surface，大小400*400
screen = pygame.display.set_mode((400,400))</pre>
screen 的本质上就是一个 Surface 对象，它是游戏的主窗口，也就是整个游戏中尺寸最大的&ldquo;纸&rdquo;，任何其他的 Surface 对象都需要附着在这张最大的&ldquo;纸&rdquo;上，比如创建一个包含文本的 Surface 对象，通过以下方法将它绘制在主屏幕上：<br />
<pre class="python" shownum="false">
#创建一个包含文字的Surface对象
text = f.render(&quot;C语言中文网&quot;,True,(255,0,0),(0,0,0))
#通过blit方法将其绘制在主屏幕上，这里的textRect表示位置坐标
screen.blit(text,textRect)</pre>
如果想创建一个包含图像的 surface 对象可以使用如下方法：
<pre class="python" shownum="false">
surface_image =pygame.image.load(&quot;图片路径&quot;) </pre>
<h2>
	事件监听</h2>
游戏，在我们日常生活中经常接触到，无论是手游、还是电脑端游戏，已经成了信息社会中，不可或缺的一部分。<br />
<br />
游戏大致来讲是由动画和人机交互的体验两部分构成，其中动画则是由一系列连续静止的图片，经过一定频率的刷新构成的，这个频率被称为&nbsp;<a href="https://baike.baidu.com/item/FPS/3227416?fr=aladdin" target="_blank">FPS</a>，如果频率值越大则画面越流畅；如果频率值越小则画面会出现卡顿的感，在游戏过程中一般人能接受的最低 FPS 约为 30Hz，如果想要画面流畅则 FPS 要大于 60 Hz。
<p class="tip-box">
	FPS 越高，细节越好，体验也越好，但是文件容量也越高</p>
动画保证了玩家的视觉体验，而人机交互则是操作上的体验。通过移动和点击鼠标、按下键盘上的技能键，或是滑动手机屏幕等操作来实现人机交互，这些与游戏程序交互的操作被称为事件（Event）。
<p class="tip-box">
	如果您接触过 JavaScript，那么您对于&ldquo;事件&rdquo;这一名词，一定不会陌生。</p>
Pygame 作为一个游戏开发库，同样具有设置和监听事件的功能。它提供了一个 enevt 事件模块，这个模块中包含了所有常用到游戏事件。下面是退出游戏的代码示例（其他事件类型，后续会做介绍）：
<pre class="python" shownum="false">
# 循环获取事件，监听事件状态，使用get()获取事件
for event in pygame.event.get():
    # 判断事件类型，用户是否点了&quot;X&quot;关闭按钮
    # pygame.QUIT 指点击右上角窗口的&quot;X&quot;号
    if event.type == pygame.QUIT:
        #点击后，卸载所有pygame模块
        pygame.quit()</pre>
<h2>
	游戏循环</h2>
当打我们游戏时可能会触发游戏中的各种事件，比如鼠标事件、键盘按键事件、摄像拍照事件等等，因此游戏程序需要一直循环监听玩家的操作，只有当用户点击了游戏&ldquo;关闭&rdquo;按钮时，监听才会结束。如果想要达到&ldquo;循环监听&rdquo;目的，此时就需要设置一个游戏循环（Game Loop）也称为游戏的主循环，这样才能保证人机交互的体验感。代码示例如下：
<pre class="python" shownum="false">
#游戏主循环(游戏循环)
while True:
    # 循环获取事件，监听事件
    for event in pygame.event.get():
        # 判断用户是否点了关闭按钮
        if event.type == pygame.QUIT:
            # 当用户关闭游戏窗口时执行以下操作
            # 这里必须调用quit()方法，退出游戏
            pygame.quit()
            #终止系统
            sys.exit()
    #更新并绘制屏幕内容
    pygame.display.flip() </pre>
游戏主循环是每个 Pygame 游戏程序中必不可少的一部分，它主要承担着以下三个重要任务：
<ul>
	<li>
		处理游戏事件</li>
	<li>
		更新游戏状态</li>
	<li>
		把更新后的游戏状态绘制到屏幕上</li>
</ul>
<br />
<div style="text-align: center;">
	<img alt="pygame程序" src="../uploads/allimg/211109/105U22616-1_2.gif" /><br />
	图2：主循环示意图</div>
<br />
游戏画面和游戏操作状态会因为动画效果和玩家的操作而改变，因此需要以循环的方式实时地更新主屏幕（screen）的显示内容。把下列代码放入游戏主循环中即可实现实时更新和绘制屏幕内容，如下所示：
<pre class="python" shownum="false">
#刷新界面显示
pygame.display.flip() </pre>
除了上述方法外，Pygame 还提供了另一个方法。如下所示：
<pre class="python" shownum="false">
pygame.display.update() </pre>
这两个方法的主要区别是：后者可以根据选定的区域来更新部分内容，而前者则是更新整个待显示的内容。如果后者没有提供区域位置参数时，其作用和 display.flip() 相同。<br />
<p class="tip-box">
	通过上述学习，我们对 Pygame 程序有了基本的认识。下面对 Pygame 模块中的方法、属性做更加细致的讲解。</p>
</div>
			<div id="ggxc-weixin-arcbottom">
	<p>关注公众号「<span class="col-green">站长严长生</span>」，在手机上阅读所有教程，随时随地都能学习。内含一款搜索神器，免费下载全网书籍和视频。</p>
	<p style="margin-top:12px; text-align:center;">
		<img src="../templets/new/images/material/qrcode_mp_4.png" alt="公众号二维码" width="160" /><br />
		<span class="col-green">微信扫码关注公众号</span>
	</p>
</div>
			<div class="pre-next-page clearfix">&nbsp;</div>
			<div id="nice-arcs" class="box-bottom">
    <h4>推荐阅读</h4>
    <ul class="clearfix">
<li><a href="../view/niz69i_8.html" title="一套完整的嵌入式开发学习路线（高薪就业版）" target="_blank">一套完整的嵌入式开发学习路线（高薪就业版）</a></li>
<li><a href="../view/tnnfqo_4.html" title="一套课程卖1万，TMD太贵了！" target="_blank">一套课程卖1万，TMD太贵了！</a></li>
<li><a href="../view/unnurw_4.html" title="跑了3000公里，见了一位大佬" target="_blank">跑了3000公里，见了一位大佬</a></li>
<li><a href="../view/vip_7044_2.html" title="Java是如何实现跨平台的，原理是什么？" target="_blank">Java是如何实现跨平台的，原理是什么？</a></li>
<li><a href="../view/7488_2.html" title="MySQL删除用户（DROP/DELETE USER）" target="_blank">MySQL删除用户（DROP/DELETE USER）</a></li>
<li><a href="../redis2/sinterstore_2.html" title="Redis SINTERSTORE命令" target="_blank">Redis SINTERSTORE命令</a></li>
<li><a href="../view/9395_2.html" title="HTML &lt;head&gt;标签：头部" target="_blank">HTML &lt;head&gt;标签：头部</a></li>
<li><a href="../view/vn6i5j_2.html" title="C语言怎么实现四舍五入" target="_blank">C语言怎么实现四舍五入</a></li>
<li><a href="../view/3niaa8_2.html" title="C语言结构体详解" target="_blank">C语言结构体详解</a></li>
<li><a href="../view/2iqh0q_2.html" title="将PPT转换成Word（4个步骤）" target="_blank">将PPT转换成Word（4个步骤）</a></li>
</ul>
</div>
		</div>
		
	</div>
</div>
<script type="text/javascript">
// 当前文章ID
window.arcIdRaw = 'a_' + 9465;
window.arcId = "8c30eQJJQnsEMEi5S3RqGVkkI+IILB6joIhNP463oRkmGPmcDtb1AdQnS2w";
window.typeidChain = "433";
</script>
<div id="footer" class="clearfix">
	<div class="info left">
	<p>精美而实用的网站，分享优质编程教程，帮助有志青年。千锤百炼，只为大作；精益求精，处处斟酌；这种教程，看一眼就倾心。</p>
	<p>
		<a href="../view/8066_2.html" target="_blank" rel="nofollow">关于网站</a> <span>|</span>
		<a href="../view/8092_3.html" target="_blank" rel="nofollow">关于站长</a> <span>|</span>
		<a href="../view/8097_2.html" target="_blank" rel="nofollow">如何完成一部教程</a> <span>|</span>
		<a href="../view/9648_2.html" target="_blank" rel="nofollow">公众号</a> <span>|</span>
		<a href="../view/8093_2.html" target="_blank" rel="nofollow">联系我们</a> <span>|</span>
		<a href="../sitemap/sitemap_2.html" target="_blank" rel="nofollow">网站地图</a>
	</p>
	<p>Copyright ©2012-2022 biancheng.net, <a href="https://beian.miit.gov.cn" target="_blank" rel="nofollow" style="color:#666;">冀ICP备2022013920号</a>, <img height="13" src="../templets/new/images/gongan_2.png" alt="公安备案图标" /><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=13110202001352" target="_blank" rel="nofollow" style="color:#666;">冀公网安备13110202001352号</a>
	</p>
	</div>
	<img id="logo_bottom" class="right" src="https://m.biancheng.net/templets/new/images/logo_bottom_2.gif" alt="底部Logo" />
	<span id="return-top"><b>↑</b></span>
</div>

<div id="addweixin-widget">
	<p>
		<script type="text/javascript">
			/*var suffix = 'c';
			var thisMin = (new Date()).getMinutes();
			if(thisMin>=40){
				suffix = 'd';
			}else if(thisMin>=20){
				suffix = 'e';
			}else{
				suffix = 'c';
			}
			document.write('<img src="https://m.biancheng.net/templets/new/images/material/qrcode_wx_'%20+%20suffix%20+'.png?v=1.7.07" alt="微信交流群" width="120" /><br />');*/
		</script>
		<img src="https://m.biancheng.net/templets/new/images/material/qrcode_mp_4.png" alt="微信交流群" width="120" />
		<span>关注微信公众号，加入官方交流群。内含一款搜索神器，免费下载全网书籍和视频。</span>
	</p>
	<span id="close-addweixin-widget" class="iconfont iconfont-close"></span>
</div>

<script type="text/javascript">
window.siteId = 4;
window.cmsTemplets = "/templets/new";
window.cmsTempletsVer = "1.7.07";
window.prePageURL = "/pygame/installer.html";
window.nextPageURL = "/pygame/display.html";
</script>

<script src="https://m.biancheng.net/templets/new/script/jquery1.12.4.min_2.js"></script>
<script src="https://m.biancheng.net/templets/new/script/common_2.js"></script>
<!-- 51la V6 -->
<span style="display: none;">
<script charset="UTF-8" id="LA_COLLECT" src="https://sdk.51.la/js-sdk-pro.min.js"></script>
<script>LA.init({id:"KDf6QzBhogyQjall",ck:"KDf6QzBhogyQjall",autoTrack:true})</script>
</span>
<!-- 51la V5 -->
<!-- <span style="display: none;"><script type="text/javascript" src="https://js.users.51.la/21368967.js"></script></span> -->
</body>
</html>