<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
<!-- 启用Chromium高速渲染模式 -->
<meta name="renderer" content="webkit" />
<meta name="force-rendering" content="webkit"/>
<!-- 禁止百度转码 -->
<meta name="applicable-device" content="pc,mobile" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<!-- 禁止识别电话号码 -->
<meta name="format-detection" content="telephone=no" />

<link rel="shortcut icon" href="../favicon_3.ico" />
<link href="../templets/new/style/common_2.css" rel="stylesheet" />
<title>Python try except语句捕获异常</title>
<meta name="description" content="tryexcept 语句用于处理 Python 所输出的异常，其语法格式如下： try: 语句except [异常的名称 [, 异常类的实例变量名称]]: 异常的处理语句[else:没有异常产生时的处理语句] 在中括号 [] 内的语" />
</head>
<body>
<div id="topbar" class="clearfix">
	<ul id="product-type" class="left">
		<li>
			<a href="../m_biancheng_default_2.html"><span class="iconfont iconfont-home"></span>首页</a>
		</li>
		<li class="active">
			<a href="../sitemap/sitemap_2.html" rel="nofollow"><span class="iconfont iconfont-book"></span>教程</a>
		</li>
		<li>
			<a href="http://vip.biancheng.net/p/vip/show.php" rel="nofollow" target="_blank"><span class="iconfont iconfont-vip"></span>VIP会员</a>
		</li>
		<li>
			<a href="../fudao_biancheng_default.html" rel="nofollow" target="_blank"><span class="iconfont iconfont-fudao"></span>辅导班</a>
		</li>
		<li>
			<a href="niz69i_5.html" target="_blank"><span class="iconfont iconfont-chip"></span>嵌入式学习路线</a>
		</li>
		<!-- <li>
			<a href="https://www.54benniao.com/c_course/?from=biancheng" target="_blank"><span class="iconfont iconfont-c-course"></span>C语言高级课程</a>
		</li>
		<li>
			<a href="https://www.54benniao.com/java_course/?from=biancheng" target="_blank"><span class="iconfont iconfont-java-course"></span>Java高级课程</a>
		</li>
		<li>
			<a href="http://vip.biancheng.net/p/q2a/show.php" rel="nofollow" target="_blank"><span class="iconfont iconfont-q2a"></span>一对一答疑</a>
		</li> -->
	</ul>
</div>
<div id="header" class="clearfix">
	<a id="logo" class="left" href="../m_biancheng_default_2.html">
		<img height="26" src="../templets/new/images/logo_2.png" alt="C语言中文网" />
	</a>
	<ul id="nav-main" class="hover-none left clearfix">
		<li class="wap-yes"><a href="../m_biancheng_default_2.html">首页</a></li>
		<li><a href="../c/c_4.html">C语言教程</a></li>
		<li><a href="../cplus/cplus_2.html">C++教程</a></li>
		<li><a href="../python/python_2.html">Python教程</a></li>
		<li><a href="../java/java_2.html">Java教程</a></li>
		<li><a href="../linux_tutorial/linux_tutorial_2.html">Linux入门</a></li>
		<li><a href="../sitemap/sitemap_2.html" title="网站地图">更多&gt;&gt;</a></li>
	</ul>
	<a href="http://vip.biancheng.net/?from=topbar" class="user-info iconfont iconfont-user hover-none" target="_blank" rel="nofollow" title="用户中心"></a>
</div>
<div id="main-no-course" class="clearfix">
	<div class="arc-info">
		<span class="position"><span class="iconfont iconfont-home2"></span> <a href="../m_biancheng_default_2.html">首页</a> &gt; 编程笔记</span>
	</div>
	<div id="ggxc-position-bottom" class="ggxc-box"></div>
	<h1>Python try except语句捕获异常</h1>
	<div id="ggxc-arctop-pc-1" class="ggxc-box"></div>
	<div id="arc-body">try&hellip;except 语句用于处理 Python 所输出的异常，其语法格式如下：
<pre class="info-box">
try:
    &lt;语句&gt;
except [&lt;异常的名称&gt; [, &lt;异常类的实例变量名称&gt;]]:
    &lt;异常的处理语句&gt;
[else:
&lt;没有异常产生时的处理语句&gt;]</pre>
在中括号<code>[]</code>内的语法，表示是可以省略的。<br />
<br />
使用 try&hellip;except 语句的工作原理如下：
<ul>
	<li>
		执行 try 子句，即在关键字 try 和关键字 except 之间的语句。</li>
	<li>
		如果没有异常发生，就忽略 except 子句，try 子句执行后结束。</li>
	<li>
		如果在执行 try 子句的过程中发生了异常，那么 try 子句余下的部分将被忽略。如果异常的类型和 except 之后的名称相符，那么对应的 except 子句将被执行。</li>
	<li>
		如果一个异常没有与任何的 except 匹配，那么这个异常将会传递到上层的 try 中。</li>
</ul>
<p class="tip-box">
	提示：异常的名称可以是空白的，表示此 except 语句处理所有类型的异常。异常的名称也可以是一个或多个。可以使用不同的 except 语句处理不同的异常。</p>
例如，下面捕捉 ZeroDivisionError 异常，并显示&ldquo;数值不能除以零&rdquo;的字符串：
<pre class="python">
try:
    12/0
except ZeroDivisionError:
    print(&quot;数值不能除以零&quot;)</pre>
输出结果如下：<br />
数值不能除以零<br />
<br />
【示例1】在一个 except 语句内捕捉 IndexError 与 TypeError 两个异常。
<pre class="python">
s=[100,200,300,400]
def get (n):
    try:
        if n &lt; 200:
            data = s[4]  #IndexError异常
        else:
            file = open(100,200,300,400)  #TypeError异常
    except (IndexError, TypeError):
            print (&quot;发生异常&quot;)
　　
get (100)
get (200)</pre>
保存并运行程序，输出结果如下：<br />
发生异常<br />
发生异常<br />
<br />
下面将 IndexError 与 TypeError 两个异常分别使用不同的 except 语句进行处理。<br />
<br />
【示例2】使用不同的except语句进行处理异常。
<pre class="python">
a = [100, 200, 300,400]
def getn(n):
    try:
        if n &lt; 200:
            data = a[4]
        else:
            file = open(100,200,300,400)
    except IndexError:
           print (&quot;a列表的索引值错误&quot;)
    except TypeError:
            print (&quot;open()函数的参数类型错误&quot;)
　　
getn(100)
getn(300)</pre>
输出结果如下：<br />
a列表的索引值错误<br />
open()函数的参数类型错误
<h2>
	异常全捕捉</h2>
在实际开发过程中，异常可能比较多，为了简便操作，可以一次性全捕捉所有预料的异常。下面使用一个 except 语句处理所有的异常。<br />
<br />
【示例3】Python 全捕捉所有的异常。
<pre class="python">
a = [100, 200, 300,400]
def getn(n):
   try:
       if n &lt; 200:
           data = s[4]
       else:
           file = open(100,200,300,400)
   except:
           print (&quot;捕获所有的异常&quot;)
　　
getn(100)
getn(300)</pre>
输出结果如下：<br />
捕获所有的异常<br />
捕获所有的异常<br />
<br />
从运行结果可以看出，可以在 except 子句中忽略所有的异常类，从而让程序输出自定义的异常信息。
<p class="tip-box">
	注意：这种全捕捉的方式在实际开发中需要特别注意，因为这样的捕捉方式会捕获所有预先想到的错误。</p>
<h2>
	异常中的 else</h2>
else 语句内的语句是没有异常发生时的处理程序。下面使用 else 语句处理没有异常时的情况。
<p class="tip-box">
	注意，使用 else 语句时，一定要有 except 语句才行。</p>
【示例4】异常中的 else。
<pre class="python">
def get(n):
    try:
        if n == 100:
             data = s[4]
        elif 200 &lt;= n &lt;= 500:
             file = open(100,200,300)
    except:
            print (&quot;有错误发生&quot;)
    else:
            print (&quot;没有错误发生&quot;)
　　
get(100)
get(300)
get(800)</pre>
输出结果如下：<br />
有错误发生<br />
有错误发生<br />
没有错误发生<br />
<br />
从运行结果可以看出，没有发生异常时，会执行 else 子句的流程。由此可见，当程序没有发送异常时，通过添加一个 else 子句，可以帮助我们更好地判断程序的执行情况。
<h2>
	异常中的pass</h2>
用户可以在 except 语句内使用 pass 语句来忽略所发生的异常。<br />
<br />
下面的例子将列表 a 内的所有元素相加，并输出元素相加的总和。<br />
<br />
【示例5】异常中的 pass。
<pre class="python">
a = [&quot;100&quot;, &quot;200&quot;, &quot;苹果&quot;, &quot;香蕉&quot;, &quot;100&quot;]
sm = 0
for n in a:
    try:
        sm += int(n)
    except:
        pass
　　
print (sm)</pre>
输出结果如下：<br />
400<br />
<br />
从运行结果可以看出，sm 的值是可转换的3个元素（100、200 和 100）的和。<br />
<br />
上述代码中的 int() 函数将字符串转换为整数。当 int() 函数无法将字符串转换为整数时，就会输出 ValueError 异常。在 except 语句内使用 pass 语句可以忽略所发生的 ValueError 异常。
<h2>
	Python 异常类的实例</h2>
每当有一个异常被输出时，该异常类就会创建一个实例，此实例继承了异常类的所有属性。<br />
<br />
每一个异常类实例都有一个 args 属性。args 属性是一个元组格式，这个元组格式可能只包含错误信息的字符串（1-tuple），也可能包含两个以上的元素（2-tuple、3-tuple&hellip;）。异常类不同，这个元组格式也不同。<br />
<br />
下面输出一个 IndexError 异常：
<pre class="info-box">
&gt;&gt;&gt;x = [100, 200, 300]
&gt;&gt;&gt;print (x[8])
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
IndexError: list index out of range</pre>
从运行结果可以看出，输出了一个 IndexError 异常，信息字符串是&ldquo;list index out of range&rdquo;。<br />
<br />
下面使用 try&hellip;except 语句捕捉上面的 IndexError 异常。
<pre class="python">
try:
    x = [100, 200, 300]
    print (x[8])
except IndexError as inst:
    print (inst.args[0])</pre>
输出结果如下：<br />
list index out of range<br />
<br />
在 except 语句的右方加上一个 inst 变量，它是一个异常类实例。当 IndexError 异常发生时，inst 实例就会被创建。inst 实例的 args 属性值是一个元组，输出该元组的第一个字符串就是 IndexError 异常的错误信息字符串&ldquo;list index out of range&rdquo;。<br />
<br />
下面的示例会输出 FileNotFoundError 异常，args 属性的 tuple 格式是：
<p class="info-box">
	错误号码，错误信息字符串，[文件名称]</p>
文件名称有可能不出现。
<pre class="python">
try:
    file = open(&quot;mm&quot;, &quot;r&quot;)
except FileNotFoundError as inst:
    print (inst.args)</pre>
输出结果如下：<br />
(2, &#39;No such file or directory&#39;)<br />
<br />
下面的示例会输出 SyntaxError 异常，args 属性的元组格式是：
<p class="info-box">
	错误信息字符串，(文件名称，行号，行内偏移值，文字)</p>
请看下面的代码：
<pre class="python">
try:
    a = &quot;100 &gt;&gt;&gt;30&quot;
    exec (a)
except SyntaxError as inst:
    print (inst.args)</pre>
输出结果如下：<br />
(&#39;invalid syntax&#39;, (&#39;&lt;string&gt;&#39;, 1, 7, &#39;100 &gt;&gt;&gt;30\n&#39;))<br />
<br />
使用下面的方式可以将 Python 解释器提供的错误信息字符串打印出来。
<pre class="python">
try:
    12 / 0
except ZeroDivisionError as errorMsg:
    print (errorMsg)</pre>
输出结果如下：<br />
division by zero<br />
<br />
从运行结果可以看出，errorMsg 的内容是&ldquo;division by zero&rdquo;，是由 Python 解释器设置的。
<h2>
	清除异常</h2>
Python 中的 try&hellip;finally 语句可以用于清除异常。无论 try 语句内是否运行失败，finally 语句一定会被运行。
<p class="tip-box">
	注意，try 与 except 语句可以搭配使用，try 与 finally 语句也可以搭配使用，但是 except 与 finally 语句不能放在一起使用。</p>
下面的示例是没有异常发生，fanally 语句内的程序代码还是被运行。
<pre class="python">
try:
    a = 100
finally:
    print (&#39;异常已经清除啦&#39;)</pre>
输出结果如下：<br />
异常已经清除啦<br />
<br />
下面的示例是发生了 ValueError 异常，fanally 语句内的程序代码还是被运行。
<pre class="python">
try:
    raise ValueError
finally:
    print (&#39;异常已经清除啦&#39;)</pre>
程序运行输出结果如下：<br />
异常已经清除啦<br />
&nbsp; raise ValueError<br />
ValueError</div>
	<div id="ggxc-weixin-arcbottom">
	<p>关注公众号「<span class="col-green">站长严长生</span>」，在手机上阅读所有教程，随时随地都能学习。内含一款搜索神器，免费下载全网书籍和视频。</p>
	<p style="margin-top:12px; text-align:center;">
		<img src="../templets/new/images/material/qrcode_mp_4.png" alt="公众号二维码" width="160" /><br />
		<span class="col-green">微信扫码关注公众号</span>
	</p>
</div>
	<div id="nice-arcs" class="box-bottom">
    <h4>推荐阅读</h4>
    <ul class="clearfix">
<li><a href="niz69i_8.html" title="一套完整的嵌入式开发学习路线（高薪就业版）" target="_blank">一套完整的嵌入式开发学习路线（高薪就业版）</a></li>
<li><a href="tnnfqo_4.html" title="一套课程卖1万，TMD太贵了！" target="_blank">一套课程卖1万，TMD太贵了！</a></li>
<li><a href="unnurw_4.html" title="跑了3000公里，见了一位大佬" target="_blank">跑了3000公里，见了一位大佬</a></li>
<li><a href="1345_2.html" title="C++ getline函数用法详解" target="_blank">C++ getline函数用法详解</a></li>
<li><a href="vip_2079_2.html" title="C语言插入、删除、更改文件内容" target="_blank">C语言插入、删除、更改文件内容</a></li>
<li><a href="3441_2.html" title="2路插入排序算法详解" target="_blank">2路插入排序算法详解</a></li>
<li><a href="7227_2.html" title="MySQL注释：单行注释和多行注释" target="_blank">MySQL注释：单行注释和多行注释</a></li>
<li><a href="vip_7664_2.html" title="Linux如何查看硬盘的读写性能？" target="_blank">Linux如何查看硬盘的读写性能？</a></li>
<li><a href="niz69i_8.html" title="嵌入式学习路线（高薪就业版）" target="_blank">嵌入式学习路线（高薪就业版）</a></li>
<li><a href="otr9rn4_2.html" title="Vue setup()函数的用法" target="_blank">Vue setup()函数的用法</a></li>
</ul>
</div>
	
</div>
<script type="text/javascript">
// 当前文章ID
window.arcIdRaw = 'a_' + 10071;
window.arcId = "1e20h/OBT8ceYEjuE6EqhSOk8QiijUJmMlbIzTQF/eIRmNfYziVSRaFpqhCv";
window.typeidChain = "145|119";
</script>
<div id="footer" class="clearfix">
	<div class="info left">
	<p>精美而实用的网站，分享优质编程教程，帮助有志青年。千锤百炼，只为大作；精益求精，处处斟酌；这种教程，看一眼就倾心。</p>
	<p>
		<a href="8066_2.html" target="_blank" rel="nofollow">关于网站</a> <span>|</span>
		<a href="8092_3.html" target="_blank" rel="nofollow">关于站长</a> <span>|</span>
		<a href="8097_2.html" target="_blank" rel="nofollow">如何完成一部教程</a> <span>|</span>
		<a href="9648_2.html" target="_blank" rel="nofollow">公众号</a> <span>|</span>
		<a href="8093_2.html" target="_blank" rel="nofollow">联系我们</a> <span>|</span>
		<a href="../sitemap/sitemap_2.html" target="_blank" rel="nofollow">网站地图</a>
	</p>
	<p>Copyright ©2012-2022 biancheng.net, <a href="https://beian.miit.gov.cn" target="_blank" rel="nofollow" style="color:#666;">冀ICP备2022013920号</a>, <img height="13" src="../templets/new/images/gongan_2.png" alt="公安备案图标" /><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=13110202001352" target="_blank" rel="nofollow" style="color:#666;">冀公网安备13110202001352号</a>
	</p>
	</div>
	<img id="logo_bottom" class="right" src="https://m.biancheng.net/templets/new/images/logo_bottom_2.gif" alt="底部Logo" />
	<span id="return-top"><b>↑</b></span>
</div>

<div id="addweixin-widget">
	<p>
		<script type="text/javascript">
			/*var suffix = 'c';
			var thisMin = (new Date()).getMinutes();
			if(thisMin>=40){
				suffix = 'd';
			}else if(thisMin>=20){
				suffix = 'e';
			}else{
				suffix = 'c';
			}
			document.write('<img src="https://m.biancheng.net/templets/new/images/material/qrcode_wx_'%20+%20suffix%20+'.png?v=1.7.07" alt="微信交流群" width="120" /><br />');*/
		</script>
		<img src="https://m.biancheng.net/templets/new/images/material/qrcode_mp_4.png" alt="微信交流群" width="120" />
		<span>关注微信公众号，加入官方交流群。内含一款搜索神器，免费下载全网书籍和视频。</span>
	</p>
	<span id="close-addweixin-widget" class="iconfont iconfont-close"></span>
</div>

<script type="text/javascript">
window.siteId = 4;
window.cmsTemplets = "/templets/new";
window.cmsTempletsVer = "1.7.07";

</script>

<script src="https://m.biancheng.net/templets/new/script/jquery1.12.4.min_2.js"></script>
<script src="https://m.biancheng.net/templets/new/script/common_2.js"></script>
<!-- 51la V6 -->
<span style="display: none;">
<script charset="UTF-8" id="LA_COLLECT" src="https://sdk.51.la/js-sdk-pro.min.js"></script>
<script>LA.init({id:"KDf6QzBhogyQjall",ck:"KDf6QzBhogyQjall",autoTrack:true})</script>
</span>
<!-- 51la V5 -->
<!-- <span style="display: none;"><script type="text/javascript" src="https://js.users.51.la/21368967.js"></script></span> -->
</body>
</html>