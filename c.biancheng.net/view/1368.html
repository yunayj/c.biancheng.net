<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="renderer" content="webkit" />
<meta name="force-rendering" content="webkit"/>
<meta name="applicable-device" content="pc,mobile" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="format-detection" content="telephone=no" />
<link rel="shortcut icon" href="../favicon.ico" />
<link href="../templets/new/style/common.css" rel="stylesheet" />
<title>C++ while（do-while）循环详解</title>
<meta name="description" content="while 循环 有两个重要组成部分： 进行 true 值或 false 值判断的表达式； 只要表达式为 true 就重复执行的语句或块； 图 1 显示了 while 循环的一般格式，右侧流程图直观地描绘了其工作原" />
</head>
<body>
<div id="topbar" class="clearfix">
<ul id="product-type" class="left">
<li>
<a href="../c_biancheng_default.html"><span class="iconfont iconfont-home"></span>首页</a>
</li>
<li class="active">
<a href="../sitemap/sitemap_3.html" rel="nofollow"><span class="iconfont iconfont-book"></span>教程</a>
</li>
<li>
<a href="http://vip.biancheng.net/p/vip/show.php" rel="nofollow" target="_blank"><span class="iconfont iconfont-vip"></span>VIP会员</a>
</li>
<li>
<a href="../fudao_biancheng_default.html" rel="nofollow" target="_blank"><span class="iconfont iconfont-fudao"></span>辅导班</a>
</li>
<li>
<a href="niz69i.html" target="_blank"><span class="iconfont iconfont-chip"></span>嵌入式学习路线</a>
</li>
</ul>
</div>
<div id="header" class="clearfix">
<a id="logo" class="left" href="../c_biancheng_default.html">
<img height="26" src="../templets/new/images/logo.png" alt="C语言中文网" />
</a>
<ul id="nav-main" class="hover-none left clearfix">
<li class="wap-yes"><a href="../c_biancheng_default.html">首页</a></li>
<li><a href="../c/c_3.html">C语言教程</a></li>
<li><a href="../cplus/cplus.html">C++教程</a></li>
<li><a href="../python/python.html">Python教程</a></li>
<li><a href="../java/java_3.html">Java教程</a></li>
<li><a href="../linux_tutorial/linux_tutorial.html">Linux入门</a></li>
<li><a href="../sitemap/sitemap_3.html" title="网站地图">更多&gt;&gt;</a></li>
</ul>
<a href="http://vip.biancheng.net/?from=topbar" class="user-info iconfont iconfont-user hover-none" target="_blank" rel="nofollow" title="用户中心"></a>
</div>
<div id="main-no-course" class="clearfix">
<div class="arc-info">
<span class="position"><span class="iconfont iconfont-home2"></span> <a href="../c_biancheng_default.html">首页</a> &gt; 编程笔记</span>
</div>
<div id="ggxc-position-bottom" class="ggxc-box"></div>
<h1>C++ while（do-while）循环详解</h1>
<div id="ggxc-arctop-pc-1" class="ggxc-box"></div>
<div id="arc-body"><span style="color:#008000;"><a href='180.html' target='_blank'>while 循环</a></span>有两个重要组成部分：
<ol>
<li>
进行 true 值或 false 值判断的表达式；</li>
<li>
只要表达式为 true 就重复执行的语句或块；</li>
</ol>
<br />
图 1 显示了 while 循环的一般格式，右侧流程图直观地描绘了其工作原理。
<div style="text-align: center;">
<br />
<img alt="while 循环的语句结构及流程图" src="../uploads/allimg/181115/2-1Q11515402S25.gif" /><br />
图 1 while 循环的语句结构及流程图</div>
<br />
现在来看一看 while 循环的每个部分。第一行，有时称为循环头，由关键字 while 组成，后跟待测试的条件，括在括号中。条件由任何可被判断为 true 或 false 的表达式表示。接下来是循环体，它包含一个或多个 <a href='../cplus/cplus.html' target='_blank'>C++</a> 语句。<br />
<br />
循环的工作原理是，首先判断条件表达式的值，如果它是真的，则循环体中的每个语句都被执行；然后，再次测试条件，如果条件表达式仍然为 true，则循环体中的每个语句将再次被执行。如此循环往复，直到条件表达式被判断为 false。<br />
<br />
请注意，与 if 语句一样，在有条件执行的主体中的每个语句都以分号结尾，但在括号中的条件表达式后面没有分号，这是因为 while 循环不完整，后面没有跟随的语句。而且，与 if 语句一样，当循环体包含两个或多个语句时，这些语句必须用大括号括起来。当循环的主体只包含一个语句时，可以省略括号。<br />
<br />
基本上，while 循环就像是一个可以执行一遍又一遍的 if 语句。只要括号中的表达式为 true，则有条件执行的语句将不断重复。<br />
<br />
下面的程序使用了 while 循环打印&ldquo;Hello&rdquo;字符串 5 次。
<pre class="cpp">
#include &lt;iostream&gt;
u<a href='https://c.biancheng.net/ref/sin.html' target='_blank'>sin</a>g namespace std;

int main()
{
    int count = 1;
    while (count&lt;= 5)
    {
        cout &lt;&lt; &quot;Hello &quot;;
        count = count + 1;
    }
    cout &lt;&lt; &quot;\nThat&#39;s all!\n&quot;;
    return 0;
}</pre>
程序输出结果：
<p class="info-box">
Hello Hello Hello Hello Hello<br />
That&#39;s all!</p>
分析这个程序。在第 6 行中，整数变量 count 被定义并用值 1 初始化。在第 7 行中，while 循环以下面的语句开头：<br />
<p class="info-box">
while (count&lt;= 5)</p>
该语句测试变量 count 以确定其值是否小于或等于 5。因为它确实小于 5，所以循环体（第 9 行和第 10 行）中的语句被执行：<br />
<p class="info-box">
cout &lt;&lt; &quot;Hello&nbsp;&nbsp; &quot;;<br />
count = count + 1;</p>
第 9 行中的语句将显示字符串&ldquo;Hello&rdquo;。第 10 行中的语句则给变量 count 加上 1，使其值变成了 2。这是循环体中的最后一个语句，因此在执行之后循环又一次开始。它再次测试表达式&ldquo;count&lt;=5&rdquo;，并且由于仍然为 true，循环体中的语句将再次执行，该循环不断重复，直到变量 count 等于 6，使表达式&ldquo;count&lt;=5&rdquo;为 false，然后退出循环，如图 2 所示。
<div style="text-align: center;">
<br />
<img alt="while循环工作原理" src="../uploads/allimg/181115/2-1Q11515421W56.gif" /><br />
图 2 while 循环工作原理</div>
<br />
循环的每一次执行称为<span style="color:#008000;">迭代</span>。以上示例中的循环将执行 5 次迭代，直至表达式&ldquo;count&lt;=5&rdquo;被测试并且发现为 false，导致循环终止，然后程序继续执行该循环之后的语句。控制循环迭代次数的变量称为<span style="color:#008000;">循环控制变量</span>，在上面的例子中，count 就是循环控制变量。<br />
<h2>
while 是一个预测试循环</h2>
while 循环是一个预测试循环。这意味着它会在每次迭代之前测试其状态。如果测试表达式为 false，则循环将永远不会迭代。如果要确保一个 while 循环至少执行一次，则必须初始化相关的数据，使测试表达式一开始即为 true。<br />
<br />
例如，注意上面程序中变量 count 的定义：<br />
<p class="info-box">
int count = 1;</p>
count 变量被初始化为值 1。如果数字已经被初始化为大于 5 的值，则循环将永远不会执行，如下面的程序段所示：<br />
<pre class="info-box">
int count = 6;
while (count &lt;= 5)
{
    cout &lt;&lt; &quot;Hello &quot;;
    count = count + 1;
}</pre>
<h2>
无限循环</h2>
除极少数情况外，循环必须包括一种终止方式。这意味着循环中的某些内容必须最终使测试表达式为 false。在上面程序中，当表达式&ldquo;count &lt;= 5&rdquo;变为 false 时，循环停止。<br />
<br />
如果循环没有停止的方式，则称为<span style="color:#008000;">无限循环</span>。无限循环将持续重复，直到程序中断，示例如下：<br />
<pre class="info-box">
int count = 1;
while (count&lt;= 5)
{
    cout &lt;&lt; &quot;Hello &quot;;
}</pre>
这是一个无限循环，因为它不包含更改 count 变量值的语句。每次测试表达式&ldquo;count &lt;= 5&rdquo;时，count 的值都是 1。<br />
<h4>
小心分号</h4>
通过在 while 循环的第一行之后意外地放置一个分号也可以创建无限循环，示例如下:<br />
<pre class="info-box">
int count = 1;
while (count &lt;= 5) ; //该分号是一个错误
{
    cout &lt;&lt; &quot;Hello &quot;;
    count = count + 1;
}</pre>
因为编译器在发现开始语句块的大括号之前看见了第一行末尾的分号，所以它会在分号的位置结束循环。尤其是它会将分号前面丢失的语句解释为空语句，也就是什么都不做的语句，然后将 while 语句和它后面的任何内容断开。<br />
<br />
对于编译器来说，整个循环看起来就像下面这样：<br />
<p class="info-box">
while(count&lt;= 5);</p>
这个 while 循环将持续执行空语句，当然它永远不会执行任何操作。该程序似乎&ldquo;陷入迷惘&rdquo;，因为没有任何屏幕输出，也不会显示任何活动。<br />
<h4>
不要忘记大括号</h4>
在编写循环语句时，如果有条件执行的语句是一个语句块，则不要忘记将所有的语句都包含在一组大括号中。如果大括号意外被忽略，则 while 语句有条件执行的仅仅是下一个语句，请看下面的代码示例：<br />
<pre class="info-box">
int count = 1;
//该循环忘记使用大括号
while (count &lt;= 5)
    cout &lt;&lt; &quot;Hello &quot;;
    count = count + 1;</pre>
在这段代码中，只有一个语句，也就是 cout 语句，是在 while 循环的主体中。给变量 count 加 1 的语句不在循环体内，所以 count 的值保持为 1，循环测试条件永远为 true。循环将一遍又一遍地打印&ldquo;Hello&rdquo;字符串，直到用户停止程序。<br />
<h4>
不要混清 == 与 =</h4>
循环的另一个常见陷阱是，在打算使用 == 运算符时，却意外地使用了 = 运算符。例如，以下示例就是一个无限循环，因为作为循环条件的测试表达式每次都给 remainder 赋值为 1，而不是测试 remainder 是否等于 1：<br />
<pre class="info-box">
while (remainder = 1) //错误：条件表达式为赋值语句
{
    cout &lt;&lt; &quot;Enter a number: &quot;;
    cin &gt;&gt; num;
    remainder = num % 2;
}</pre>
请记住，任何非零值都将被判断为 true。<br />
<h2>
do-while 循环</h2>
除了 while 循环之外，C++ 还提供了<span style="color:#008000;"> do-while 循环</span>。do-while 循环看起来类似于把一个 while 循环倒过来。图 3 显示了其格式和流程图，右侧流程图直观地描绘了其工作原理。
<div style="text-align: center;">
<br />
<img alt="do-while循环的语句结构及流程图" src="../uploads/allimg/181115/2-1Q115154540G7.gif" /><br />
图 3 do-<a href='180.html' target='_blank'>while循环</a>的语句结构及流程图</div>
<br />
与 while 循环一样，如果循环体中只有一个有条件执行的语句，则可以省略大括号。注意，do-while 循环必须在测试表达式的右括号后用分号终止。<br />
<br />
除了外观形式，<span style="color:#b22222;">do-while 循环和 while 循环之间的区别是 do-while 是一个后测试循环，这意味着在循环结束时，也就是在每次迭代完成后，才测试其表达式。</span>因此，即使测试表达式在开始时为 false，do-while 也至少要执行一次迭代。<br />
<br />
例如，在以下 while 循环中，cout 语句根本不会执行：<br />
<pre class="info-box">
int x = 1;
while (x &lt; 0)
    cout &lt;&lt; x &lt;&lt; endl;</pre>
但是在以下 do-while 循环中的 cout 语句将执行一次，因为 do-while 循环在迭代结束之前不会判断表达式 x&lt;0：
<pre class="info-box">
int x = 1;
do
    cout &lt;&lt; x &lt;&lt; endl;
while (x &lt; 0);</pre>
如果要确保循环执行至少一次，则应使用 do-while 循环。</div>
<div id="ggxc-weixin-arcbottom">
<p>关注公众号「<span class="col-green">站长严长生</span>」，在手机上阅读所有教程，随时随地都能学习。内含一款搜索神器，免费下载全网书籍和视频。</p>
<p style="margin-top:12px; text-align:center;">
<img src="../templets/new/images/material/qrcode_mp.png" alt="公众号二维码" width="160" /><br />
<span class="col-green">微信扫码关注公众号</span>
</p>
</div>
<div id="nice-arcs" class="box-bottom">
<h4>推荐阅读</h4>
<ul class="clearfix">
<li><a href="niz69i_4.html" title="一套完整的嵌入式开发学习路线（高薪就业版）" target="_blank">一套完整的嵌入式开发学习路线（高薪就业版）</a></li>
<li><a href="tnnfqo_2.html" title="一套课程卖1万，TMD太贵了！" target="_blank">一套课程卖1万，TMD太贵了！</a></li>
<li><a href="unnurw_2.html" title="跑了3000公里，见了一位大佬" target="_blank">跑了3000公里，见了一位大佬</a></li>
<li><a href="894.html" title="Java Double类" target="_blank">Java Double类</a></li>
<li><a href="2605.html" title="MySQL创建索引（CREATE INDEX）" target="_blank">MySQL创建索引（CREATE INDEX）</a></li>
<li><a href="vip_3434.html" title="B-树及其基本操作（插入和删除）详解" target="_blank">B-树及其基本操作（插入和删除）详解</a></li>
<li><a href="vip_7355.html" title="goroutine（Go语言并发）如何使用才更加高效？" target="_blank">goroutine（Go语言并发）如何使用才更加高效？</a></li>
<li><a href="vip_7361.html" title="Go语言与C/C++进行交互" target="_blank">Go语言与C/C++进行交互</a></li>
<li><a href="../spring/attr-injection.html" title="Spring Bean属性注入" target="_blank">Spring Bean属性注入</a></li>
<li><a href="abwus0m.html" title="《数据结构与算法分析(C语言描述)》原书第2版PDF下载（高清完整版）" target="_blank">《数据结构与算法分析(C语言描述)》原书第2版PDF下载（高清完整版）</a></li>
</ul>
</div>
</div>
<script type="text/javascript">
// 当前文章ID
window.arcIdRaw = 'a_' + 1368;
window.arcId = "4961rNvRFP7DGX767peeeObQbPH15NXx313M4OpOtDiN+8QAACuDYFDwCnc";
window.typeidChain = "120|119";
</script>
<div id="footer" class="clearfix">
<div class="info left">
<p>精美而实用的网站，分享优质编程教程，帮助有志青年。千锤百炼，只为大作；精益求精，处处斟酌；这种教程，看一眼就倾心。</p>
<p>
<a href="8066.html" target="_blank" rel="nofollow">关于网站</a> <span>|</span>
<a href="8092_2.html" target="_blank" rel="nofollow">关于站长</a> <span>|</span>
<a href="8097.html" target="_blank" rel="nofollow">如何完成一部教程</a> <span>|</span>
<a href="9648.html" target="_blank" rel="nofollow">公众号</a> <span>|</span>
<a href="8093.html" target="_blank" rel="nofollow">联系我们</a> <span>|</span>
<a href="../sitemap/sitemap_3.html" target="_blank" rel="nofollow">网站地图</a>
</p>
<p>Copyright ©2012-2022 biancheng.net, <a href="https://beian.miit.gov.cn" target="_blank" rel="nofollow" style="color:#666;">冀ICP备2022013920号</a>, <img height="13" src="../templets/new/images/gongan.png" alt="公安备案图标" /><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=13110202001352" target="_blank" rel="nofollow" style="color:#666;">冀公网安备13110202001352号</a>
</p>
</div>
<img id="logo_bottom" class="right" src="https://c.biancheng.net/templets/new/images/logo_bottom.gif" alt="底部Logo" />
<span id="return-top"><b>↑</b></span>
</div>
<div id="addweixin-widget">
<p>
<script type="text/javascript">
			/*var suffix = 'c';
			var thisMin = (new Date()).getMinutes();
			if(thisMin>=40){
				suffix = 'd';
			}else if(thisMin>=20){
				suffix = 'e';
			}else{
				suffix = 'c';
			}
			document.write('<img src="https://c.biancheng.net/templets/new/images/material/qrcode_wx_'%20+%20suffix%20+'.png?v=1.7.07" alt="微信交流群" width="120" /><br />');*/
		</script>
<img src="../templets/new/images/material/qrcode_mp_2.png" alt="微信交流群" width="120" />
<span>关注微信公众号，加入官方交流群。内含一款搜索神器，免费下载全网书籍和视频。</span>
</p>
<span id="close-addweixin-widget" class="iconfont iconfont-close"></span>
</div>
<script type="text/javascript">
window.siteId = 4;
window.cmsTemplets = "/templets/new";
window.cmsTempletsVer = "1.7.07";

</script>
<script src="../templets/new/script/jquery1.12.4.min.js"></script>
<script src="https://c.biancheng.net/templets/new/script/common.js"></script>
<span style="display: none;">
<script charset="UTF-8" id="LA_COLLECT" src="https://sdk.51.la/js-sdk-pro.min.js"></script>
<script>LA.init({id:"KDf6QzBhogyQjall",ck:"KDf6QzBhogyQjall",autoTrack:true})</script>
</span>
</body>
</html>