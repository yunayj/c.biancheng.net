<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
<!-- 启用Chromium高速渲染模式 -->
<meta name="renderer" content="webkit" />
<meta name="force-rendering" content="webkit"/>
<!-- 禁止百度转码 -->
<meta name="applicable-device" content="pc,mobile" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<!-- 禁止识别电话号码 -->
<meta name="format-detection" content="telephone=no" />

<link rel="shortcut icon" href="../favicon_3.ico" />
<link href="../templets/new/style/common_2.css" rel="stylesheet" />
<title>JS正则表达式语法大全（非常详细）</title>
<meta name="description" content="根据正则表达式语法规则，大部分字符仅能够描述自身，这些字符被称为普通字符，如所有的字母、数字等。 元字符就是拥有特动功能的特殊字符，大部分需要加反斜杠进行标识，以便" />
</head>
<body>
<div id="topbar" class="clearfix">
	<ul id="product-type" class="left">
		<li>
			<a href="../m_biancheng_default_2.html"><span class="iconfont iconfont-home"></span>首页</a>
		</li>
		<li class="active">
			<a href="../sitemap/sitemap_2.html" rel="nofollow"><span class="iconfont iconfont-book"></span>教程</a>
		</li>
		<li>
			<a href="http://vip.biancheng.net/p/vip/show.php" rel="nofollow" target="_blank"><span class="iconfont iconfont-vip"></span>VIP会员</a>
		</li>
		<li>
			<a href="../fudao_biancheng_default.html" rel="nofollow" target="_blank"><span class="iconfont iconfont-fudao"></span>辅导班</a>
		</li>
		<li>
			<a href="niz69i_5.html" target="_blank"><span class="iconfont iconfont-chip"></span>嵌入式学习路线</a>
		</li>
		<!-- <li>
			<a href="https://www.54benniao.com/c_course/?from=biancheng" target="_blank"><span class="iconfont iconfont-c-course"></span>C语言高级课程</a>
		</li>
		<li>
			<a href="https://www.54benniao.com/java_course/?from=biancheng" target="_blank"><span class="iconfont iconfont-java-course"></span>Java高级课程</a>
		</li>
		<li>
			<a href="http://vip.biancheng.net/p/q2a/show.php" rel="nofollow" target="_blank"><span class="iconfont iconfont-q2a"></span>一对一答疑</a>
		</li> -->
	</ul>
</div>
<div id="header" class="clearfix">
	<a id="logo" class="left" href="../m_biancheng_default_2.html">
		<img height="26" src="../templets/new/images/logo_2.png" alt="C语言中文网" />
	</a>
	<ul id="nav-main" class="hover-none left clearfix">
		<li class="wap-yes"><a href="../m_biancheng_default_2.html">首页</a></li>
		<li><a href="../c/c_4.html">C语言教程</a></li>
		<li><a href="../cplus/cplus_2.html">C++教程</a></li>
		<li><a href="../python/python_2.html">Python教程</a></li>
		<li><a href="../java/java_2.html">Java教程</a></li>
		<li><a href="../linux_tutorial/linux_tutorial_2.html">Linux入门</a></li>
		<li><a href="../sitemap/sitemap_2.html" title="网站地图">更多&gt;&gt;</a></li>
	</ul>
	<a href="http://vip.biancheng.net/?from=topbar" class="user-info iconfont iconfont-user hover-none" target="_blank" rel="nofollow" title="用户中心"></a>
</div>
<div id="main-no-course" class="clearfix">
	<div class="arc-info">
		<span class="position"><span class="iconfont iconfont-home2"></span> <a href="../m_biancheng_default_2.html">首页</a> &gt; 编程笔记</span>
	</div>
	<div id="ggxc-position-bottom" class="ggxc-box"></div>
	<h1>JS正则表达式语法大全（非常详细）</h1>
	<div id="ggxc-arctop-pc-1" class="ggxc-box"></div>
	<div id="arc-body">前面几节讲解了如何在 <a href='../js/js_2.html' target='_blank'>JavaScript</a> 中使用正则表达式，以及如何执行匹配，本节就来讲一下正则表达式的具体语法。<br />
<br />
正则表达式是一种通用的工具，在 <a href='../java/java_2.html' target='_blank'>Java</a>Script、<a href='../php/php_2.html' target='_blank'>PHP</a>、Java、<a href='../python/python_2.html' target='_blank'>Python</a>、<a href='../cplus/cplus_2.html' target='_blank'>C++</a> 等几乎所有的编程语言中都能使用；但是，不同编程语言对正则表达式语法的支持不尽相同，有的编程语言支持所有的语法，有的仅支持一个子集。本节讲到的正则表达式语法适用于 JavaScript。<br />
<br />
正则表达式的语法体现在字符模式上。字符模式是一组特殊格式的字符串，它由一系列特殊字符和普通字符构成，其中每个特殊字符都包含一定的语义和功能。
<h2>
	描述字符</h2>
根据正则表达式语法规则，大部分字符仅能够描述自身，这些字符被称为普通字符，如所有的字母、数字等。<br />
<br />
元字符就是拥有特动功能的特殊字符，大部分需要加反斜杠进行标识，以便于普通字符进行区别，而少数元字符，需要加反斜杠，以便转译为普通字符使用。JavaScript 正则表达式支持的元字符如表所示。<br />
<br />
<table>
	<caption>
		元字符</caption>
	<tbody>
		<tr>
			<th>
				元字符</th>
			<th>
				描述</th>
		</tr>
		<tr>
			<td>
				.</td>
			<td>
				查找单个字符，除了换行和行结束符</td>
		</tr>
		<tr>
			<td>
				\w</td>
			<td>
				查找单词字符</td>
		</tr>
		<tr>
			<td>
				\W</td>
			<td>
				查找非单词字符</td>
		</tr>
		<tr>
			<td>
				\d</td>
			<td>
				查找数字</td>
		</tr>
		<tr>
			<td>
				\D</td>
			<td>
				查找非数字字符</td>
		</tr>
		<tr>
			<td>
				\s</td>
			<td>
				查找空白字符</td>
		</tr>
		<tr>
			<td>
				\S</td>
			<td>
				查找非空白字符</td>
		</tr>
		<tr>
			<td>
				\b</td>
			<td>
				匹配单词边界</td>
		</tr>
		<tr>
			<td>
				\B</td>
			<td>
				匹配非单词边界</td>
		</tr>
		<tr>
			<td>
				\0</td>
			<td>
				查找 NUL字符</td>
		</tr>
		<tr>
			<td>
				\n</td>
			<td>
				查找换行符</td>
		</tr>
		<tr>
			<td>
				\f</td>
			<td>
				查找换页符</td>
		</tr>
		<tr>
			<td>
				\r</td>
			<td>
				查找回车符</td>
		</tr>
		<tr>
			<td>
				\t</td>
			<td>
				查找制表符</td>
		</tr>
		<tr>
			<td>
				\v</td>
			<td>
				查找垂直制表符</td>
		</tr>
		<tr>
			<td>
				\xxx</td>
			<td>
				查找以八进制数&nbsp;xxxx&nbsp;规定的字符</td>
		</tr>
		<tr>
			<td>
				\xdd</td>
			<td>
				查找以十六进制数&nbsp;dd&nbsp;规定的字符</td>
		</tr>
		<tr>
			<td>
				\uxxxx</td>
			<td>
				查找以十六进制&nbsp;xxxx规定的 Unicode&nbsp;字符</td>
		</tr>
	</tbody>
</table>
<br />
表示字符的方法有多种，除了可以直接使用字符本身外，还可以使用 ASCII&nbsp;编码或者 Unicode&nbsp;编码来表示。
<h4>
	示例1</h4>
下面使用 ASCII&nbsp;编码定义正则表达式直接量。
<pre class="javascript">
var r = /\x61/;
var s = &quot;JavaScript&quot;;
var a = s.match(s);</pre>
由于字母&nbsp;a&nbsp;的 ASCII&nbsp;编码为 97，被转换为十六进制数值后为 61，因此如果要匹配字符&nbsp;a，就应该在前面添加&ldquo;\x&rdquo;前缀，以提示它为 ASCII&nbsp;编码。
<h4>
	示例2</h4>
除了十六进制外，还可以直接使用八进制数值表示字符。
<pre class="javascript">
var r = /\141/;
var s = &quot;JavaScript&quot;;
var a = s.match(r);</pre>
使用十六进制需要添加&ldquo;\x&rdquo;前缀，主要是为了避免语义混淆，而八进制则不需要添加前缀。
<h4>
	示例3</h4>
ASCII&nbsp;编码只能够匹配有限的单字节字符，使用 Unicode&nbsp;编码可以表示双字节字符。Unicode&nbsp;编码方式：&ldquo;\u&rdquo;前缀加上 4&nbsp;位十六进制值。
<pre class="javascript">
var r = &quot;/\u0061/&quot;;
var s = &quot;JavaScript&quot;;
var a = s.match(s);</pre>
<br />
在 RegExp()&nbsp;构造函数中使用元字符时，应使用双斜杠。
<pre class="javascript">
var r = new RegExp(&quot;\\u0061&quot;); </pre>
RegExp()&nbsp;构造函数的参数只接受字符串，而不是字符模式。在字符串中，任何字符加反斜杠还表示字符本身，如字符串&ldquo;\u&rdquo;就被解释为&nbsp;u&nbsp;本身，所以对于&ldquo;\u0061&rdquo;字符串来说，在转换为字符模式时，就被解释为&ldquo;u0061&rdquo;，而不是&ldquo;\u0061&rdquo;，此时反斜杠就失去转义功能。解决方法：在字符&nbsp;u&nbsp;前面加双反斜杠。
<h2>
	描述字符范围</h2>
在正则表达式语法中，放括号表示字符范围。在方括号中可以包含多个字符，表示匹配其中任意一个字符。如果多个字符的编码顺序是连续的，可以仅指定开头和结尾字符，省略中间字符，仅使用连字符<code style="font-size: 14px;">~</code>表示。如果在方括号内添加脱字符<code style="font-size: 14px;">^</code>前缀，还可以表示范围之外的字符。例如：
<ul>
	<li>
		[abc]：查找方括号内任意一个字符。</li>
	<li>
		[^abc]：查找不在方括号内的字符。</li>
	<li>
		[0-9]：查找从 0&nbsp;至 9&nbsp;范围内的数字，即查找数字。</li>
	<li>
		[a-z]：查找从小写&nbsp;a&nbsp;到小写&nbsp;z&nbsp;范围内的字符，即查找小写字母。</li>
	<li>
		[A-Z]：查找从大写&nbsp;A&nbsp;到大写&nbsp;Z&nbsp;范围内的字符，即查找大写字母。</li>
	<li>
		[A-z]：查找从大写&nbsp;A&nbsp;到小写&nbsp;z&nbsp;范围内的字符，即所有大小写的字母。</li>
</ul>
<h4>
	示例1</h4>
字符范围遵循字符编码的顺序进行匹配。如果将要匹配的字符恰好在字符编码表中特定区域内，就可以使用这种方式表示。<br />
<br />
如果匹配任意 ASCII&nbsp;字符：
<pre class="javascript">
var r = /[\u0000-\u00ff]/g;</pre>
如果匹配任意双字节的汉字：
<pre class="javascript">
var r = /[^\u0000-\u00ff]/g;</pre>
如果匹配任意大小写字母和数字：
<pre class="javascript">
var r = /[a-zA-Z0-9]/g;</pre>
使用 Unicode&nbsp;编码设计，匹配数字：
<pre class="javascript">
var r = /[\u0030-\u0039]/g;</pre>
使用下面字符模式可以匹配任意大写字母：
<pre class="javascript">
var r = /[\u0041-\u004A]/g;</pre>
使用下面字符模式可以匹配任意小写字母：
<pre class="javascript">
var r = /[\u0061-\u007A]/g;</pre>
<h4>
	示例2</h4>
在字符范围内可以混用各种字符模式。
<pre class="javascript">
var s = &quot;abcdez&quot;;  //字符串直接量
var r = /[abce-z]/g;  //字符a、b、c，以及从e~z之间的任意字符
var a = s.match(r);  //返回数组[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;e&quot;,&quot;z&quot;]</pre>
<h4>
	示例3</h4>
在中括号内不要有空格，否则会误解为还要匹配空格。
<pre class="javascript">
var r = /[0-9]/g;</pre>
<h4>
	示例4</h4>
字符范围可以组合使用，以便设计更灵活的匹配模式。
<pre class="javascript">
var s = &quot;abc4 abd6 abe3 abf1 abg7&quot;;  //字符串直接量
var r = /ab[c-g][1-7]/g;  //前两个字符为ab，第三个字符为从c到g，第四个字符为1~7的任意数字
var a = s.match(r);  //返回数组[&quot;abc4&quot;,&quot;abd6&quot;,&quot;abe3&quot;,&quot;abf1&quot;,&quot;abg7&quot;]</pre>
<h4>
	示例5</h4>
使用反义字符范围可以匹配很多无法直接描述的字符，达到以少应多的目的。
<pre class="javascript">
var r = /[^0123456789]/g;</pre>
在这个正则表达式中，将会匹配除了数字以外任意的字符。反义字符类比简单字符类的功能更强大和实用。
<h2>
	选择匹配</h2>
选择匹配类似于 JavaScript&nbsp;的逻辑与运算，使用竖线<code style="font-size: 14px;">|</code>描述，表示在两个子模式的匹配结果中任选一个。例如：<br />
1)&nbsp;匹配任意数字或字母
<pre class="javascript">
var r = /\w+|\d+/;</pre>
2)&nbsp;可以定义多重选择模式。设计方法：在多个子模式之间加入选择操作符。
<pre class="javascript">
var r = /(abc)|(efg)|(123)|(456)/;</pre>
<span style="color: rgb(178, 34, 34);">为了避免歧义，应该为选择操作的多个子模式加上小括号。</span>
<h4>
	示例</h4>
设计对提交的表单字符串进行敏感词过滤。先设计一个敏感词列表，然后使用竖线把它们连接在一起，定义选择匹配模式，最后使用字符串的&nbsp;replace()&nbsp;方法把所有敏感字符替换为可以显示的编码格式。代码如下：
<pre class="javascript">
var s = &#39;&lt;meta charset=&quot;utf-8&quot;&gt;&#39;;  //待过滤的表单提交信息
var r = /\&#39;|\&quot;|\&lt;|\&gt;/gi;  //过滤敏感字符的正则表达式
function f() {  //替换函数
    ////把敏感字符替换为对应的网页显示的编码格式
    return &quot;&amp;#&quot; + arguments[0].charCodeAt(0) + &quot;;&quot;;
}
var a =s.replace(r,f);  //执行过滤替换 
document.write(a);  //在网页中显示正常的字符信息
console.log(a);</pre>
显示结果如下：<br />
<br />
<div style="text-align: center;">
	<img alt="" src="../uploads/allimg/190905/6-1ZZ51639124Q_2.gif" /></div>
<h2>
	重复匹配</h2>
在正则表达式语法中，定义了一组重复类量词，如表所示。它们定义了重复匹配字符的确数或约数。<br />
<br />
<table>
	<caption>
		重复类量词列表</caption>
	<tbody>
		<tr>
			<th>
				量词</th>
			<th>
				描述</th>
		</tr>
		<tr>
			<td>
				n+</td>
			<td>
				匹配任何包含至少一个&nbsp;n&nbsp;的字符串</td>
		</tr>
		<tr>
			<td>
				n*</td>
			<td>
				匹配任何包含零个或多个&nbsp;n&nbsp;的字符串</td>
		</tr>
		<tr>
			<td>
				n?</td>
			<td>
				匹配任何包含零个或一个&nbsp;n&nbsp;的字符串</td>
		</tr>
		<tr>
			<td>
				n{x}</td>
			<td>
				匹配包含&nbsp;x&nbsp;个&nbsp;n&nbsp;的序列的字符串</td>
		</tr>
		<tr>
			<td>
				n{x,y}</td>
			<td>
				匹配包含最少&nbsp;x&nbsp;个、最多&nbsp;y&nbsp;个&nbsp;n&nbsp;的序列的字符串</td>
		</tr>
		<tr>
			<td>
				n{x,}</td>
			<td>
				匹配包含至少&nbsp;x&nbsp;个&nbsp;n&nbsp;的序列的字符串</td>
		</tr>
	</tbody>
</table>
<h4>
	示例</h4>
下面结合示例进行演示说明，先设计一个字符串：
<pre class="javascript">
var s = &quot;ggle gogle google gooogle goooogle gooooogle goooooogle gooooooogle goooooooogle&quot;;</pre>
<br />
1)&nbsp;如果仅匹配单词&nbsp;ggle&nbsp;和&nbsp;gogle，可以设计：
<pre class="javascript">
var r = /go?gle/g;
var a = s.match(r);</pre>
量词<code style="font-size: 14px;">?</code>表示前面字符或子表达式为可有可无，等效于：
<pre class="javascript">
var r = /go{0,1}gle/g;
var a = s.match(r);</pre>
<br />
2)&nbsp;如果匹配第 4&nbsp;个单词&nbsp;gooogle，可以设计：
<pre class="javascript">
var r = /go{3}gle/g;
var a = s.match(r);</pre>
等效于：
<pre class="javascript">
var r = /gooogle/g;
var a = s.match(r);</pre>
<br />
3)&nbsp;如果匹配第 4&nbsp;个到第 6&nbsp;个之间的单词，可以设计：
<pre class="javascript">
var r = /go{3,5}gle/g;
var a = s.match(r);</pre>
<br />
4)&nbsp;如果匹配所有单词，可以设计：
<pre class="javascript">
var r = /go*gle/g;
var a = s.match(r);</pre>
量词<code style="font-size: 14px;">*</code>表示前面字符或表达式可以不出现，或者重复出现任意多次。等效于：
<pre class="javascript">
var r = /go(0,)gle/g;
var a = s.match(r);</pre>
<br />
5)&nbsp;如果匹配包含字符&ldquo;o&rdquo;的所有词，可以设计：
<pre class="javascript">
var r = /go+gle/g;
var a = s.match(r);</pre>
量词<code style="font-size: 14px;">+</code>表示前面字符或子表达式至少出现 1&nbsp;次，最多重复次数不限。等效于：
<pre class="javascript">
var r = /go{1,}gle/g;
var a = s.match(r);</pre>
<br />
重复类量词总是出现在它们所作用的字符或子表达式后面。如果想作用于多个字符，需要使用小括号把它们包裹在一起形成一个子表达式。
<h2>
	惰性匹配</h2>
重复类量词都具有贪婪性，在条件允许的前提下，会匹配尽可能多的字符。
<ul>
	<li>
		?、{n} 和 {n,m}&nbsp;重复类具有弱贪婪性，表现为贪婪的有限性。</li>
	<li>
		*、+&nbsp;和 {n,}&nbsp;重复类具有强贪婪性，表现为贪婪的无限性。</li>
</ul>
<h4>
	示例1</h4>
越是排在左侧的重复类量词匹配优先级越高。下面示例显示当多个重复类量词同时满足条件时，会在保证右侧重复类量词最低匹配次数基础上，使最左侧的重复类量词尽可能占有所有字符。
<pre class="javascript">
var s = &quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&quot;;
var r = /(&lt;.*&gt;)(&lt;.*&gt;)/
var a = s.match(r);
//左侧表达式匹配&quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&quot;
console.log(a[1])；
console.log(a[2]);  //右侧表达式匹配&ldquo;&lt;/html&gt;&rdquo;</pre>
与贪婪匹配相反，惰性匹配将遵循另一种算法：在满足条件的前提下，尽可能少的匹配字符。定义惰性匹配的方法：在重复类量词后面添加问号?限制词。贪婪匹配体现了最大化匹配原则，惰性匹配则体现最小化匹配原则。
<h4>
	示例2</h4>
下面示例演示了如何定义匹配模式。
<pre class="javascript">
var s = &quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&quot;;
var r = /&lt;.*?&gt;/
var a = s.match(r);  //返回单个元素数组[&quot;&lt;html&gt;&quot;]</pre>
在上面示例中，对于正则表达式 /&lt;.*?&gt;/&nbsp;来说，它可以返回匹配字符串 &quot;&lt;&gt;&quot;，但是为了能够确保匹配条件成立，在执行中还是匹配了带有 4&nbsp;个字符的字符串&ldquo;html&rdquo;。惰性取值不能够以违反模式限定的条件而返回，除非没有找到符合条件的字符串，否则必须满足它。<br />
<br />
针对 6&nbsp;种重复类惰性匹配的简单描述如下：
<ul>
	<li>
		{n,m}?：尽量匹配&nbsp;n&nbsp;次，但是为了满足限定条件也可能最多重复&nbsp;m&nbsp;次。</li>
	<li>
		{n}?：尽量匹配&nbsp;n&nbsp;次。</li>
	<li>
		{n,}?：尽量匹配&nbsp;n&nbsp;次，但是为了满足限定条件也可能匹配任意次。</li>
	<li>
		??：尽量匹配，但是为了满足限定条件也可能最多匹配 1&nbsp;次，相当于 {0,1}?。</li>
	<li>
		+?：尽量匹配 1&nbsp;次，但是为了满足限定条件也可能匹配任意次，相当于 {1,}?。</li>
	<li>
		*? ：尽量不匹配，但是为了满足限定条件也可能匹配任意次，相当于 {0,}?。</li>
</ul>
<h2>
	边界量词</h2>
边界就是确定匹配模式的位置，如字符串的头部或尾部，具体说明如表所示。<br />
<table>
	<caption>
		JavaScript 正则表达式支持的边界量词</caption>
	<tbody>
		<tr>
			<th>
				量词</th>
			<th>
				说明</th>
		</tr>
		<tr>
			<td>
				^</td>
			<td>
				匹配开头，在多行检测中，会匹配一行的开头</td>
		</tr>
		<tr>
			<td>
				$</td>
			<td>
				匹配结尾，在多行检测中，会匹配一行的结尾</td>
		</tr>
	</tbody>
</table>
<br />
下面代码演示如何使用边界量词。先定义字符串：
<pre class="javascript">
var s = &quot;how are you&quot;</pre>
1)&nbsp;匹配最后一个单词
<pre class="javascript">
var r = /\w+$/;
var a = s.match(r);  //返回数组[&quot;you&quot;]</pre>
2)&nbsp;匹配第一个单词
<pre class="javascript">
var r = /^\w+/;
var a = s.match(r);  //返回数组[&quot;how&quot;]</pre>
3)&nbsp;匹配每一个单词
<pre class="javascript">
var r = /\w+/g;
var a = s.match(r);  //返回数组[&quot;how&quot;,&quot;are&quot;,&quot;you&quot;]</pre>
<h2>
	声明词量</h2>
声明表示条件的意思。声明词量包括正向声明和反向声明两种模式。
<h4>
	正向声明</h4>
指定匹配模式后面的字符必须被匹配，但又不返回这些字符。语法格式如下：
<p class="info-box">
	匹配模式 (?=&nbsp;匹配条件)</p>
声明包含在小括号内，它不是分组，因此作为子表达式。<br />
<br />
下面代码定义一个正前向生命的匹配模式。
<pre class="javascript">
var s = &quot;one : 1; two : 2&quot;;
var r = /\w*(?==)/;  //使用正前向声明，指定执行匹配必须满足的条件
var a = s.match(r);  //返回数组[&quot;two&quot;]</pre>
在上面示例中，通过<code style="font-size: 14px;">?==</code>锚定条件，指定只有在 \w* 所能够匹配的字符后面跟随一个等号字符，才能够执行 \w*&nbsp;匹配。所以，最后匹配的字符串&ldquo;two&rdquo;，而不是字符串&ldquo;one&rdquo;。
<h4>
	反向声明</h4>
与正向声明匹配相反，指定接下来的字符都不必被匹配。语法格式如下：
<p class="info-box">
	匹配模式(?!&nbsp;匹配条件)</p>
<br />
下面代码定义一个反前向生命的匹配模式。
<pre class="javascript">
var s = &quot;one : 1; two : 2&quot;;
var r = /\w*(?!=)/;  //使用正前向声明，指定执行匹配不必满足的条件
var a = s.match(r);  //返回数组[&quot;one&quot;]</pre>
在上面示例中，通过<code style="font-size: 14px;">?!=</code>锚定条件，指定只有在&ldquo;\w*&rdquo;所能够匹配的字符后面不跟随一个等号字符，才能够执行 \w*匹配。所以，最后匹配的是字符串&ldquo;one&rdquo;，而不是字符串&ldquo;two&rdquo;。
<h2>
	子表达式</h2>
使用小括号可以对字符模式进行任意分组，在小括号内的字符串表示子表达式，也称为子模式。子表达式具有独立的匹配功能，保存独立的匹配结果；同时，小括号后的量词将会作用于整个子表达式。<br />
<br />
通过分组可以在一个完整的字符模式中定义一个或多个子模式。当正则表达式成功地匹配目标字符串后，也可以从目标字符串中抽出与子模式相匹配的子内容。
<h4>
	示例</h4>
在下面代码中，不仅能匹配出每个变量声明，同时还抽出每个变量及其值。
<pre class="javascript">
var s = &quot;ab=21, bc=45, cd=43&quot;;
var r = /(\w+)=(\d*)/g;
while (a = r.exec(s)) {
    console.log(a);  //返回类似[&quot;ab=21&quot;,&quot;bc=45&quot;,&quot;cd=43&quot;]三个数组
}</pre>
<h2>
	反向引用</h2>
在字符模式中，后面的字符可以引用前面的子表达式。实现方法如下：
<p class="info-box">
	\+&nbsp;数字</p>
数字指定了子表达式在字符模式中的顺序。如&ldquo;\1&rdquo;引用的是第 1&nbsp;个子表达式，&ldquo;\2&rdquo;引用的是第 2&nbsp;个子表达式。
<h4>
	示例1</h4>
在下面代码中，通过引用前面子表达式匹配的文本，实现成组匹配字符串。
<pre class="javascript">
var s = &quot;&lt;h1&gt;title&lt;h1&gt;&lt;p&gt;text&lt;p&gt;&quot;;
var r = /(&lt;\/?\w+&gt;)\1/g;
var a = s.match(r);  //返回数组[&quot;&lt;h1&gt;title&lt;h1&gt;&quot;,&quot;&lt;p&gt;text&lt;p&gt;&quot;]</pre>
<br />
由于子表达式可以相互嵌套，它们的顺序将根据左括号的顺序来确定。例如，下面示例定义匹配模式包含多个子表达式。
<pre class="javascript">
var s = &quot;abc&quot;;
var r = /(a(b(c)))/;
var a = s.match(r);  //返回数组[&quot;abc&quot;,&quot;abc&quot;,&quot;bc&quot;,&quot;c&quot;]</pre>
在这个模式中，共产生了 3&nbsp;个反向引用，第一个是&ldquo;(a(b(c)))&rdquo;，第二个是&ldquo;(b(c))&rdquo;，第三个是&ldquo;(C)&rdquo;。它们引用的匹配文本分别是字符串&ldquo;abc&rdquo;、&ldquo;bc&rdquo;和&ldquo;c&rdquo;。<br />
<br />
对子表达式的引用，是指引用前面子表达式所匹配的文本，而不是子表达式的匹配模式。如果要引用前面子表达式的匹配模式，则必须使用下面方式，只有这样才能够达到匹配目的。
<pre class="javascript">
var s = &quot;&lt;h1&gt;title&lt;/h1&gt;&lt;p&gt;text&lt;/p&gt;&quot;;
var r = /((&lt;\/?\w+&gt;).*(&lt;\/?\w+&gt;))/g;
var a = s.match(r);  //返回数组[&quot;&lt;h1&gt;title&lt;/h1&gt;&quot;,&quot;&lt;p&gt;text&lt;/p&gt;&quot;]</pre>
<br />
反向引用在开发中主要有以下几种常规用法。
<h4>
	示例2</h4>
在正则表达式对象的&nbsp;test()&nbsp;方法中，以及字符串对象的&nbsp;match()&nbsp;和&nbsp;search()&nbsp;等方法中使用。在这些方法中，反向引用的值可以从 RegExp()&nbsp;构造函数中获得。
<pre class="javascript">
var s = &quot;abcdefghijklmn&quot;;
var r = /(\w)(\w)(\w)/;
r.test(s);
console.log(RegExp.$1);  //返回第1个子表达式匹配的字符a
console.log(RegExp.$2);  //返回第2个子表达式匹配的字符b
console.log(RegExp.$3);  //返回第3个子表达式匹配的字符c</pre>
通过上面示例可以看到，正则表达式执行匹配检测后，所有子表达式匹配的文本都被分组存储在 RegExp()&nbsp;构造函数的属性内，通过前缀符号<code style="font-size: 14px;">$</code>与正则表达式中子表达式的编号来引用这些临时属性。其中属性 $1&nbsp;标识符指向第 1&nbsp;个值引用，属性 $2&nbsp;标识符指向第 2&nbsp;个值引用。
<h4>
	示例3</h4>
可以直接在定义的字符模式中包含反向引用。这可以通过使用特殊转义序列（如 \1、\2 等）来实现。
<pre class="javascript">
var s = &quot;abcbcacba&quot;;
var r = /(\w)(\w)(\w)\2\3\1\3\2\1/;
var b = r.test(s);  //验证正则表达式是否匹配该字符串
console.log(b);  //返回true</pre>
在上面示例的正则表达式中，&ldquo;\1&rdquo;表示对第 1&nbsp;个反向引用 (\w)&nbsp;所匹配的字符&nbsp;a&nbsp;进行引用，&ldquo;\2&rdquo;表示对第 2&nbsp;个反向引用 (\w)&nbsp;所匹配的字符串&nbsp;b&nbsp;进行引用，&ldquo;\3&rdquo;表示对第 3&nbsp;个反向引用 (\w)&nbsp;所匹配的字符&nbsp;c&nbsp;进行引用。
<h4>
	示例4</h4>
可以在字符串对象的&nbsp;replace()&nbsp;方法中使用。通过使用特殊字符序列$1、$2、$3&nbsp;等来实现。例如，在下面的示例中将颠倒相邻字母和数字的位置。
<pre class="javascript">
var s = &quot;aa11bb22c3d4e5f6&quot;;
var r = /(\w+?)(\d+)/g;
var b = s.replace(r,&quot;$2$1&quot;);
console.log(b);  //返回字符串&ldquo;aa11bb22c3  d4e5f6&rdquo;</pre>
在上面例子中，正则表达式包括两个分组，第 1&nbsp;个分组匹配任意连续的字母，第 2&nbsp;个分组匹配任意连续的数字。在&nbsp;replace()&nbsp;方法的第 2&nbsp;个参数中，$1&nbsp;表示对正则表达式中第 1&nbsp;个子表达式匹配文本的引用，而 $2&nbsp;表示对正则表达式中第 2&nbsp;个子表达式匹配文本的引用，通过颠倒 $1&nbsp;和 $2&nbsp;标识符的位置，即可实现字符串的颠倒来替换原字符串。
<h2>
	禁止引用</h2>
反向引用会占用一定的系统资源，在较长的正则表达式中，反向引用会降低匹配速度。如果分组仅仅是为了方便操作，可以禁止反向引用。<br />
<br />
实现方法：在左括号的后面加上一个问号和冒号。
<pre class="javascript">
var s1 = &quot;abc&quot;;
var r = /(?:\w*?)|(?:\d*?)/;
var a = r.test(si);</pre>
非引用型分组必须使用子表达式，但是又不希望存储无用的匹配信息，或者希望提高匹配速度来说，是非常重用的方法。<br />
</div>
	<div id="ggxc-weixin-arcbottom">
	<p>关注公众号「<span class="col-green">站长严长生</span>」，在手机上阅读所有教程，随时随地都能学习。内含一款搜索神器，免费下载全网书籍和视频。</p>
	<p style="margin-top:12px; text-align:center;">
		<img src="../templets/new/images/material/qrcode_mp_4.png" alt="公众号二维码" width="160" /><br />
		<span class="col-green">微信扫码关注公众号</span>
	</p>
</div>
	<div id="nice-arcs" class="box-bottom">
    <h4>推荐阅读</h4>
    <ul class="clearfix">
<li><a href="niz69i_8.html" title="一套完整的嵌入式开发学习路线（高薪就业版）" target="_blank">一套完整的嵌入式开发学习路线（高薪就业版）</a></li>
<li><a href="tnnfqo_4.html" title="一套课程卖1万，TMD太贵了！" target="_blank">一套课程卖1万，TMD太贵了！</a></li>
<li><a href="unnurw_4.html" title="跑了3000公里，见了一位大佬" target="_blank">跑了3000公里，见了一位大佬</a></li>
<li><a href="vip_7056_2.html" title="Java利用StringBuffer替换特殊字符" target="_blank">Java利用StringBuffer替换特殊字符</a></li>
<li><a href="vip_7309_2.html" title="示例：聊天机器人" target="_blank">示例：聊天机器人</a></li>
<li><a href="8120_2.html" title="Django文件上传与CSV文件下载" target="_blank">Django文件上传与CSV文件下载</a></li>
<li><a href="../mongodb2/data-type_2.html" title="MongoDB数据类型汇总" target="_blank">MongoDB数据类型汇总</a></li>
<li><a href="9451_2.html" title="Dev C++调试程序方法详解" target="_blank">Dev C++调试程序方法详解</a></li>
<li><a href="../tkinter/project-case_2.html" title="案例：构建数字时钟" target="_blank">案例：构建数字时钟</a></li>
<li><a href="3l3gkh8_2.html" title="《Web前端开发项目实践教程》PDF下载（高清完整版）" target="_blank">《Web前端开发项目实践教程》PDF下载（高清完整版）</a></li>
</ul>
</div>
	
</div>
<script type="text/javascript">
// 当前文章ID
window.arcIdRaw = 'a_' + 5632;
window.arcId = "8b3bTTp2v2hZw7jGxE+NDcKbfn4yJuBtK5IQwhu1D+oAlf9rtGEkD1wuH5E";
window.typeidChain = "309|119";
</script>
<div id="footer" class="clearfix">
	<div class="info left">
	<p>精美而实用的网站，分享优质编程教程，帮助有志青年。千锤百炼，只为大作；精益求精，处处斟酌；这种教程，看一眼就倾心。</p>
	<p>
		<a href="8066_2.html" target="_blank" rel="nofollow">关于网站</a> <span>|</span>
		<a href="8092_3.html" target="_blank" rel="nofollow">关于站长</a> <span>|</span>
		<a href="8097_2.html" target="_blank" rel="nofollow">如何完成一部教程</a> <span>|</span>
		<a href="9648_2.html" target="_blank" rel="nofollow">公众号</a> <span>|</span>
		<a href="8093_2.html" target="_blank" rel="nofollow">联系我们</a> <span>|</span>
		<a href="../sitemap/sitemap_2.html" target="_blank" rel="nofollow">网站地图</a>
	</p>
	<p>Copyright ©2012-2022 biancheng.net, <a href="https://beian.miit.gov.cn" target="_blank" rel="nofollow" style="color:#666;">冀ICP备2022013920号</a>, <img height="13" src="../templets/new/images/gongan_2.png" alt="公安备案图标" /><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=13110202001352" target="_blank" rel="nofollow" style="color:#666;">冀公网安备13110202001352号</a>
	</p>
	</div>
	<img id="logo_bottom" class="right" src="https://m.biancheng.net/templets/new/images/logo_bottom_2.gif" alt="底部Logo" />
	<span id="return-top"><b>↑</b></span>
</div>

<div id="addweixin-widget">
	<p>
		<script type="text/javascript">
			/*var suffix = 'c';
			var thisMin = (new Date()).getMinutes();
			if(thisMin>=40){
				suffix = 'd';
			}else if(thisMin>=20){
				suffix = 'e';
			}else{
				suffix = 'c';
			}
			document.write('<img src="https://m.biancheng.net/templets/new/images/material/qrcode_wx_'%20+%20suffix%20+'.png?v=1.7.07" alt="微信交流群" width="120" /><br />');*/
		</script>
		<img src="https://m.biancheng.net/templets/new/images/material/qrcode_mp_4.png" alt="微信交流群" width="120" />
		<span>关注微信公众号，加入官方交流群。内含一款搜索神器，免费下载全网书籍和视频。</span>
	</p>
	<span id="close-addweixin-widget" class="iconfont iconfont-close"></span>
</div>

<script type="text/javascript">
window.siteId = 4;
window.cmsTemplets = "/templets/new";
window.cmsTempletsVer = "1.7.07";

</script>

<script src="https://m.biancheng.net/templets/new/script/jquery1.12.4.min_2.js"></script>
<script src="https://m.biancheng.net/templets/new/script/common_2.js"></script>
<!-- 51la V6 -->
<span style="display: none;">
<script charset="UTF-8" id="LA_COLLECT" src="https://sdk.51.la/js-sdk-pro.min.js"></script>
<script>LA.init({id:"KDf6QzBhogyQjall",ck:"KDf6QzBhogyQjall",autoTrack:true})</script>
</span>
<!-- 51la V5 -->
<!-- <span style="display: none;"><script type="text/javascript" src="https://js.users.51.la/21368967.js"></script></span> -->
</body>
</html>