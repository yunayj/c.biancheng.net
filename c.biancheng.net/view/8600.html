<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="renderer" content="webkit" />
<meta name="force-rendering" content="webkit"/>
<meta name="applicable-device" content="pc,mobile" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="format-detection" content="telephone=no" />
<link rel="shortcut icon" href="../favicon.ico" />
<link href="../templets/new/style/common.css" rel="stylesheet" />
<title>C++11 tuple元组详解</title>
<meta name="description" content="C++11 标准新引入了一种类模板，命名为 tuple（中文可直译为元组）。tuple 最大的特点是：实例化的对象可以存储任意数量、任意类型的数据。 tuple 的应用场景很广泛，例如当需要存储多" />
</head>
<body>
<div id="topbar" class="clearfix">
<ul id="product-type" class="left">
<li>
<a href="../c_biancheng_default.html"><span class="iconfont iconfont-home"></span>首页</a>
</li>
<li class="active">
<a href="../sitemap/sitemap_3.html" rel="nofollow"><span class="iconfont iconfont-book"></span>教程</a>
</li>
<li>
<a href="http://vip.biancheng.net/p/vip/show.php" rel="nofollow" target="_blank"><span class="iconfont iconfont-vip"></span>VIP会员</a>
</li>
<li>
<a href="../fudao_biancheng_default.html" rel="nofollow" target="_blank"><span class="iconfont iconfont-fudao"></span>辅导班</a>
</li>
<li>
<a href="niz69i.html" target="_blank"><span class="iconfont iconfont-chip"></span>嵌入式学习路线</a>
</li>
</ul>
</div>
<div id="header" class="clearfix">
<a id="logo" class="left" href="../c_biancheng_default.html">
<img height="26" src="../templets/new/images/logo.png" alt="C语言中文网" />
</a>
<ul id="nav-main" class="hover-none left clearfix">
<li class="wap-yes"><a href="../c_biancheng_default.html">首页</a></li>
<li><a href="../c/c_3.html">C语言教程</a></li>
<li><a href="../cplus/cplus.html">C++教程</a></li>
<li><a href="../python/python.html">Python教程</a></li>
<li><a href="../java/java_3.html">Java教程</a></li>
<li><a href="../linux_tutorial/linux_tutorial.html">Linux入门</a></li>
<li><a href="../sitemap/sitemap_3.html" title="网站地图">更多&gt;&gt;</a></li>
</ul>
<span id="sidebar-toggle" class="toggle-btn" toggle-target="#sidebar">目录 <span class="iconfont"></span></span>
<a href="http://vip.biancheng.net/?from=topbar" class="user-info iconfont iconfont-user hover-none" target="_blank" rel="nofollow" title="用户中心"></a>
</div>
<div id="main" class="clearfix">
<div id="sidebar" class="toggle-target">
<div id="contents">
<dt><span class="iconfont iconfont-list-vertical" aria-hidden="true"></span><a href="../cplus/11/11.html">C++11</a></dt>
<dd>
<span class="channel-num">1</span>
<a href="7751.html">C++ 11是什么，C++ 11标准的由来</a>
</dd>
<dd>
<span class="channel-num">2</span>
<a href="6984.html">C++ auto类型推导</a>
</dd>
<dd>
<span class="channel-num">3</span>
<a href="7151.html">C++ decltype类型推导</a>
</dd>
<dd>
<span class="channel-num">4</span>
<a href="vip_8670.html">汇总auto和decltype的区别</a><span class="iconfont iconfont-vip2"></span>
</dd>
<dd>
<span class="channel-num">5</span>
<a href="3727.html">C++返回值类型后置</a>
</dd>
<dd>
<span class="channel-num">6</span>
<a href="vip_3729.html">C++11对模板实例化中连续右尖括号&gt;&gt;的改进</a><span class="iconfont iconfont-vip2"></span>
</dd>
<dd>
<span class="channel-num">7</span>
<a href="3730.html">C++11使用using定义别名</a>
</dd>
<dd>
<span class="channel-num">8</span>
<a href="3734.html">C++11支持函数模板的默认模板参数</a>
</dd>
<dd>
<span class="channel-num">9</span>
<a href="vip_8692.html">C++11在函数模板和类模板中使用可变参数</a><span class="iconfont iconfont-vip2"></span>
</dd>
<dd>
<span class="channel-num">10</span>
<a href="8600.html">C++11 tuple元组</a>
</dd>
<dd>
<span class="channel-num">11</span>
<a href="3737.html">C++11列表初始化</a>
</dd>
<dd>
<span class="channel-num">12</span>
<a href="7818.html">C++11 lambda匿名函数</a>
</dd>
<dd>
<span class="channel-num">13</span>
<a href="7165.html">C++11非受限联合体（union）</a>
</dd>
<dd>
<span class="channel-num">14</span>
<a href="7759.html">C++11 for循环（基于范围的循环）详解</a>
</dd>
<dd>
<span class="channel-num">15</span>
<a href="vip_7760.html">使用C++11标准的for循环，这些坑千万别踩！</a><span class="iconfont iconfont-vip2"></span>
</dd>
<dd>
<span class="channel-num">16</span>
<a href="7781.html">C++11 constexpr：验证是否为常量表达式</a>
</dd>
<dd>
<span class="channel-num">17</span>
<a href="vip_8693.html">C++11 constexpr和const的区别</a><span class="iconfont iconfont-vip2"></span>
</dd>
<dd>
<span class="channel-num">18</span>
<a href="7809.html">C++11 long long超长整形详解</a>
</dd>
<dd>
<span class="channel-num">19</span>
<a href="7829.html">C++11右值引用</a>
</dd>
<dd>
<span class="channel-num">20</span>
<a href="vip_8694.html">C++11移动构造函数的功能和用法</a><span class="iconfont iconfont-vip2"></span>
</dd>
<dd>
<span class="channel-num">21</span>
<a href="7863.html">C++11 move()函数：将左值强制转换为右值</a>
</dd>
<dd>
<span class="channel-num">22</span>
<a href="8598.html">C++11引用限定符</a>
</dd>
<dd>
<span class="channel-num">23</span>
<a href="vip_8695.html">C++11完美转发及其实现</a><span class="iconfont iconfont-vip2"></span>
</dd>
<dd>
<span class="channel-num">24</span>
<a href="7887.html">C++11 nullptr：初始化空指针</a>
</dd>
<dd>
<span class="channel-num">25</span>
<a href="7898.html">C++11 shared_ptr智能指针</a>
</dd>
<dd>
<span class="channel-num">26</span>
<a href="vip_8672.html">C++11 unique_ptr智能指针</a><span class="iconfont iconfont-vip2"></span>
</dd>
<dd>
<span class="channel-num">27</span>
<a href="vip_8673.html">C++11 weak_ptr智能指针</a><span class="iconfont iconfont-vip2"></span>
</dd>
</div>
</div>
<div id="article-wrap">
<div id="article">
<div class="arc-info">
<span class="position"><span class="iconfont iconfont-home2"></span> <a href="../c_biancheng_default.html">首页</a> &gt; <a href="../cplus/11/11.html">C++11</a></span>
</div>
<div id="ggxc-position-bottom" class="ggxc-box"></div>
<h1>C++11 tuple元组详解</h1>
<div id="ggxc-arctop-pc-1" class="ggxc-box"></div>
<div id="arc-body">C++11 标准新引入了一种类模板，命名为 tuple（中文可直译为元组）。tuple 最大的特点是：实例化的对象可以存储任意数量、任意类型的数据。<br />
<br />
tuple 的应用场景很广泛，例如当需要存储多个不同类型的元素时，可以使用 tuple；当函数需要返回多个数据时，可以将这些数据存储在 tuple 中，函数只需返回一个 tuple 对象即可。<br />
<br />
本节，我们将给大家详细地讲解 tuple 的用法。
<h2>
tuple对象的创建</h2>
tuple 本质是一个以可变模板参数定义的类模板，它定义在 &lt;tuple&gt; 头文件并位于 std 命名空间中。因此要想使用 tuple 类模板，程序中需要首先引入以下代码：
<pre class="cpp">
#include &lt;tuple&gt;
using std::tuple;</pre>
实例化 tuple 模板类对象常用的方法有两种，一种是借助该类的构造函数，另一种是借助 make_tuple() 函数。
<h4>
1) 类的构造函数</h4>
tuple 模板类提供有很多构造函数，包括：
<pre class="info-box">
1) 默认构造函数
constexpr tuple();
2) 拷贝构造函数
tuple (const tuple&amp; tpl);
3) 移动构造函数
tuple (tuple&amp;&amp; tpl);
4) 隐式类型转换构造函数
template &lt;class... UTypes&gt;
    tuple (const tuple&lt;UTypes...&gt;&amp; tpl); //左值方式
template &lt;class... UTypes&gt;
    tuple (tuple&lt;UTypes...&gt;&amp;&amp; tpl);      //右值方式
5) 支持初始化列表的构造函数
explicit tuple (const Types&amp;... elems);  //左值方式
template &lt;class... UTypes&gt;
    explicit tuple (UTypes&amp;&amp;... elems);  //右值方式
6) 将pair对象转换为tuple对象
template &lt;class U1, class U2&gt;
    tuple (const pair&lt;U1,U2&gt;&amp; pr);       //左值方式
template &lt;class U1, class U2&gt;
    tuple (pair&lt;U1,U2&gt;&amp;&amp; pr);            //右值方式</pre>
<br />
举个例子：
<pre class="cpp">
#include &lt;iostream&gt;     // std::cout
#include &lt;tuple&gt;        // std::tuple
using std::tuple;

int main()
{
    std::tuple&lt;int, char&gt; first;                             // 1)   first{}
    std::tuple&lt;int, char&gt; second(first);                     // 2)   second{}
    std::tuple&lt;int, char&gt; third(std::make_tuple(20, &#39;b&#39;));   // 3)   third{20,&#39;b&#39;}
    std::tuple&lt;long, char&gt; fourth(third);                    // 4)的左值方式, fourth{20,&#39;b&#39;}
    std::tuple&lt;int, char&gt; fifth(10, &#39;a&#39;);                    // 5)的右值方式, fifth{10.&#39;a&#39;}
    std::tuple&lt;int, char&gt; sixth(std::make_pair(30, &#39;c&#39;));    // 6)的右值方式, sixth{30,&#39;&#39;c}
    return 0;
}</pre>
<h4>
2) make_tuple()函数</h4>
上面程序中，我们已经用到了 make_tuple() 函数，它以模板的形式定义在 &lt;tuple&gt; 头文件中，功能是创建一个 tuple 右值对象（或者临时对象）。<br />
<br />
对于 make_tuple() 函数创建了 tuple 对象，我们可以上面程序中那样作为移动构造函数的参数，也可以这样用：
<pre class="cpp">
auto first = std::make_tuple (10,&#39;a&#39;);   // tuple &lt; int, char &gt;
const int a = 0; int b[3];
auto second = std::make_tuple (a,b);     // tuple &lt; int, int* &gt;</pre>
程序中分别创建了 first 和 second 两个 tuple 对象，它们的类型可以直接用 auto 表示。
<h2>
tuple常用函数</h2>
为了方便您在实际开发中使用 tuple 对象，tupe 模板类提供了一个功能实用的成员函数，&lt;tuple&gt; 头文件中也提供了一些和操作 tuple 对象相关的函数模板和类模板，如表 1 所示。<br />
<br />
<table>
<caption>
表 1 tuple 对象常用函数</caption>
<tbody>
<tr>
<th>
函数或类模板</th>
<th>
描 述</th>
</tr>
<tr>
<td>
tup1.swap(tup2)<br />
swap(tup1, tup2)</td>
<td>
tup1 和 tup2 表示类型相同的两个 tuple 对象，tuple 模板类中定义有一个 swap() 成员函数，&lt;tuple&gt; 头文件还提供了一个同名的 swap() 全局函数。<br />
<br />
swap() 函数的功能是交换两个 tuple 对象存储的内容。</td>
</tr>
<tr>
<td>
get&lt;num&gt;(tup)</td>
<td>
tup 表示某个 tuple 对象，num 是一个整数，get() 是 &lt;tuple&gt; 头文件提供的全局函数，功能是返回 tup 对象中第 num+1 个元素。</td>
</tr>
<tr>
<td>
tuple_size&lt;type&gt;::value</td>
<td>
tuple_size 是定义在 &lt;tuple&gt; 头文件的类模板，它只有一个成员变量 value，功能是获取某个 tuple 对象中元素的个数，type 为该tuple 对象的类型。</td>
</tr>
<tr>
<td>
tuple_element&lt;I, type&gt;::type</td>
<td>
tuple_element 是定义在 &lt;tuple&gt; 头文件的类模板，它只有一个成员变量 type，功能是获取某个 tuple 对象第 I+1 个元素的类型。</td>
</tr>
<tr>
<td>
forward_as_tuple&lt;args...&gt;</td>
<td>
args... 表示&nbsp;tuple 对象存储的多个元素，该函数的功能是创建一个 tuple 对象，内部存储的 args... 元素都是右值引用形式的。</td>
</tr>
<tr>
<td>
tie(args...) = tup</td>
<td>
tup 表示某个 tuple 对象，tie() 是&nbsp;&lt;tuple&gt; 头文件提供的，功能是将 tup 内存储的元素逐一赋值给 args... 指定的左值变量。</td>
</tr>
<tr>
<td>
tuple_cat(args...)</td>
<td>
args... 表示多个 tuple 对象，该函数是&nbsp;&lt;tuple&gt; 头文件提供的，功能是创建一个 tuple 对象，此对象包含 args... 指定的所有 tuple 对象内的元素。</td>
</tr>
</tbody>
</table>
<blockquote>
<p>
tuple 模板类对赋值运算符 = 进行了重载，使得同类型的 tuple 对象可以直接赋值。此外，tuple 模板类还重载了 ==、!=、&lt;、&gt;、&gt;=、&lt;= 这几个比较运算符，同类型的 tuple 对象可以相互比较（逐个比较各个元素）。</p>
</blockquote>
下面的程序给您演示了表 1 中一部分函数模板和类模板的功能：
<pre class="cpp">
#include &lt;iostream&gt;
#include &lt;tuple&gt;

int main()
{
    int size;
    //创建一个 tuple 对象存储 10 和 &#39;x&#39;
    std::tuple&lt;int, char&gt; mytuple(10, &#39;x&#39;);
    //计算 mytuple 存储元素的个数
    size = std::tuple_size&lt;decltype(mytuple)&gt;::value;
    //输出 mytuple 中存储的元素
    std::cout &lt;&lt; std::get&lt;0&gt;(mytuple) &lt;&lt; &quot; &quot; &lt;&lt; std::get&lt;1&gt;(mytuple) &lt;&lt; std::endl;
    //修改指定的元素
    std::get&lt;0&gt;(mytuple) = 100;
    std::cout &lt;&lt; std::get&lt;0&gt;(mytuple) &lt;&lt; std::endl;
    //使用 makde_tuple() 创建一个 tuple 对象
    auto bar = std::make_tuple(&quot;test&quot;, 3.1, 14);
    //拆解 bar 对象，分别赋值给 mystr、mydou、myint
    const char* mystr = nullptr;
    double mydou;
    int myint;
    //使用 tie() 时，如果不想接受某个元素的值，实参可以用 std::ignore 代替
    std::tie(mystr, mydou, myint) = bar;
    //std::tie(std::ignore, std::ignore, myint) = bar;  //只接收第 3 个整形值
    //将 mytuple 和 bar 中的元素整合到 1 个 tuple 对象中
    auto mycat = std::tuple_cat(mytuple, bar);
    size = std::tuple_size&lt;decltype(mycat)&gt;::value;
    std::cout &lt;&lt; size &lt;&lt; std::endl;
    return 0;
}</pre>
程序执行结果为：
<p class="info-box">
10 x<br />
100<br />
5</p>
</div>
<div id="ggxc-weixin-arcbottom">
<p>关注公众号「<span class="col-green">站长严长生</span>」，在手机上阅读所有教程，随时随地都能学习。内含一款搜索神器，免费下载全网书籍和视频。</p>
<p style="margin-top:12px; text-align:center;">
<img src="../templets/new/images/material/qrcode_mp.png" alt="公众号二维码" width="160" /><br />
<span class="col-green">微信扫码关注公众号</span>
</p>
</div>
<div id="nice-arcs" class="box-bottom">
<h4>推荐阅读</h4>
<ul class="clearfix">
<li><a href="niz69i_4.html" title="一套完整的嵌入式开发学习路线（高薪就业版）" target="_blank">一套完整的嵌入式开发学习路线（高薪就业版）</a></li>
<li><a href="tnnfqo_2.html" title="一套课程卖1万，TMD太贵了！" target="_blank">一套课程卖1万，TMD太贵了！</a></li>
<li><a href="unnurw_2.html" title="跑了3000公里，见了一位大佬" target="_blank">跑了3000公里，见了一位大佬</a></li>
<li><a href="2556.html" title="Python写入文件（write和writelines）详解" target="_blank">Python写入文件（write和writelines）详解</a></li>
<li><a href="vip_3451.html" title="内部排序算法的优势分析" target="_blank">内部排序算法的优势分析</a></li>
<li><a href="6423.html" title="Linux是什么，有哪些特点？" target="_blank">Linux是什么，有哪些特点？</a></li>
<li><a href="8629.html" title="pthread_cancel()函数：终止线程执行" target="_blank">pthread_cancel()函数：终止线程执行</a></li>
<li><a href="../mybatis/set.html" title="MyBatis set标签" target="_blank">MyBatis set标签</a></li>
<li><a href="9418.html" title="Qt QListWidget列表框用法详解" target="_blank">Qt QListWidget列表框用法详解</a></li>
<li><a href="9426.html" title="Qt QFormLayout表单布局的用法（超级详细）" target="_blank">Qt QFormLayout表单布局的用法（超级详细）</a></li>
</ul>
</div>
</div>
</div>
</div>
<script type="text/javascript">
// 当前文章ID
window.arcIdRaw = 'a_' + 8600;
window.arcId = "38acyW6YWrXbMBRtD1GxnyfrqPFWK+1gincfh0JPNnxonvjtI15tT3tTK1I";
window.typeidChain = "337";
</script>
<div id="footer" class="clearfix">
<div class="info left">
<p>精美而实用的网站，分享优质编程教程，帮助有志青年。千锤百炼，只为大作；精益求精，处处斟酌；这种教程，看一眼就倾心。</p>
<p>
<a href="8066.html" target="_blank" rel="nofollow">关于网站</a> <span>|</span>
<a href="8092_2.html" target="_blank" rel="nofollow">关于站长</a> <span>|</span>
<a href="8097.html" target="_blank" rel="nofollow">如何完成一部教程</a> <span>|</span>
<a href="9648.html" target="_blank" rel="nofollow">公众号</a> <span>|</span>
<a href="8093.html" target="_blank" rel="nofollow">联系我们</a> <span>|</span>
<a href="../sitemap/sitemap_3.html" target="_blank" rel="nofollow">网站地图</a>
</p>
<p>Copyright ©2012-2022 biancheng.net, <a href="https://beian.miit.gov.cn" target="_blank" rel="nofollow" style="color:#666;">冀ICP备2022013920号</a>, <img height="13" src="../templets/new/images/gongan.png" alt="公安备案图标" /><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=13110202001352" target="_blank" rel="nofollow" style="color:#666;">冀公网安备13110202001352号</a>
</p>
</div>
<img id="logo_bottom" class="right" src="https://c.biancheng.net/templets/new/images/logo_bottom.gif" alt="底部Logo" />
<span id="return-top"><b>↑</b></span>
</div>
<div id="addweixin-widget">
<p>
<script type="text/javascript">
			/*var suffix = 'c';
			var thisMin = (new Date()).getMinutes();
			if(thisMin>=40){
				suffix = 'd';
			}else if(thisMin>=20){
				suffix = 'e';
			}else{
				suffix = 'c';
			}
			document.write('<img src="https://c.biancheng.net/templets/new/images/material/qrcode_wx_'%20+%20suffix%20+'.png?v=1.7.07" alt="微信交流群" width="120" /><br />');*/
		</script>
<img src="../templets/new/images/material/qrcode_mp_2.png" alt="微信交流群" width="120" />
<span>关注微信公众号，加入官方交流群。内含一款搜索神器，免费下载全网书籍和视频。</span>
</p>
<span id="close-addweixin-widget" class="iconfont iconfont-close"></span>
</div>
<script type="text/javascript">
window.siteId = 4;
window.cmsTemplets = "/templets/new";
window.cmsTempletsVer = "1.7.07";

</script>
<script src="../templets/new/script/jquery1.12.4.min.js"></script>
<script src="https://c.biancheng.net/templets/new/script/common.js"></script>
<span style="display: none;">
<script charset="UTF-8" id="LA_COLLECT" src="https://sdk.51.la/js-sdk-pro.min.js"></script>
<script>LA.init({id:"KDf6QzBhogyQjall",ck:"KDf6QzBhogyQjall",autoTrack:true})</script>
</span>
</body>
</html>