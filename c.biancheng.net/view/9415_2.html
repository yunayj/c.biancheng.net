<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
<!-- 启用Chromium高速渲染模式 -->
<meta name="renderer" content="webkit" />
<meta name="force-rendering" content="webkit"/>
<!-- 禁止百度转码 -->
<meta name="applicable-device" content="pc,mobile" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<!-- 禁止识别电话号码 -->
<meta name="format-detection" content="telephone=no" />

<link rel="shortcut icon" href="../favicon_3.ico" />
<link href="../templets/new/style/common_2.css" rel="stylesheet" />
<title>Qt QLabel文本框的使用</title>
<meta name="description" content="QLabel 是 Qt 帮我们写好的一个控件类，间接继承自 QWidget 类，它的继承关系如下： QLabel - QFrame - QWidget 从字面上理解，QLabel 可以解释为Qt 的 Label，即 Qt 提供给我们的一种文本控件，它的" />
</head>
<body>
<div id="topbar" class="clearfix">
	<ul id="product-type" class="left">
		<li>
			<a href="../m_biancheng_default_2.html"><span class="iconfont iconfont-home"></span>首页</a>
		</li>
		<li class="active">
			<a href="../sitemap/sitemap_2.html" rel="nofollow"><span class="iconfont iconfont-book"></span>教程</a>
		</li>
		<li>
			<a href="http://vip.biancheng.net/p/vip/show.php" rel="nofollow" target="_blank"><span class="iconfont iconfont-vip"></span>VIP会员</a>
		</li>
		<li>
			<a href="../fudao_biancheng_default.html" rel="nofollow" target="_blank"><span class="iconfont iconfont-fudao"></span>辅导班</a>
		</li>
		<li>
			<a href="niz69i_5.html" target="_blank"><span class="iconfont iconfont-chip"></span>嵌入式学习路线</a>
		</li>
		<!-- <li>
			<a href="https://www.54benniao.com/c_course/?from=biancheng" target="_blank"><span class="iconfont iconfont-c-course"></span>C语言高级课程</a>
		</li>
		<li>
			<a href="https://www.54benniao.com/java_course/?from=biancheng" target="_blank"><span class="iconfont iconfont-java-course"></span>Java高级课程</a>
		</li>
		<li>
			<a href="http://vip.biancheng.net/p/q2a/show.php" rel="nofollow" target="_blank"><span class="iconfont iconfont-q2a"></span>一对一答疑</a>
		</li> -->
	</ul>
</div>
<div id="header" class="clearfix">
	<a id="logo" class="left" href="../m_biancheng_default_2.html">
		<img height="26" src="../templets/new/images/logo_2.png" alt="C语言中文网" />
	</a>
	<ul id="nav-main" class="hover-none left clearfix">
		<li class="wap-yes"><a href="../m_biancheng_default_2.html">首页</a></li>
		<li><a href="../c/c_4.html">C语言教程</a></li>
		<li><a href="../cplus/cplus_2.html">C++教程</a></li>
		<li><a href="../python/python_2.html">Python教程</a></li>
		<li><a href="../java/java_2.html">Java教程</a></li>
		<li><a href="../linux_tutorial/linux_tutorial_2.html">Linux入门</a></li>
		<li><a href="../sitemap/sitemap_2.html" title="网站地图">更多&gt;&gt;</a></li>
	</ul>
	<a href="http://vip.biancheng.net/?from=topbar" class="user-info iconfont iconfont-user hover-none" target="_blank" rel="nofollow" title="用户中心"></a>
</div>
<div id="main-no-course" class="clearfix">
	<div class="arc-info">
		<span class="position"><span class="iconfont iconfont-home2"></span> <a href="../m_biancheng_default_2.html">首页</a> &gt; 编程笔记</span>
	</div>
	<div id="ggxc-position-bottom" class="ggxc-box"></div>
	<h1>Qt QLabel文本框的使用</h1>
	<div id="ggxc-arctop-pc-1" class="ggxc-box"></div>
	<div id="arc-body">QLabel 是 Qt 帮我们写好的一个控件类，间接继承自 QWidget 类，它的继承关系如下：
<p class="info-box">
	QLabel -&gt; QFrame -&gt; QWidget</p>
从字面上理解，QLabel 可以解释为&ldquo;Qt 的 Label&rdquo;，即 Qt 提供给我们的一种文本控件，它的基础功能是显示一串文本。例如，下图就是一个普通的文本框：<br />
<br />
<div style="text-align: center;">
	<img alt="" src="../uploads/allimg/211028/163425H30-0_2.gif" /><br />
	图 1 QLabel控件</div>
<br />
除了显示一串文本外，QLabel 控件上还可以放置图片、超链接、动画等内容。例如：<br />
<br />
<div style="text-align: center;">
	<img alt="" src="../uploads/allimg/211028/1634254553-1_2.gif" /><br />
	图 2 QLabel放置图片和超链接文字</div>
<br />
本质上，每个文本框都是 QLabel 类的一个实例对象。QLabel 类提供了两个构造函数，分别是：<br />
<p class="info-box">
	QLabel(QWidget *parent = Q_NULLPTR, Qt::WindowFlags f = Qt::WindowFlags())<br />
	QLabel(const QString &amp;text, QWidget *parent = Q_NULLPTR, Qt::WindowFlags f = Qt::WindowFlags())</p>
各个参数的含义分别是：
<ul>
	<li>
		text 参数用于指定文本框中显示的文字；</li>
	<li>
		parent 参数用于指定文本框的父窗口；</li>
	<li>
		WindowFlags 是一种枚举类型，f 参数用来设置文本框的一些系统属性和外观属性，默认值为 Qt::Widget，表示当不指定父窗口时，文本框将作为一个独立窗口（如图 1、2 所示），反之则作为父窗口中的一个控件。f 参数的可选值有很多，比如&nbsp;Qt::Window 表示文本框将作为一个独立的窗口，它自带边框和标题栏，Qt::ToolTip 表示文本框将作为一个提示窗口，不带边框和标题栏等等，这里不再一一列举。</li>
</ul>
<br />
需要注意的是，第一个构造函数中的 parent 和 f 参数都有默认值，因此 QLabel 类还隐含了一个默认构造函数。也就是说，创建&nbsp; QLable 对象时可以不传递任何参数，或者只给 txt 参数传递一个字符串，就可以成功创建一个文本框。通常情况下，我们会给 text 和 parent 参数传递相应的值，即在创建文本框的同时指定文本内容和父窗口。<br />
<h2>
	QLabel文本框的使用</h2>
QLabel 类本身提供有很多属性和方法，它还从父类继承了很多属性和方法。下表给大家罗列了 QLabel 类常用的一些属性和方法：<br />
<br />
<table>
	<caption>
		表 1 QLabel 常用属性</caption>
	<tbody>
		<tr>
			<th>
				属 性</th>
			<th>
				含 义</th>
		</tr>
		<tr>
			<td>
				alignment</td>
			<td>
				保存 QLabel 控件中内容的对齐方式，默认情况下，QLabel 控件中的内容保持左对齐和垂直居中。<br />
				<br />
				该属性的值可以通过调用 alignment() 方法获得，可以借助&nbsp;setAlignment() 方法修改。</td>
		</tr>
		<tr>
			<td>
				text</td>
			<td>
				保存 QLabel 控件中的文本，如果 QLabel 控件中没有文本，则 text 的值为空字符串，<br />
				<br />
				该属性的值可以通过 text() 方法获得，可以借助&nbsp;setText() 方法修改。</td>
		</tr>
		<tr>
			<td>
				pixmap</td>
			<td>
				保存 QLabel 控件内显示的图片，如果控件内没有设置图片，pixmap 的值为 0。<br />
				<br />
				该属性的值可以通过调用 pixmap() 方法获得，可以借助 setPixmap() 方法修改。</td>
		</tr>
		<tr>
			<td>
				selectedText</td>
			<td>
				保存 QLabel 控件中被选择了的文本，当没有文本被选择时，selectedText 的值为空字符串。<br />
				<br />
				该属性的值可以通过调用 selectedText() 方法获得。</td>
		</tr>
		<tr>
			<td>
				hasSelectedText</td>
			<td>
				判断用户是否选择了 QLabel 控件内的部分文本，如果是则返回 true，反之则返回 false。默认情况下，该属性的值为 false。</td>
		</tr>
		<tr>
			<td>
				indent</td>
			<td>
				保存 QLabel 控件内文本的缩进量，文本的缩进方向和 alignment 属性的值有关。<br />
				<br />
				该属性的值可以通过调用 indent() 方法获得，可以借助 setIndent() 方法修改。</td>
		</tr>
		<tr>
			<td>
				margin</td>
			<td>
				保存 QLabel 控件中内容与边框之间的距离（边距），margin 的默认值为 0。<br />
				<br />
				该属性的值可以通过调用 margin() 方法获得，可以借助 setMargin() 方法修改。</td>
		</tr>
		<tr>
			<td>
				wordWrap</td>
			<td>
				保存 QLabel 控件内文本的换行策略。当该属性的值为 true 时，控件内的文本会在必要时自动换行。默认情况下，控件内的文本是禁止自动换行的。<br />
				<br />
				该属性的值可以通过 wordWrap() 方法获得，可以借助 setWordWrap() 方法修改。</td>
		</tr>
	</tbody>
</table>
<br />
除了上表中提到了获取和修改属性值得成员方法外，下表给大家罗列了一些常用的操作 QLabel 控件的成员方法，它们有些定义在 QLabel 类内，有些是通过继承父类得到的：<br />
<br />
<table>
	<caption>
		表 2 操作QLabel的常用方法</caption>
	<tbody>
		<tr>
			<th>
				成员方法</th>
			<th>
				功 能</th>
		</tr>
		<tr>
			<td>
				hide()</td>
			<td>
				隐藏文本框。</td>
		</tr>
		<tr>
			<td>
				clear()</td>
			<td>
				清空 QLabel 控件内所有显示的内容。</td>
		</tr>
		<tr>
			<td>
				setToolTip(QString)</td>
			<td>
				设置信息提示，当用户的鼠标放在QLabel 文本框上时会自动跳出文字。&nbsp;</td>
		</tr>
		<tr>
			<td>
				setToolTipDuration(int)</td>
			<td>
				设置提示信息出现的时间，单位是毫秒。&nbsp;</td>
		</tr>
		<tr>
			<td>
				setStyleSheet(QString)</td>
			<td>
				设置 QLabel 文本框的样式。</td>
		</tr>
		<tr>
			<td>
				setGeometry(int x, int y, int w, int h)</td>
			<td>
				设置 QLabel 文本框的位置 (x,&nbsp;y) 以及尺寸 (w, h)。</td>
		</tr>
	</tbody>
</table>
<h2>
	QLabel文本框的信号和槽</h2>
QLabel 控件只用来显示文本、图像等内容，很好与用户交互。但是，当 QLabel 控件内包含超链接内容时，可以使用 QLabel 类提供的两个信号函数：<br />
<br />
<table>
	<caption>
		表 2 QLabel信号函数</caption>
	<tbody>
		<tr>
			<th>
				信号函数</th>
			<th>
				功 能</th>
		</tr>
		<tr>
			<td>
				linkActivated(const QString &amp;link)</td>
			<td>
				用户点击超链接时触发，link 参数用于向槽函数传输超链接的 URL。</td>
		</tr>
		<tr>
			<td>
				linkHovered(const QString &amp;link)</td>
			<td>
				用户的鼠标悬停到超链接位置时触发，link 参数用于向槽函数传输超链接的 URL。</td>
		</tr>
	</tbody>
</table>
<br />
QLabel 控件提供了很多槽函数，如下表所示：<br />
<br />
<table>
	<caption>
		表 3 QLabel槽函数</caption>
	<tbody>
		<tr>
			<th>
				槽函数</th>
			<th>
				功 能</th>
		</tr>
		<tr>
			<td>
				clear()</td>
			<td>
				清空 QLabel 控件内所有的内容。</td>
		</tr>
		<tr>
			<td>
				setMovie(QMovie *movie)</td>
			<td>
				清空 QLabel 控件内所有的内容，改为显示指定的 movie 动画。</td>
		</tr>
		<tr>
			<td>
				setNum(int num)</td>
			<td>
				清空 QLabel 控件内所有的内容，改为显示&nbsp;num 整数的值。</td>
		</tr>
		<tr>
			<td>
				setNum(double num)</td>
			<td>
				清空 QLabel 控件内所有的内容，改为显示 num 小数的值。</td>
		</tr>
		<tr>
			<td>
				setPicture(const QPicture &amp;picture)</td>
			<td>
				清空 QLabel 控件内所有的内容，改为显示经 QPicture 类处理的图像。</td>
		</tr>
		<tr>
			<td>
				setPixmap(const QPixmap &amp;)</td>
			<td>
				清空 QLabel 控件内所有的内容，改为显示经 QPixmap 类处理的图像。</td>
		</tr>
		<tr>
			<td>
				setText(const QString &amp;)</td>
			<td>
				清空 QLabel 控件内所有的内容，改为显示指定的文本。</td>
		</tr>
	</tbody>
</table>
<br />
除了表 2、3 罗列的这些信号和槽函数外，QLabel 类还从父类处继承了一些信号和槽函数，这里不再一一罗列。<br />
<h2>
	实例演示QLabel文本框的用法</h2>
接下来通过一个实例，给大家演示 QLabel 控件中一些属性和方法的用法。
<pre class="cpp">
#include &lt;QApplication&gt;
#include &lt;QLabel&gt;

int main(int argc, char *argv[])
{
    QApplication a(argc, argv);
    //创建一个文本框
    QLabel lab;
    //设置文本框内容居中显示
    lab.setAlignment(Qt::AlignCenter);
    //设置文本框的坐标和尺寸
    lab.setGeometry(100,100,400,400);
    //设置文本框的外观，包括字体的大小和颜色、按钮的背景色
    lab.setStyleSheet(&quot;QLabel{font:30px;color:red;background-color:rgb(f9,f9,f9);}&quot;);
    //设置文本框要显示超链接内容
    lab.setText(&quot;&lt;a href=\&quot;http://c.biancheng.net\&quot;&gt;C语言中文网&quot;);
    //当用户鼠标位于文本框上时，显示提示内容
    lab.setToolTip(&quot;点击超链接显示URL&quot;);
    //提示内容显示 1 秒
    lab.setToolTipDuration(1000);
    //为文本框设置信号和槽，当用户点击超链接时，将文本框内容改为超链接的 URL
    QObject::connect(&amp;lab,&amp;QLabel::linkActivated,&amp;lab,&amp;QLabel::setText);
    //程序运行后，文本框显示
    lab.show();

    return a.exec();
}</pre>
执行结果如下图所示，用户最先看到的是图 3a)，当用户鼠标移动到文本框区域内时，会提示&ldquo;点击超链接显示URL&rdquo;，提示时间为 1 秒。当用户点击&ldquo;C语言中文网&rdquo;时会触发 linkActivated() 信号函数，该函数会调用 setText() 函数，将文本框中显示的&ldquo;C语言中文网&rdquo;改为&ldquo;http://c.biancheng.net&rdquo;，字体颜色为红色，如图 3b) 所示。<br />
<br />
<div style="text-align: center;">
	<img alt="" src="../uploads/allimg/211028/1634253214-2_2.gif" /></div>
<p style="text-align: center;">
	图 3 程序运行结果</p>
<blockquote>
	<p>
		有关 QLabel 类提供的更多属性和方法，后续章节用到时会做详细地讲解，您也可以借助 Qt Creator 提供的 Qt 帮助手册自行查看 QLabel 类提供的成员。</p>
</blockquote>
</div>
	<div id="ggxc-weixin-arcbottom">
	<p>关注公众号「<span class="col-green">站长严长生</span>」，在手机上阅读所有教程，随时随地都能学习。内含一款搜索神器，免费下载全网书籍和视频。</p>
	<p style="margin-top:12px; text-align:center;">
		<img src="../templets/new/images/material/qrcode_mp_4.png" alt="公众号二维码" width="160" /><br />
		<span class="col-green">微信扫码关注公众号</span>
	</p>
</div>
	<div id="nice-arcs" class="box-bottom">
    <h4>推荐阅读</h4>
    <ul class="clearfix">
<li><a href="niz69i_8.html" title="一套完整的嵌入式开发学习路线（高薪就业版）" target="_blank">一套完整的嵌入式开发学习路线（高薪就业版）</a></li>
<li><a href="tnnfqo_4.html" title="一套课程卖1万，TMD太贵了！" target="_blank">一套课程卖1万，TMD太贵了！</a></li>
<li><a href="unnurw_4.html" title="跑了3000公里，见了一位大佬" target="_blank">跑了3000公里，见了一位大佬</a></li>
<li><a href="2267_2.html" title="Python类调用实例方法" target="_blank">Python类调用实例方法</a></li>
<li><a href="7215_2.html" title="数据库的种类有哪些？" target="_blank">数据库的种类有哪些？</a></li>
<li><a href="7971_2.html" title="GCC -E选项：对源程序做预处理操作" target="_blank">GCC -E选项：对源程序做预处理操作</a></li>
<li><a href="../jsp2/taglib_2.html" title="JSP taglib指令" target="_blank">JSP taglib指令</a></li>
<li><a href="../ml_alg/dcision-cut_2.html" title="决策树算法和剪枝原理" target="_blank">决策树算法和剪枝原理</a></li>
<li><a href="../c/cbrt_2.html" title="C语言cbrt()：求立方根" target="_blank">C语言cbrt()：求立方根</a></li>
<li><a href="qtj7n44_2.html" title="《Web前端一站式开发手册：HTML5+CSS3+JavaScript》PDF下载（高清完整版）" target="_blank">《Web前端一站式开发手册：HTML5+CSS3+JavaScript》PDF下载（高清完整版）</a></li>
</ul>
</div>
	
</div>
<script type="text/javascript">
// 当前文章ID
window.arcIdRaw = 'a_' + 9415;
window.arcId = "20eaI94EKXrZEwLzTDr7Bz4JxgJVtGqnmBzaubhVXRf75o+X2b6RJ3kdWEY";
window.typeidChain = "294|119";
</script>
<div id="footer" class="clearfix">
	<div class="info left">
	<p>精美而实用的网站，分享优质编程教程，帮助有志青年。千锤百炼，只为大作；精益求精，处处斟酌；这种教程，看一眼就倾心。</p>
	<p>
		<a href="8066_2.html" target="_blank" rel="nofollow">关于网站</a> <span>|</span>
		<a href="8092_3.html" target="_blank" rel="nofollow">关于站长</a> <span>|</span>
		<a href="8097_2.html" target="_blank" rel="nofollow">如何完成一部教程</a> <span>|</span>
		<a href="9648_2.html" target="_blank" rel="nofollow">公众号</a> <span>|</span>
		<a href="8093_2.html" target="_blank" rel="nofollow">联系我们</a> <span>|</span>
		<a href="../sitemap/sitemap_2.html" target="_blank" rel="nofollow">网站地图</a>
	</p>
	<p>Copyright ©2012-2022 biancheng.net, <a href="https://beian.miit.gov.cn" target="_blank" rel="nofollow" style="color:#666;">冀ICP备2022013920号</a>, <img height="13" src="../templets/new/images/gongan_2.png" alt="公安备案图标" /><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=13110202001352" target="_blank" rel="nofollow" style="color:#666;">冀公网安备13110202001352号</a>
	</p>
	</div>
	<img id="logo_bottom" class="right" src="https://m.biancheng.net/templets/new/images/logo_bottom_2.gif" alt="底部Logo" />
	<span id="return-top"><b>↑</b></span>
</div>

<div id="addweixin-widget">
	<p>
		<script type="text/javascript">
			/*var suffix = 'c';
			var thisMin = (new Date()).getMinutes();
			if(thisMin>=40){
				suffix = 'd';
			}else if(thisMin>=20){
				suffix = 'e';
			}else{
				suffix = 'c';
			}
			document.write('<img src="https://m.biancheng.net/templets/new/images/material/qrcode_wx_'%20+%20suffix%20+'.png?v=1.7.07" alt="微信交流群" width="120" /><br />');*/
		</script>
		<img src="https://m.biancheng.net/templets/new/images/material/qrcode_mp_4.png" alt="微信交流群" width="120" />
		<span>关注微信公众号，加入官方交流群。内含一款搜索神器，免费下载全网书籍和视频。</span>
	</p>
	<span id="close-addweixin-widget" class="iconfont iconfont-close"></span>
</div>

<script type="text/javascript">
window.siteId = 4;
window.cmsTemplets = "/templets/new";
window.cmsTempletsVer = "1.7.07";

</script>

<script src="https://m.biancheng.net/templets/new/script/jquery1.12.4.min_2.js"></script>
<script src="https://m.biancheng.net/templets/new/script/common_2.js"></script>
<!-- 51la V6 -->
<span style="display: none;">
<script charset="UTF-8" id="LA_COLLECT" src="https://sdk.51.la/js-sdk-pro.min.js"></script>
<script>LA.init({id:"KDf6QzBhogyQjall",ck:"KDf6QzBhogyQjall",autoTrack:true})</script>
</span>
<!-- 51la V5 -->
<!-- <span style="display: none;"><script type="text/javascript" src="https://js.users.51.la/21368967.js"></script></span> -->
</body>
</html>