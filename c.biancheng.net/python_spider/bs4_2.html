<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
<!-- 启用Chromium高速渲染模式 -->
<meta name="renderer" content="webkit" />
<meta name="force-rendering" content="webkit"/>
<!-- 禁止百度转码 -->
<meta name="applicable-device" content="pc,mobile" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<!-- 禁止识别电话号码 -->
<meta name="format-detection" content="telephone=no" />

<link rel="shortcut icon" href="../favicon_3.ico" />
<link href="../templets/new/style/common_2.css" rel="stylesheet" />
<title>Python BS4解析库用法详解</title>
<meta name="description" content="Beautiful Soup 简称 BS4（其中 4 表示版本号）是一个 Python 第三方库，它可以从 HTML 或 XML 文档中快速地提取指定的数据。Beautiful Soup 语法简单，使用方便，并且容易理解，因此您可以快速地" />
</head>
<body>
<div id="topbar" class="clearfix">
	<ul id="product-type" class="left">
		<li>
			<a href="../m_biancheng_default_2.html"><span class="iconfont iconfont-home"></span>首页</a>
		</li>
		<li class="active">
			<a href="../sitemap/sitemap_2.html" rel="nofollow"><span class="iconfont iconfont-book"></span>教程</a>
		</li>
		<li>
			<a href="http://vip.biancheng.net/p/vip/show.php" rel="nofollow" target="_blank"><span class="iconfont iconfont-vip"></span>VIP会员</a>
		</li>
		<li>
			<a href="../fudao_biancheng_default.html" rel="nofollow" target="_blank"><span class="iconfont iconfont-fudao"></span>辅导班</a>
		</li>
		<li>
			<a href="../view/niz69i_5.html" target="_blank"><span class="iconfont iconfont-chip"></span>嵌入式学习路线</a>
		</li>
		<!-- <li>
			<a href="https://www.54benniao.com/c_course/?from=biancheng" target="_blank"><span class="iconfont iconfont-c-course"></span>C语言高级课程</a>
		</li>
		<li>
			<a href="https://www.54benniao.com/java_course/?from=biancheng" target="_blank"><span class="iconfont iconfont-java-course"></span>Java高级课程</a>
		</li>
		<li>
			<a href="http://vip.biancheng.net/p/q2a/show.php" rel="nofollow" target="_blank"><span class="iconfont iconfont-q2a"></span>一对一答疑</a>
		</li> -->
	</ul>
</div>
<div id="header" class="clearfix">
	<a id="logo" class="left" href="../m_biancheng_default_2.html">
		<img height="26" src="../templets/new/images/logo_2.png" alt="C语言中文网" />
	</a>
	<ul id="nav-main" class="hover-none left clearfix">
		<li class="wap-yes"><a href="../m_biancheng_default_2.html">首页</a></li>
		<li><a href="../c/c_4.html">C语言教程</a></li>
		<li><a href="../cplus/cplus_2.html">C++教程</a></li>
		<li><a href="../python/python_2.html">Python教程</a></li>
		<li><a href="../java/java_2.html">Java教程</a></li>
		<li><a href="../linux_tutorial/linux_tutorial_2.html">Linux入门</a></li>
		<li><a href="../sitemap/sitemap_2.html" title="网站地图">更多&gt;&gt;</a></li>
	</ul>
	<span id="sidebar-toggle" class="toggle-btn" toggle-target="#sidebar">目录 <span class="iconfont"></span></span>

	<a href="http://vip.biancheng.net/?from=topbar" class="user-info iconfont iconfont-user hover-none" target="_blank" rel="nofollow" title="用户中心"></a>
</div>
<div id="main" class="clearfix">
	<div id="sidebar" class="toggle-target">
	<div id="contents">
		<dt><span class="iconfont iconfont-list-vertical" aria-hidden="true"></span><a href="python_spider_2.html">Python爬虫</a></dt>
		<dd>
        	<span class="channel-num">1</span>
        	<a href="what-is-spider_2.html">网络爬虫是什么</a>
        </dd>
<dd>
        	<span class="channel-num">2</span>
        	<a href="webpage_2.html">网页构成</a>
        </dd>
<dd>
        	<span class="channel-num">3</span>
        	<a href="static-and-dynamic_2.html">静态网页和动态网页</a>
        </dd>
<dd>
        	<span class="channel-num">4</span>
        	<a href="check-element_2.html">审查网页元素</a>
        </dd>
<dd>
        	<span class="channel-num">5</span>
        	<a href="preparatory-work_2.html">学习前的准备工作</a>
        </dd>
<dd>
        	<span class="channel-num">6</span>
        	<a href="the-first-spider_2.html">第一个Python爬虫程序</a>
        </dd>
<dd>
        	<span class="channel-num">7</span>
        	<a href="user-agent_2.html">User-Agent用户代理</a>
        </dd>
<dd>
        	<span class="channel-num">8</span>
        	<a href="useragent-pool_2.html">User-Agnet代理池</a>
        </dd>
<dd>
        	<span class="channel-num">9</span>
        	<a href="url-coding_2.html">URL编码和解码</a>
        </dd>
<dd>
        	<span class="channel-num">10</span>
        	<a href="crawl-webpage_2.html">[实例]爬虫抓取网页</a>
        </dd>
<dd>
        	<span class="channel-num">11</span>
        	<a href="case01_2.html">[实例]抓取百度贴吧数据</a>
        </dd>
<dd>
        	<span class="channel-num">12</span>
        	<a href="regexp-syntax_2.html">正则表达式语法</a>
        </dd>
<dd>
        	<span class="channel-num">13</span>
        	<a href="re-module_2.html">Python re模块用法</a>
        </dd>
<dd>
        	<span class="channel-num">14</span>
        	<a href="csv-module_2.html">Python csv模块</a>
        </dd>
<dd>
        	<span class="channel-num">15</span>
        	<a href="case02_2.html">[实例]抓取猫眼电影排行榜</a>
        </dd>
<dd>
        	<span class="channel-num">16</span>
        	<a href="pymysql_2.html">Python Pymysql存储数据</a>
        </dd>
<dd>
        	<span class="channel-num">17</span>
        	<a href="case03_2.html">[实例]抓取多级页面数据</a>
        </dd>
<dd>
        	<span class="channel-num">18</span>
        	<a href="requests_2.html">Python Requests库</a>
        </dd>
<dd>
        	<span class="channel-num">19</span>
        	<a href="crawl-photo_2.html">[实例]抓取网络照片</a>
        </dd>
<dd>
        	<span class="channel-num">20</span>
        	<a href="requests-args_2.html">Requests库方法和参数</a>
        </dd>
<dd>
        	<span class="channel-num">21</span>
        	<a href="switchyomega_2.html">Proxy SwitchyOmeg</a>
        </dd>
<dd>
        	<span class="channel-num">22</span>
        	<a href="xpath_2.html">Xpath简明教程</a>
        </dd>
<dd>
        	<span class="channel-num">23</span>
        	<a href="xpath-helper_2.html">Xpath Helper安装使用</a>
        </dd>
<dd>
        	<span class="channel-num">24</span>
        	<a href="lxml_2.html">Python lxml库</a>
        </dd>
<dd>
        	<span class="channel-num">25</span>
        	<a href="lxml-case_2.html">[实例]Python lxml应用</a>
        </dd>
<dd>
        	<span class="channel-num">26</span>
        	<a href="case04_2.html">[实例]抓取链家二手房数据</a>
        </dd>
<dd>
        	<span class="channel-num">27</span>
        	<a href="capture-package_2.html">浏览器实现抓包</a>
        </dd>
<dd>
        	<span class="channel-num">28</span>
        	<a href="case05_2.html">[实例]破解有道翻译</a>
        </dd>
<dd>
        	<span class="channel-num">29</span>
        	<a href="case06_2.html">[实例]抓取动态加载数据</a>
        </dd>
<dd>
        	<span class="channel-num">30</span>
        	<a href="json_2.html">Python json模块</a>
        </dd>
<dd>
        	<span class="channel-num">31</span>
        	<a href="cookie-login_2.html">[实例]Cookie模拟登录</a>
        </dd>
<dd>
        	<span class="channel-num">32</span>
        	<a href="multithreading_2.html">Python多线程爬虫</a>
        </dd>
<dd>
        	<span class="channel-num">33</span>
        	<a href="bs4_2.html">Python BS4解析库</a>
        </dd>
<dd>
        	<span class="channel-num">34</span>
        	<a href="case07_2.html">[实例]爬虫下载小说</a>
        </dd>
<dd>
        	<span class="channel-num">35</span>
        	<a href="selenium_2.html">Selenium下载和安装</a>
        </dd>
<dd>
        	<span class="channel-num">36</span>
        	<a href="selenium-using_2.html">Python Selenium用法</a>
        </dd>
<dd>
        	<span class="channel-num">37</span>
        	<a href="selenium-case_2.html">[实例]Selenium实战应用</a>
        </dd>
<dd>
        	<span class="channel-num">38</span>
        	<a href="scrapy_2.html">Python Scrapy爬虫框架</a>
        </dd>
<dd>
        	<span class="channel-num">39</span>
        	<a href="scrapy-case_2.html">[实例]Scrapy框架应用</a>
        </dd>

	</div>
</div>
	<div id="article-wrap">
		<div id="article">
			<div class="arc-info">
	<span class="position"><span class="iconfont iconfont-home2"></span> <a href="../m_biancheng_default_2.html">首页</a> &gt; <a href="python_spider_2.html">Python爬虫</a></span>
</div>

<div id="ggxc-position-bottom" class="ggxc-box"></div>
			<h1>Python BS4解析库用法详解</h1>
			<div class="pre-next-page clearfix">&nbsp;</div>
			<div id="ggxc-arctop-pc-1" class="ggxc-box"></div>
			<div id="arc-body">Beautiful Soup 简称 BS4（其中 4 表示版本号）是一个 Python 第三方库，它可以从 HTML 或 XML 文档中快速地提取指定的数据。Beautiful Soup 语法简单，使用方便，并且容易理解，因此您可以快速地学习并掌握它。本节我们讲解 BS4 的基本语法。<br />
<br />
<div style="text-align: center;">
	<img alt="beautiful soup库（bs4）" src="../uploads/allimg/210824/9-210R409192A32_2.gif" /><br />
	图1：BS4官网LOGO图</div>
<h2>
	BS4下载安装</h2>
由于 Bautiful Soup 是第三方库，因此需要单独下载，下载方式非常简单，执行以下命令即可安装：
<pre class="info-box">
pip install bs4</pre>
由于 BS4 解析页面时需要依赖文档解析器，所以还需要安装 lxml 作为解析库：
<pre class="info-box">
pip install lxml</pre>
Python 也自带了一个文档解析库 html.parser， 但是其解析速度要稍慢于 lxml。除了上述解析器外，还可以使用 html5lib 解析器，安装方式如下：
<pre class="info-box">
pip install html5lib</pre>
该解析器生成 HTML 格式的文档，但速度较慢。
<p class="tip-box">
	&ldquo;解析器容错&rdquo;指的是被解析的文档发生错误或不符合格式时，通过解析器的容错性仍然可以按照既定的正确格式实现解析。</p>
<h2>
	BS4解析对象</h2>
创建 BS4 解析对象是万事开头的第一步，这非常地简单，语法格式如下所示：<br />
<pre class="python">
#导入解析包
from bs4 import BeautifulSoup
#创建beautifulsoup解析对象
soup = BeautifulSoup(html_doc, &#39;html.parser&#39;)</pre>
上述代码中，html_doc 表示要解析的文档，而 html.parser 表示解析文档时所用的解析器，此处的解析器也可以是 &#39;lxml&#39; 或者 &#39;html5lib&#39;，示例代码如下所示：
<pre class="python">
#coding:utf8
html_doc = &quot;&quot;&quot;
&lt;html&gt;&lt;head&gt;&lt;title&gt;&quot;c语言中文网&quot;&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;p class=&quot;title&quot;&gt;&lt;b&gt;c.biancheng.net&lt;/b&gt;&lt;/p&gt;
&lt;p class=&quot;website&quot;&gt;一个学习编程的网站
&lt;a href=&quot;http://c.biancheng.net/python/&quot; id=&quot;link1&quot;&gt;python教程&lt;/a&gt;
&lt;a href=&quot;http://c.biancheng.net/c/&quot; id=&quot;link2&quot;&gt;c语言教程&lt;/a&gt;
&quot;&quot;&quot;
from bs4 import BeautifulSoup
soup = BeautifulSoup(html_doc, &#39;html.parser&#39;)
#prettify()用于格式化输出html/xml文档
print(soup.prettify())</pre>
输出结果：
<pre class="html">
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;
   &quot;c语言中文网&quot;
  &lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;p class=&quot;title&quot;&gt;
   &lt;b&gt;
    c.biancheng.net
   &lt;/b&gt;
  &lt;/p&gt;
  &lt;p class=&quot;website&quot;&gt;
   一个学习编程的网站
   &lt;a href=&quot;http://c.biancheng.net/python/&quot; id=&quot;link1&quot;&gt;
    python教程
   &lt;/a&gt;
   &lt;a href=&quot;http://c.biancheng.net/c/&quot; id=&quot;link2&quot;&gt;
    c语言教程
   &lt;/a&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
如果是外部文档，您也可以通过 open() 的方式打开读取，语法格式如下：
<pre class="info-box">
soup = BeautifulSoup(open(&#39;html_doc.html&#39;, encoding=&#39;utf8&#39;), &#39;lxml&#39;)</pre>
<h2>
	BS4常用语法</h2>
下面对爬虫中经常用到的 BS4 解析方法做详细介绍。<br />
<br />
Beautiful Soup 将 HTML 文档转换成一个树形结构，该结构有利于快速地遍历和搜索 HTML 文档。下面使用树状结构来描述一段 HTML 文档：
<pre class="info-box">
&lt;html&gt;&lt;head&gt;&lt;title&gt;c语言中文网&lt;/title&gt;&lt;/head&gt;&lt;h1&gt;c.biancheng.net&lt;/h1&gt;&lt;p&gt;&lt;b&gt;一个学习编程的网站&lt;/b&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</pre>
树状图如下所示：<br />
<div style="text-align: center;">
	<img alt="HTML文档树结构图" src="../uploads/allimg/210819/9-210Q9153041P7_2.gif" /><br />
	图1：HTML文档树结构图<br />
	&nbsp;</div>
文档树中的每个节点都是 Python 对象，这些对象大致分为四类：Tag , NavigableString , BeautifulSoup , Comment 。其中使用最多的是 Tag 和&nbsp;NavigableString。<br />
<ul>
	<li>
		Tag：标签类，HTML 文档中所有的标签都可以看做 Tag 对象。</li>
	<li>
		NavigableString：字符串类，指的是标签中的文本内容，使用&nbsp;text、string、strings 来获取文本内容。</li>
	<li>
		BeautifulSoup：表示一个 HTML 文档的全部内容，您可以把它当作一个人特殊的 Tag 对象。</li>
	<li>
		Comment：表示 HTML 文档中的注释内容以及特殊字符串，它是一个特殊的&nbsp;NavigableString。</li>
</ul>
<h4>
	1) Tag节点</h4>
标签（Tag）是组成 HTML 文档的基本元素。在 BS4 中，通过标签名和标签属性可以提取出想要的内容。看一组简单的示例：
<pre class="python">
from bs4 import BeautifulSoup
soup = BeautifulSoup(&#39;&lt;p class=&quot;Web site url&quot;&gt;&lt;b&gt;c.biancheng.net&lt;/b&gt;&lt;/p&gt;&#39;, &#39;html.parser&#39;)
#获取整个p标签的html代码
print(soup.p)
#获取b标签
print(soup.p.b)
#获取p标签内容，使用NavigableString类中的string、text、get_text()
print(soup.p.text)
#返回一个字典，里面是多有属性和值
print(soup.p.attrs)
#查看返回的数据类型
print(type(soup.p))
#根据属性，获取标签的属性值，返回值为列表
print(soup.p[&#39;class&#39;])
#给class属性赋值,此时属性值由列表转换为字符串
soup.p[&#39;class&#39;]=[&#39;Web&#39;,&#39;Site&#39;]
print(soup.p)</pre>
输出结果如下：
<pre class="info-box">
soup.p输出结果:
&lt;p class=&quot;Web site url&quot;&gt;&lt;b&gt;c.biancheng.net&lt;/b&gt;&lt;/p&gt;

soup.p.b输出结果：
&lt;b&gt;c.biancheng.net&lt;/b&gt;

soup.p.text输出结果：
c.biancheng.net

soup.p.attrs输出结果：
{&#39;class&#39;: [&#39;Web&#39;, &#39;site&#39;, &#39;url&#39;]}

type(soup.p)输出结果：
&lt;class &#39;bs4.element.Tag&#39;&gt;

soup.p[&#39;class&#39;]输出结果：
[&#39;Web&#39;, &#39;site&#39;, &#39;url&#39;]

class属性重新赋值：
&lt;p class=&quot;Web Site&quot;&gt;&lt;b&gt;c.biancheng.net&lt;/b&gt;&lt;/p&gt;</pre>
<h2>
	遍历节点</h2>
Tag 对象提供了许多遍历 tag 节点的属性，比如 contents、children 用来遍历子节点；parent 与 parents 用来遍历父节点；而 next_sibling 与&nbsp;previous_sibling 则用来遍历兄弟节点 。示例如下：
<pre class="python">
#coding:utf8
from bs4 import BeautifulSoup

html_doc = &quot;&quot;&quot;
&lt;html&gt;&lt;head&gt;&lt;title&gt;&quot;c语言中文网&quot;&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;p class=&quot;title&quot;&gt;&lt;b&gt;c.biancheng.net&lt;/b&gt;&lt;/p&gt;
&lt;p class=&quot;website&quot;&gt;一个学习编程的网站&lt;/p&gt;
&lt;a href=&quot;http://c.biancheng.net/python/&quot; id=&quot;link1&quot;&gt;python教程&lt;/a&gt;,
&lt;a href=&quot;http://c.biancheng.net/c/&quot; id=&quot;link2&quot;&gt;c语言教程&lt;/a&gt; and
&quot;&quot;&quot;
soup = BeautifulSoup(html_doc, &#39;html.parser&#39;)
body_tag=soup.body
print(body_tag)
#以列表的形式输出，所有子节点
print(body_tag.contents)</pre>
输出结果：<br />
<pre class="info-box">
&lt;body&gt;
&lt;p class=&quot;title&quot;&gt;&lt;b&gt;c.biancheng.net&lt;/b&gt;&lt;/p&gt;
&lt;p class=&quot;website&quot;&gt;一个学习编程的网站&lt;/p&gt;
&lt;a href=&quot;http://c.biancheng.net/python/&quot; id=&quot;link1&quot;&gt;python教程&lt;/a&gt;,
&lt;a href=&quot;http://c.biancheng.net/c/&quot; id=&quot;link2&quot;&gt;c语言教程&lt;/a&gt; and
&lt;/body&gt;
#以列表的形式输出
[&#39;\n&#39;, &lt;p class=&quot;title&quot;&gt;&lt;b&gt;c.biancheng.net&lt;/b&gt;&lt;/p&gt;, &#39;\n&#39;, &lt;p class=&quot;website&quot;&gt;一个学习编程的网站&lt;/p&gt;, &#39;\n&#39;, &lt;a href=&quot;http://c.biancheng.net/python/&quot; id=&quot;link1&quot;&gt;python教程&lt;/a&gt;, &#39;\n&#39;, &lt;a href=&quot;http://c.biancheng.net/c/&quot; id=&quot;link2&quot;&gt;c语言教程&lt;/a&gt;, &#39;\n&#39;]</pre>
Tag 的 children 属性会生成一个可迭代对象，可以用来遍历子节点，示例如下：
<pre class="python">
for child in body_tag.children:
    print(child)</pre>
输出结果：
<pre class="info-box">
#注意此处已将换行符&quot;\n&quot;省略
&lt;p class=&quot;title&quot;&gt;&lt;b&gt;c.biancheng.net&lt;/b&gt;&lt;/p&gt;
&lt;p class=&quot;website&quot;&gt;一个学习编程的网站&lt;/p&gt;</pre>
想了解更多相关示例可参考官方文档：<a href="https://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/#id18" target="_blank">点击前往</a>
<h2>
	find_all()与find()</h2>
find_all() 与 find() 是解析 HTML 文档的常用方法，它们可以在 HTML 文档中按照一定的条件（相当于过滤器）查找所需内容。find() 与 find_all() 的语法格式相似，希望大家在学习的时候，可以举一反三。
<p class="tip-box">
	BS4 库中定义了许多用于搜索的方法，find() 与 find_all() 是最为关键的两个方法，其余方法的参数和使用与其类似。</p>
<h4>
	1) find_all()</h4>
find_all() 方法用来搜索当前 tag 的所有子节点，并判断这些节点是否符合过滤条件，最后以列表形式将符合条件的内容返回，语法格式如下：
<pre class="info-box">
find_all( name , attrs , recursive , text , limit )</pre>
参数说明：
<ul>
	<li>
		name：查找所有名字为 name 的 tag 标签，字符串对象会被自动忽略。</li>
	<li>
		attrs：按照属性名和属性值搜索 tag 标签，注意由于 class 是 Python 的关键字吗，所以要使用 &quot;class_&quot;。</li>
	<li>
		recursive：find_all() 会搜索 tag 的所有子孙节点，设置 recursive=False 可以只搜索 tag 的直接子节点。</li>
	<li>
		text：用来搜文档中的字符串内容，该参数可以接受字符串 、正则表达式 、列表、True。</li>
	<li>
		limit：由于 find_all() 会返回所有的搜索结果，这样会影响执行效率，通过 limit 参数可以限制返回结果的数量。</li>
</ul>
<br />
find_all() 使用示例如下：
<pre class="python">
from bs4 import BeautifulSoup
import re

html_doc = &quot;&quot;&quot;
&lt;html&gt;&lt;head&gt;&lt;title&gt;&quot;c语言中文网&quot;&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;p class=&quot;title&quot;&gt;&lt;b&gt;c.biancheng.net&lt;/b&gt;&lt;/p&gt;
&lt;p class=&quot;website&quot;&gt;一个学习编程的网站&lt;/p&gt;
&lt;a href=&quot;http://c.biancheng.net/python/&quot; id=&quot;link1&quot;&gt;python教程&lt;/a&gt;
&lt;a href=&quot;http://c.biancheng.net/c/&quot; id=&quot;link2&quot;&gt;c语言教程&lt;/a&gt;
&lt;a href=&quot;http://c.biancheng.net/django/&quot; id=&quot;link3&quot;&gt;django教程&lt;/a&gt;
&lt;p class=&quot;vip&quot;&gt;加入我们阅读所有教程&lt;/p&gt;
&lt;a href=&quot;http://vip.biancheng.net/?from=index&quot; id=&quot;link4&quot;&gt;成为vip&lt;/a&gt;
&quot;&quot;&quot;
#创建soup解析对象
soup = BeautifulSoup(html_doc, &#39;html.parser&#39;)
#查找所有a标签并返回
print(soup.find_all(&quot;a&quot;))
#查找前两条a标签并返回
print(soup.find_all(&quot;a&quot;,limit=2))
#只返回两条a标签
</pre>
最后以列表的形式返回输出结果，如下所示：
<pre class="info-box">
[&lt;a href=&quot;http://c.biancheng.net/python/&quot; id=&quot;link1&quot;&gt;python教程&lt;/a&gt;, &lt;a href=&quot;http://c.biancheng.net/c/&quot; id=&quot;link2&quot;&gt;c语言教程&lt;/a&gt;, &lt;a href=&quot;http://c.biancheng.net/django/&quot; id=&quot;link3&quot;&gt;django教程&lt;/a&gt;, &lt;a href=&quot;http://vip.biancheng.net/?from=index&quot; id=&quot;link4&quot;&gt;成为vip&lt;/a&gt;]

[&lt;a href=&quot;http://c.biancheng.net/python/&quot; id=&quot;link1&quot;&gt;python教程&lt;/a&gt;, &lt;a href=&quot;http://c.biancheng.net/c/&quot; id=&quot;link2&quot;&gt;c语言教程&lt;/a&gt;]</pre>
按照标签属性以及属性值查找 HTML 文档，如下所示
<pre class="python">
print(soup.find_all(&quot;p&quot;,class_=&quot;website&quot;))
print(soup.find_all(id=&quot;link4&quot;))</pre>
输出结果：
<pre class="info-box">
[&lt;p class=&quot;website&quot;&gt;一个学习编程的网站&lt;/p&gt;]
[&lt;a href=&quot;http://vip.biancheng.net/?from=index&quot; id=&quot;link4&quot;&gt;成为vip&lt;/a&gt;]</pre>
正则表达式、列表，以及 True 也可以当做过滤条件，使用示例如下：<br />
<pre class="python">
#列表行书查找tag标签
print(soup.find_all([&#39;b&#39;,&#39;a&#39;]))
#正则表达式匹配id属性值
print(soup.find_all(&#39;a&#39;,id=re.compile(r&#39;.\d&#39;)))
print(soup.find_all(id=True))
#True可以匹配任何值，下面代码会查找所有tag，并返回相应的tag名称
for tag in soup.find_all(True):
    print(tag.name,end=&quot; &quot;)
#输出所有以b开始的tag标签
for tag in soup.find_all(re.compile(&quot;^b&quot;)):
&nbsp;&nbsp;&nbsp; print(tag.name)</pre>
输出结果如下：
<pre class="info-box">
第一个print输出：
[&lt;b&gt;c.biancheng.net&lt;/b&gt;, &lt;a href=&quot;http://c.biancheng.net/python/&quot; id=&quot;link1&quot;&gt;python教程&lt;/a&gt;, &lt;a href=&quot;http://c.biancheng.net/c/&quot; id=&quot;link2&quot;&gt;c语言教程&lt;/a&gt;, &lt;a href=&quot;http://c.biancheng.net/django/&quot; id=&quot;link3&quot;&gt;django教程&lt;/a&gt;, &lt;a href=&quot;http://vip.biancheng.net/?from=index&quot; id=&quot;link4&quot;&gt;成为vip&lt;/a&gt;]
第二个print输出：
[&lt;a href=&quot;http://c.biancheng.net/python/&quot; id=&quot;link1&quot;&gt;python教程&lt;/a&gt;, &lt;a href=&quot;http://c.biancheng.net/c/&quot; id=&quot;link2&quot;&gt;c语言教程&lt;/a&gt;, &lt;a href=&quot;http://c.biancheng.net/django/&quot; id=&quot;link3&quot;&gt;django教程&lt;/a&gt;, &lt;a href=&quot;http://vip.biancheng.net/?from=index&quot; id=&quot;link4&quot;&gt;成为vip&lt;/a&gt;]
第三个print输出：
[&lt;a href=&quot;http://c.biancheng.net/python/&quot; id=&quot;link1&quot;&gt;python教程&lt;/a&gt;, &lt;a href=&quot;http://c.biancheng.net/c/&quot; id=&quot;link2&quot;&gt;c语言教程&lt;/a&gt;, &lt;a href=&quot;http://c.biancheng.net/django/&quot; id=&quot;link3&quot;&gt;django教程&lt;/a&gt;, &lt;a href=&quot;http://vip.biancheng.net/?from=index&quot; id=&quot;link4&quot;&gt;成为vip&lt;/a&gt;]
第四个print输出：
html head title body p b p a a a p a
最后一个输出：
body b</pre>
BS4 为了简化代码，为 find_all() 提供了一种简化写法，如下所示：
<pre class="python">
#简化前
soup.find_all(&quot;a&quot;)
#简化后
soup(&quot;a&quot;)</pre>
上述两种的方法的输出结果是相同的。<br />
<h4>
	2) find()</h4>
find() 方法与 find_all() 类似，不同之处在于 find_all() 会将文档中所有符合条件的结果返回，而 find() 仅返回一个符合条件的结果，所以 find() 方法没有<code style="font-size: 14px;">limit</code>参数。使用示例如下：<br />
<pre class="python">
from bs4 import BeautifulSoup
import re

html_doc = &quot;&quot;&quot;
&lt;html&gt;&lt;head&gt;&lt;title&gt;&quot;c语言中文网&quot;&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;p class=&quot;title&quot;&gt;&lt;b&gt;c.biancheng.net&lt;/b&gt;&lt;/p&gt;
&lt;p class=&quot;website&quot;&gt;一个学习编程的网站&lt;/p&gt;
&lt;a href=&quot;http://c.biancheng.net/python/&quot; id=&quot;link1&quot;&gt;python教程&lt;/a&gt;
&lt;a href=&quot;http://c.biancheng.net/c/&quot; id=&quot;link2&quot;&gt;c语言教程&lt;/a&gt;
&lt;a href=&quot;http://c.biancheng.net/django/&quot; id=&quot;link3&quot;&gt;django教程&lt;/a&gt;
&lt;p class=&quot;vip&quot;&gt;加入我们阅读所有教程&lt;/p&gt;
&lt;a href=&quot;http://vip.biancheng.net/?from=index&quot; id=&quot;link4&quot;&gt;成为vip&lt;/a&gt;
&quot;&quot;&quot;
#创建soup解析对象
soup = BeautifulSoup(html_doc, &#39;html.parser&#39;)
#查找第一个a并直接返回结果
print(soup.find(&#39;a&#39;))
#查找title
print(soup.find(&#39;title&#39;))
#匹配指定href属性的a标签
print(soup.find(&#39;a&#39;,href=&#39;http://c.biancheng.net/python/&#39;))
#根据属性值正则匹配
print(soup.find(class_=re.compile(&#39;tit&#39;)))
#attrs参数值
print(soup.find(attrs={&#39;class&#39;:&#39;vip&#39;}))</pre>
输出结果如下：
<pre class="info-box">
a标签：
&lt;a href=&quot;http://c.biancheng.net/python/&quot; id=&quot;link1&quot;&gt;python教程&lt;/a&gt;
指定href属性：
&lt;a href=&quot;http://c.biancheng.net/python/&quot; id=&quot;link1&quot;&gt;python教程&lt;/a&gt;
title:
&lt;title&gt;&quot;c语言中文网&quot;&lt;/title&gt;
正则匹配：
&lt;p class=&quot;title&quot;&gt;&lt;b&gt;c.biancheng.net&lt;/b&gt;&lt;/p&gt;
#attrs参数值
&lt;p class=&quot;vip&quot;&gt;加入我们阅读所有教程&lt;/p&gt;</pre>
使用 find() 时，如果没有找到查询标签会返回 None，而 find_all() 方法返回空列表。示例如下：
<pre class="python">
print(soup.find(&#39;bdi&#39;))
print(soup.find_all(&#39;audio&#39;))</pre>
输出结果如下：
<pre class="info-box">
None
[]</pre>
BS4 也为 find()提供了简化写法，如下所示：
<pre class="python">
#简化写法
print(soup.head.title)
#上面代码等价于
print(soup.find(&quot;head&quot;).find(&quot;title&quot;))</pre>
两种写法的输出结果相同，如下所示：
<pre class="info-box">
&lt;title&gt;&quot;c语言中文网&quot;&lt;/title&gt;
&lt;title&gt;&quot;c语言中文网&quot;&lt;/title&gt;</pre>
<h2>
	CSS选择器</h2>
BS4 支持大部分的 CSS 选择器，比如常见的标签选择器、类选择器、id 选择器，以及层级选择器。Beautiful Soup 提供了一个 select() 方法，通过向该方法中添加选择器，就可以在 HTML 文档中搜索到与之对应的内容。应用示例如下：
<pre class="python">
#coding:utf8
html_doc = &quot;&quot;&quot;
&lt;html&gt;&lt;head&gt;&lt;title&gt;&quot;c语言中文网&quot;&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;p class=&quot;title&quot;&gt;&lt;b&gt;c.biancheng.net&lt;/b&gt;&lt;/p&gt;
&lt;p class=&quot;website&quot;&gt;一个学习编程的网站&lt;/p&gt;
&lt;a href=&quot;http://c.biancheng.net/python/&quot; id=&quot;link1&quot;&gt;python教程&lt;/a&gt;
&lt;a href=&quot;http://c.biancheng.net/c/&quot; id=&quot;link2&quot;&gt;c语言教程&lt;/a&gt;
&lt;a href=&quot;http://c.biancheng.net/django/&quot; id=&quot;link3&quot;&gt;django教程&lt;/a&gt;
&lt;p class=&quot;vip&quot;&gt;加入我们阅读所有教程&lt;/p&gt;
&lt;a href=&quot;http://vip.biancheng.net/?from=index&quot; id=&quot;link4&quot;&gt;成为vip&lt;/a&gt;
&lt;p class=&quot;introduce&quot;&gt;介绍:
&lt;a href=&quot;http://c.biancheng.net/view/8066.html&quot; id=&quot;link5&quot;&gt;关于网站&lt;/a&gt;
&lt;a href=&quot;http://c.biancheng.net/view/8092.html&quot; id=&quot;link6&quot;&gt;关于站长&lt;/a&gt;
&lt;/p&gt;
&quot;&quot;&quot;
from bs4 import BeautifulSoup

soup = BeautifulSoup(html_doc, &#39;html.parser&#39;)
#根据元素标签查找
print(soup.select(&#39;title&#39;))
#根据属性选择器查找
print(soup.select(&#39;a[href]&#39;))
#根据类查找
print(soup.select(&#39;.vip&#39;))
#后代节点查找
print(soup.select(&#39;html head title&#39;))
#查找兄弟节点
print(soup.select(&#39;p + a&#39;))
#根据id选择p标签的兄弟节点
print(soup.select(&#39;p ~ #link3&#39;))
#nth-of-type(n)选择器，用于匹配同类型中的第n个同级兄弟元素
print(soup.select(&#39;p ~ a:nth-of-type(1)&#39;))
#查找子节点
print(soup.select(&#39;p &gt; a&#39;))
print(soup.select(&#39;.introduce &gt; #link5&#39;))</pre>
输出结果：
<pre class="info-box">
第一个输出：
[&lt;title&gt;&quot;c语言中文网&quot;&lt;/title&gt;]

第二个输出：
[&lt;a href=&quot;http://c.biancheng.net/python/&quot; id=&quot;link1&quot;&gt;python教程&lt;/a&gt;, &lt;a href=&quot;http://c.biancheng.net/c/&quot; id=&quot;link2&quot;&gt;c语言教程&lt;/a&gt;, &lt;a href=&quot;http://c.biancheng.net/django/&quot; id=&quot;link3&quot;&gt;django教程&lt;/a&gt;, &lt;a href=&quot;http://vip.biancheng.net/?from=index&quot; id=&quot;link4&quot;&gt;成为vip&lt;/a&gt;, &lt;a href=&quot;http://c.biancheng.net/view/8066.html&quot; id=&quot;link5&quot;&gt;关于网站&lt;/a&gt;, &lt;a href=&quot;http://c.biancheng.net/view/8092.html&quot; id=&quot;link6&quot;&gt;关于站长&lt;/a&gt;]

第三个输出：
[&lt;p class=&quot;vip&quot;&gt;加入我们阅读所有教程&lt;/p&gt;]

第四个输出：
[&lt;title&gt;&quot;c语言中文网&quot;&lt;/title&gt;]

第五个输出：
[&lt;a href=&quot;http://c.biancheng.net/python/&quot; id=&quot;link1&quot;&gt;python教程&lt;/a&gt;, &lt;a href=&quot;http://vip.biancheng.net/?from=index&quot; id=&quot;link4&quot;&gt;成为vip&lt;/a&gt;]

第六个输出：
[&lt;a href=&quot;http://c.biancheng.net/django/&quot; id=&quot;link3&quot;&gt;django教程&lt;/a&gt;]

第七个输出：
[&lt;a href=&quot;http://c.biancheng.net/python/&quot; id=&quot;link1&quot;&gt;python教程&lt;/a&gt;]

第八个输出：
[&lt;a href=&quot;http://c.biancheng.net/view/8066.html&quot; id=&quot;link5&quot;&gt;关于网站&lt;/a&gt;, &lt;a href=&quot;http://c.biancheng.net/view/8092.html&quot; id=&quot;link6&quot;&gt;关于站长&lt;/a&gt;]

最后的print输出：
[&lt;a href=&quot;http://c.biancheng.net/view/8066.html&quot; id=&quot;link5&quot;&gt;关于网站&lt;/a&gt;]</pre>
如果想了解更多关于 BS4 库的使用方法，可以参考官方文档：<a href="https://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/#" target="_blank">https://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/#</a></div>
			<div id="ggxc-weixin-arcbottom">
	<p>关注公众号「<span class="col-green">站长严长生</span>」，在手机上阅读所有教程，随时随地都能学习。内含一款搜索神器，免费下载全网书籍和视频。</p>
	<p style="margin-top:12px; text-align:center;">
		<img src="../templets/new/images/material/qrcode_mp_4.png" alt="公众号二维码" width="160" /><br />
		<span class="col-green">微信扫码关注公众号</span>
	</p>
</div>
			<div class="pre-next-page clearfix">&nbsp;</div>
			<div id="nice-arcs" class="box-bottom">
    <h4>推荐阅读</h4>
    <ul class="clearfix">
<li><a href="../view/niz69i_8.html" title="一套完整的嵌入式开发学习路线（高薪就业版）" target="_blank">一套完整的嵌入式开发学习路线（高薪就业版）</a></li>
<li><a href="../view/tnnfqo_4.html" title="一套课程卖1万，TMD太贵了！" target="_blank">一套课程卖1万，TMD太贵了！</a></li>
<li><a href="../view/unnurw_4.html" title="跑了3000公里，见了一位大佬" target="_blank">跑了3000公里，见了一位大佬</a></li>
<li><a href="../view/93_2.html" title="Go语言goroutine（轻量级线程）" target="_blank">Go语言goroutine（轻量级线程）</a></li>
<li><a href="../view/934_2.html" title="Linux echo详解：输出命令" target="_blank">Linux echo详解：输出命令</a></li>
<li><a href="../view/1071_2.html" title="Linux pkill命令：终止进程，按终端号踢出用户" target="_blank">Linux pkill命令：终止进程，按终端号踢出用户</a></li>
<li><a href="../view/vip_6007_2.html" title="怎么避免Python程序出现死循环（无限循环）？" target="_blank">怎么避免Python程序出现死循环（无限循环）？</a></li>
<li><a href="../view/7488_2.html" title="MySQL删除用户（DROP/DELETE USER）" target="_blank">MySQL删除用户（DROP/DELETE USER）</a></li>
<li><a href="../spring/bean-definition_2.html" title="Spring Bean定义" target="_blank">Spring Bean定义</a></li>
<li><a href="../view/dtwrkay_2.html" title="Go语言常量（const）的使用" target="_blank">Go语言常量（const）的使用</a></li>
</ul>
</div>
		</div>
		
	</div>
</div>
<script type="text/javascript">
// 当前文章ID
window.arcIdRaw = 'a_' + 9087;
window.arcId = "68cfgEK2o5rzsPsjgy5U2ppvhuJu7bR7bYBgBvRs7/kPo1WXOXJmcsTHz1w";
window.typeidChain = "421";
</script>
<div id="footer" class="clearfix">
	<div class="info left">
	<p>精美而实用的网站，分享优质编程教程，帮助有志青年。千锤百炼，只为大作；精益求精，处处斟酌；这种教程，看一眼就倾心。</p>
	<p>
		<a href="../view/8066_2.html" target="_blank" rel="nofollow">关于网站</a> <span>|</span>
		<a href="../view/8092_3.html" target="_blank" rel="nofollow">关于站长</a> <span>|</span>
		<a href="../view/8097_2.html" target="_blank" rel="nofollow">如何完成一部教程</a> <span>|</span>
		<a href="../view/9648_2.html" target="_blank" rel="nofollow">公众号</a> <span>|</span>
		<a href="../view/8093_2.html" target="_blank" rel="nofollow">联系我们</a> <span>|</span>
		<a href="../sitemap/sitemap_2.html" target="_blank" rel="nofollow">网站地图</a>
	</p>
	<p>Copyright ©2012-2022 biancheng.net, <a href="https://beian.miit.gov.cn" target="_blank" rel="nofollow" style="color:#666;">冀ICP备2022013920号</a>, <img height="13" src="https://m.biancheng.net/templets/new/images/gongan_2.png" alt="公安备案图标" /><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=13110202001352" target="_blank" rel="nofollow" style="color:#666;">冀公网安备13110202001352号</a>
	</p>
	</div>
	<img id="logo_bottom" class="right" src="https://m.biancheng.net/templets/new/images/logo_bottom_2.gif" alt="底部Logo" />
	<span id="return-top"><b>↑</b></span>
</div>

<div id="addweixin-widget">
	<p>
		<script type="text/javascript">
			/*var suffix = 'c';
			var thisMin = (new Date()).getMinutes();
			if(thisMin>=40){
				suffix = 'd';
			}else if(thisMin>=20){
				suffix = 'e';
			}else{
				suffix = 'c';
			}
			document.write('<img src="https://m.biancheng.net/templets/new/images/material/qrcode_wx_'%20+%20suffix%20+'.png?v=1.7.07" alt="微信交流群" width="120" /><br />');*/
		</script>
		<img src="https://m.biancheng.net/templets/new/images/material/qrcode_mp_4.png" alt="微信交流群" width="120" />
		<span>关注微信公众号，加入官方交流群。内含一款搜索神器，免费下载全网书籍和视频。</span>
	</p>
	<span id="close-addweixin-widget" class="iconfont iconfont-close"></span>
</div>

<script type="text/javascript">
window.siteId = 4;
window.cmsTemplets = "/templets/new";
window.cmsTempletsVer = "1.7.07";
window.prePageURL = "/python_spider/multithreading.html";
window.nextPageURL = "/python_spider/case07.html";
</script>

<script src="https://m.biancheng.net/templets/new/script/jquery1.12.4.min_2.js"></script>
<script src="https://m.biancheng.net/templets/new/script/common_2.js"></script>
<!-- 51la V6 -->
<span style="display: none;">
<script charset="UTF-8" id="LA_COLLECT" src="https://sdk.51.la/js-sdk-pro.min.js"></script>
<script>LA.init({id:"KDf6QzBhogyQjall",ck:"KDf6QzBhogyQjall",autoTrack:true})</script>
</span>
<!-- 51la V5 -->
<!-- <span style="display: none;"><script type="text/javascript" src="https://js.users.51.la/21368967.js"></script></span> -->
</body>
</html>